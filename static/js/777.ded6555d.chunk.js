/*! For license information please see 777.ded6555d.chunk.js.LICENSE.txt */
(function(){var __webpack_modules__={1842:function(t,e,n){t.exports=function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){var n=e[a][1][t];return o(n||t)}),c,c.exports,t,e,n,r)}return n[a].exports}for(var i=void 0,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,r){(function(t){"use strict";var n,r,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var i=0,a=new o(l),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=i=++i%2}}else if(t.setImmediate||"undefined"===typeof t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var u=new t.MessageChannel;u.port1.onmessage=l,n=function(){u.port2.postMessage(0)}}var c=[];function l(){var t,e;r=!0;for(var n=c.length;n;){for(e=c,c=[],t=-1;++t<n;)e[t]();n=c.length}r=!1}function f(t){1!==c.push(t)||r||n()}e.exports=f}).call(this,"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function c(t){if("function"!==typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==o&&p(this,t)}function l(t,e,n){this.promise=t,"function"===typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"===typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(t,e,n){r((function(){var r;try{r=e(n)}catch(o){return i.reject(t,o)}r===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,r)}))}function d(t){var e=t&&t.then;if(t&&("object"===typeof t||"function"===typeof t)&&"function"===typeof e)return function(){e.apply(t,arguments)}}function p(t,e){var n=!1;function r(e){n||(n=!0,i.reject(t,e))}function o(e){n||(n=!0,i.resolve(t,e))}function a(){e(o,r)}var s=h(a);"error"===s.status&&r(s.value)}function h(t,e){var n={};try{n.value=t(e),n.status="success"}catch(r){n.status="error",n.value=r}return n}function g(t){return t instanceof this?t:i.resolve(new this(o),t)}function b(t){var e=new this(o);return i.reject(e,t)}function v(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,u=-1,c=new this(o);++u<n;)l(t[u],u);return c;function l(t,o){function u(t){a[o]=t,++s!==n||r||(r=!0,i.resolve(c,a))}e.resolve(t).then(u,(function(t){r||(r=!0,i.reject(c,t))}))}}function y(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a=-1,s=new this(o);++a<n;)u(t[a]);return s;function u(t){e.resolve(t).then((function(t){r||(r=!0,i.resolve(s,t))}),(function(t){r||(r=!0,i.reject(s,t))}))}}e.exports=c,c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){if("function"!==typeof t&&this.state===s||"function"!==typeof e&&this.state===a)return this;var n=new this.constructor(o);return this.state!==u?f(n,this.state===s?t:e,this.outcome):this.queue.push(new l(n,t,e)),n},l.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){i.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},i.resolve=function(t,e){var n=h(d,e);if("error"===n.status)return i.reject(t,n.value);var r=n.value;if(r)p(t,r);else{t.state=s,t.outcome=e;for(var o=-1,a=t.queue.length;++o<a;)t.queue[o].callFulfilled(e)}return t},i.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},c.resolve=g,c.reject=b,c.all=v,c.race=y},{1:1}],3:[function(t,e,r){(function(e){"use strict";"function"!==typeof e.Promise&&(e.Promise=t(2))}).call(this,"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(){try{if("undefined"!==typeof indexedDB)return indexedDB;if("undefined"!==typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!==typeof mozIndexedDB)return mozIndexedDB;if("undefined"!==typeof OIndexedDB)return OIndexedDB;if("undefined"!==typeof msIndexedDB)return msIndexedDB}catch(t){return}}var a=i();function s(){try{if(!a||!a.open)return!1;var t="undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"===typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(n){return!1}}function u(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}"undefined"===typeof Promise&&t(3);var c=Promise;function l(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function f(t,e,n){"function"===typeof e&&t.then(e),"function"===typeof n&&t.catch(n)}function d(t){return"string"!==typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function p(){if(arguments.length&&"function"===typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",g=void 0,b={},v=Object.prototype.toString,y="readonly",m="readwrite";function _(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;o<e;o++)r[o]=t.charCodeAt(o);return n}function w(t){return new c((function(e){var n=t.transaction(h,m),r=u([""]);n.objectStore(h).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}function x(t){return"boolean"===typeof g?c.resolve(g):w(t).then((function(t){return g=t}))}function T(t){var e=b[t.name],n={};n.promise=new c((function(t,e){n.resolve=t,n.reject=e})),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then((function(){return n.promise})):e.dbReady=n.promise}function k(t){var e=b[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function S(t,e){var n=b[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function O(t,e){return new c((function(n,r){if(b[t.name]=b[t.name]||L(),t.db){if(!e)return n(t.db);T(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var i=a.open.apply(a,o);e&&(i.onupgradeneeded=function(e){var n=i.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(h)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),i.onerror=function(t){t.preventDefault(),r(i.error)},i.onsuccess=function(){var e=i.result;e.onversionchange=function(t){t.target.close()},n(e),k(t)}}))}function A(t){return O(t,!1)}function E(t){return O(t,!0)}function I(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,o=t.version>t.db.version;if(r&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||n){if(n){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function P(t){return new c((function(e,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:t.type})},r.readAsBinaryString(t)}))}function D(t){return u([_(atob(t.data))],{type:t.type})}function C(t){return t&&t.__local_forage_encoded_blob}function R(t){var e=this,n=e._initReady().then((function(){var t=b[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return f(n,t,t),n}function N(t){T(t);for(var e=b[t.name],n=e.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return t.db=null,A(t).then((function(e){return t.db=e,I(t)?E(t):e})).then((function(r){t.db=e.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r})).catch((function(e){throw S(t,e),e}))}function F(t,e,n,r){void 0===r&&(r=1);try{var o=t.db.transaction(t.storeName,e);n(null,o)}catch(i){if(r>0&&(!t.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return c.resolve().then((function(){if(!t.db||"NotFoundError"===i.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),E(t)})).then((function(){return N(t).then((function(){F(t,e,n,r-1)}))})).catch(n);n(i)}}function L(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function j(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var o=b[n.name];o||(o=L(),b[n.name]=o),o.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=R);var i=[];function a(){return c.resolve()}for(var s=0;s<o.forages.length;s++){var u=o.forages[s];u!==e&&i.push(u._initReady().catch(a))}var l=o.forages.slice(0);return c.all(i).then((function(){return n.db=o.db,A(n)})).then((function(t){return n.db=t,I(n,e._defaultConfig.version)?E(n):t})).then((function(t){n.db=o.db=t,e._dbInfo=n;for(var r=0;r<l.length;r++){var i=l[r];i!==e&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}}))}function M(t,e){var n=this;t=d(t);var r=new c((function(e,r){n.ready().then((function(){F(n._dbInfo,y,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),C(t)&&(t=D(t)),e(t)},a.onerror=function(){r(a.error)}}catch(s){r(s)}}))})).catch(r)}));return l(r,e),r}function U(t,e){var n=this,r=new c((function(e,r){n.ready().then((function(){F(n._dbInfo,y,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;C(r)&&(r=D(r));var o=t(r,n.key,s++);void 0!==o?e(o):n.continue()}else e()},a.onerror=function(){r(a.error)}}catch(u){r(u)}}))})).catch(r)}));return l(r,e),r}function B(t,e,n){var r=this;t=d(t);var o=new c((function(n,o){var i;r.ready().then((function(){return i=r._dbInfo,"[object Blob]"===v.call(e)?x(i.db).then((function(t){return t?e:P(e)})):e})).then((function(e){F(r._dbInfo,m,(function(i,a){if(i)return o(i);try{var s=a.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var u=s.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),n(e)},a.onabort=a.onerror=function(){var t=u.error?u.error:u.transaction.error;o(t)}}catch(c){o(c)}}))})).catch(o)}));return l(o,n),o}function z(t,e){var n=this;t=d(t);var r=new c((function(e,r){n.ready().then((function(){F(n._dbInfo,m,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).delete(t);i.oncomplete=function(){e()},i.onerror=function(){r(a.error)},i.onabort=function(){var t=a.error?a.error:a.transaction.error;r(t)}}catch(s){r(s)}}))})).catch(r)}));return l(r,e),r}function V(t){var e=this,n=new c((function(t,n){e.ready().then((function(){F(e._dbInfo,m,(function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName).clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){var t=i.error?i.error:i.transaction.error;n(t)}}catch(a){n(a)}}))})).catch(n)}));return l(n,t),n}function G(t){var e=this,n=new c((function(t,n){e.ready().then((function(){F(e._dbInfo,y,(function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName).count();i.onsuccess=function(){t(i.result)},i.onerror=function(){n(i.error)}}catch(a){n(a)}}))})).catch(n)}));return l(n,t),n}function H(t,e){var n=this,r=new c((function(e,r){t<0?e(null):n.ready().then((function(){F(n._dbInfo,y,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),s=!1,u=a.openKeyCursor();u.onsuccess=function(){var n=u.result;n?0===t||s?e(n.key):(s=!0,n.advance(t)):e(null)},u.onerror=function(){r(u.error)}}catch(c){r(c)}}))})).catch(r)}));return l(r,e),r}function W(t){var e=this,n=new c((function(t,n){e.ready().then((function(){F(e._dbInfo,y,(function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName).openKeyCursor(),a=[];i.onsuccess=function(){var e=i.result;e?(a.push(e.key),e.continue()):t(a)},i.onerror=function(){n(i.error)}}catch(s){n(s)}}))})).catch(n)}));return l(n,t),n}function q(t,e){e=p.apply(this,arguments);var n=this.config();(t="function"!==typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,o=this;if(t.name){var i=t.name===n.name&&o._dbInfo.db?c.resolve(o._dbInfo.db):A(t).then((function(e){var n=b[t.name],r=n.forages;n.db=e;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=e;return e}));r=t.storeName?i.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;T(t);var r=b[t.name],o=r.forages;e.close();for(var i=0;i<o.length;i++){var s=o[i];s._dbInfo.db=null,s._dbInfo.version=n}var u=new c((function(e,r){var o=a.open(t.name,n);o.onerror=function(t){o.result.close(),r(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}}));return u.then((function(t){r.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,k(n._dbInfo)}})).catch((function(e){throw(S(t,e)||c.resolve()).catch((function(){})),e}))}})):i.then((function(e){T(t);var n=b[t.name],r=n.forages;e.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;var i=new c((function(e,n){var r=a.deleteDatabase(t.name);r.onerror=function(){var t=r.result;t&&t.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+t.name+'" until all open connections are closed')},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}}));return i.then((function(t){n.db=t;for(var e=0;e<r.length;e++)k(r[e]._dbInfo)})).catch((function(e){throw(S(t,e)||c.resolve()).catch((function(){})),e}))}))}else r=c.reject("Invalid arguments");return l(r,e),r}var Z={_driver:"asyncStorage",_initStorage:j,_support:s(),iterate:U,getItem:M,setItem:B,removeItem:z,clear:V,length:G,key:H,keys:W,dropInstance:q};function X(){return"function"===typeof openDatabase}var Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K="~~local_forage_type~",J=/^~~local_forage_type~([^~]+)~/,$="__lfsc__:",Q=$.length,tt="arbf",et="blob",nt="si08",rt="ui08",ot="uic8",it="si16",at="si32",st="ur16",ut="ui32",ct="fl32",lt="fl64",ft=Q+tt.length,dt=Object.prototype.toString;function pt(t){var e,n,r,o,i,a=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(e=0;e<s;e+=4)n=Y.indexOf(t[e]),r=Y.indexOf(t[e+1]),o=Y.indexOf(t[e+2]),i=Y.indexOf(t[e+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|o>>2,l[u++]=(3&o)<<6|63&i;return c}function ht(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=Y[n[e]>>2],r+=Y[(3&n[e])<<4|n[e+1]>>4],r+=Y[(15&n[e+1])<<2|n[e+2]>>6],r+=Y[63&n[e+2]];return n.length%3===2?r=r.substring(0,r.length-1)+"=":n.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function gt(t,e){var n="";if(t&&(n=dt.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===dt.call(t.buffer))){var r,o=$;t instanceof ArrayBuffer?(r=t,o+=tt):(r=t.buffer,"[object Int8Array]"===n?o+=nt:"[object Uint8Array]"===n?o+=rt:"[object Uint8ClampedArray]"===n?o+=ot:"[object Int16Array]"===n?o+=it:"[object Uint16Array]"===n?o+=st:"[object Int32Array]"===n?o+=at:"[object Uint32Array]"===n?o+=ut:"[object Float32Array]"===n?o+=ct:"[object Float64Array]"===n?o+=lt:e(new Error("Failed to get type for BinaryArray"))),e(o+ht(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n=K+t.type+"~"+ht(this.result);e($+et+n)},i.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(a){console.error("Couldn't convert value into a JSON string: ",t),e(null,a)}}function bt(t){if(t.substring(0,Q)!==$)return JSON.parse(t);var e,n=t.substring(ft),r=t.substring(Q,ft);if(r===et&&J.test(n)){var o=n.match(J);e=o[1],n=n.substring(o[0].length)}var i=pt(n);switch(r){case tt:return i;case et:return u([i],{type:e});case nt:return new Int8Array(i);case rt:return new Uint8Array(i);case ot:return new Uint8ClampedArray(i);case it:return new Int16Array(i);case st:return new Uint16Array(i);case at:return new Int32Array(i);case ut:return new Uint32Array(i);case ct:return new Float32Array(i);case lt:return new Float64Array(i);default:throw new Error("Unkown type: "+r)}}var vt={serialize:gt,deserialize:bt,stringToBuffer:pt,bufferToString:ht};function yt(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function mt(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!==typeof t[r]?t[r].toString():t[r];var o=new c((function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(o){return r(o)}n.db.transaction((function(o){yt(o,n,(function(){e._dbInfo=n,t()}),(function(t,e){r(e)}))}),r)}));return n.serializer=vt,o}function _t(t,e,n,r,o,i){t.executeSql(n,r,o,(function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,s){s.rows.length?i(t,a):yt(t,e,(function(){t.executeSql(n,r,o,i)}),i)}),i):i(t,a)}),i)}function wt(t,e){var n=this;t=d(t);var r=new c((function(e,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){_t(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),e(r)}),(function(t,e){r(e)}))}))})).catch(r)}));return l(r,e),r}function xt(t,e){var n=this,r=new c((function(e,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){_t(n,o,"SELECT * FROM "+o.storeName,[],(function(n,r){for(var i=r.rows,a=i.length,s=0;s<a;s++){var u=i.item(s),c=u.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=t(c,u.key,s+1)))return void e(c)}e()}),(function(t,e){r(e)}))}))})).catch(r)}));return l(r,e),r}function Tt(t,e,n,r){var o=this;t=d(t);var i=new c((function(i,a){o.ready().then((function(){void 0===e&&(e=null);var s=e,u=o._dbInfo;u.serializer.serialize(e,(function(e,c){c?a(c):u.db.transaction((function(n){_t(n,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){i(s)}),(function(t,e){a(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(r>0)return void i(Tt.apply(o,[t,s,n,r-1]));a(e)}}))}))})).catch(a)}));return l(i,n),i}function kt(t,e,n){return Tt.apply(this,[t,e,n,1])}function St(t,e){var n=this;t=d(t);var r=new c((function(e,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){_t(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){r(e)}))}))})).catch(r)}));return l(r,e),r}function Ot(t){var e=this,n=new c((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){_t(e,r,"DELETE FROM "+r.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return l(n,t),n}function At(t){var e=this,n=new c((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){_t(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(e,n){var r=n.rows.item(0).c;t(r)}),(function(t,e){n(e)}))}))})).catch(n)}));return l(n,t),n}function Et(t,e){var n=this,r=new c((function(e,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){_t(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)}),(function(t,e){r(e)}))}))})).catch(r)}));return l(r,e),r}function It(t){var e=this,n=new c((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){_t(e,r,"SELECT key FROM "+r.storeName,[],(function(e,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);t(r)}),(function(t,e){n(e)}))}))})).catch(n)}));return l(n,t),n}function Pt(t){return new c((function(e,n){t.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);e({db:t,storeNames:o})}),(function(t,e){n(e)}))}),(function(t){n(t)}))}))}function Dt(t,e){e=p.apply(this,arguments);var n=this.config();(t="function"!==typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,o=this;return l(r=t.name?new c((function(e){var r;r=t.name===n.name?o._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:r,storeNames:[t.storeName]}):e(Pt(r))})).then((function(t){return new c((function(e,n){t.db.transaction((function(r){function o(t){return new c((function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){n(e)}))}))}for(var i=[],a=0,s=t.storeNames.length;a<s;a++)i.push(o(t.storeNames[a]));c.all(i).then((function(){e()})).catch((function(t){n(t)}))}),(function(t){n(t)}))}))})):c.reject("Invalid arguments"),e),r}var Ct={_driver:"webSQLStorage",_initStorage:mt,_support:X(),iterate:xt,getItem:wt,setItem:kt,removeItem:St,clear:Ot,length:At,key:Et,keys:It,dropInstance:Dt};function Rt(){try{return"undefined"!==typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}function Nt(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function Ft(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(e){return!0}}function Lt(){return!Ft()||localStorage.length>0}function jt(t){var e=this,n={};if(t)for(var r in t)n[r]=t[r];return n.keyPrefix=Nt(t,e._defaultConfig),Lt()?(e._dbInfo=n,n.serializer=vt,c.resolve()):c.reject()}function Mt(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}}));return l(n,t),n}function Ut(t,e){var n=this;t=d(t);var r=n.ready().then((function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r}));return l(r,e),r}function Bt(t,e){var n=this,r=n.ready().then((function(){for(var e=n._dbInfo,r=e.keyPrefix,o=r.length,i=localStorage.length,a=1,s=0;s<i;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=e.serializer.deserialize(c)),void 0!==(c=t(c,u.substring(o),a++)))return c}}}));return l(r,e),r}function zt(t,e){var n=this,r=n.ready().then((function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(o){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e}));return l(r,e),r}function Vt(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(t.keyPrefix)&&r.push(i.substring(t.keyPrefix.length))}return r}));return l(n,t),n}function Gt(t){var e=this.keys().then((function(t){return t.length}));return l(e,t),e}function Ht(t,e){var n=this;t=d(t);var r=n.ready().then((function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return l(r,e),r}function Wt(t,e,n){var r=this;t=d(t);var o=r.ready().then((function(){void 0===e&&(e=null);var n=e;return new c((function(o,i){var a=r._dbInfo;a.serializer.serialize(e,(function(e,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+t,e),o(n)}catch(s){"QuotaExceededError"!==s.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==s.name||i(s),i(s)}}))}))}));return l(o,n),o}function qt(t,e){if(e=p.apply(this,arguments),!(t="function"!==typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,o=this;return r=t.name?new c((function(e){t.storeName?e(Nt(t,o._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}})):c.reject("Invalid arguments"),l(r,e),r}var Zt={_driver:"localStorageWrapper",_initStorage:jt,_support:Rt(),iterate:Bt,getItem:Ut,setItem:Wt,removeItem:Ht,clear:Mt,length:Gt,key:zt,keys:Vt,dropInstance:qt},Xt=function(t,e){return t===e||"number"===typeof t&&"number"===typeof e&&isNaN(t)&&isNaN(e)},Yt=function(t,e){for(var n=t.length,r=0;r<n;){if(Xt(t[r],e))return!0;r++}return!1},Kt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Jt={},$t={},Qt={INDEXEDDB:Z,WEBSQL:Ct,LOCALSTORAGE:Zt},te=[Qt.INDEXEDDB._driver,Qt.WEBSQL._driver,Qt.LOCALSTORAGE._driver],ee=["dropInstance"],ne=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ee),re={description:"",driver:te.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function oe(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function ie(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(Kt(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var ae=function(){function t(e){for(var n in o(this,t),Qt)if(Qt.hasOwnProperty(n)){var r=Qt[n],i=r._driver;this[n]=i,Jt[i]||this.defineDriver(r)}this._defaultConfig=ie({},re),this._config=ie({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===("undefined"===typeof t?"undefined":r(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!==typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"===typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var r=new c((function(e,n){try{var r=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(o);for(var i=ne.concat("_initStorage"),a=0,s=i.length;a<s;a++){var u=i[a];if((!Yt(ee,u)||t[u])&&"function"!==typeof t[u])return void n(o)}var f=function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=c.reject(e);return l(n,arguments[arguments.length-1]),n}},n=0,r=ee.length;n<r;n++){var o=ee[n];t[o]||(t[o]=e(o))}};f();var d=function(n){Jt[r]&&console.info("Redefining LocalForage driver: "+r),Jt[r]=t,$t[r]=n,e()};"_support"in t?t._support&&"function"===typeof t._support?t._support().then(d,n):d(!!t._support):d(!0)}catch(p){n(p)}}));return f(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=Jt[t]?c.resolve(Jt[t]):c.reject(new Error("Driver not found."));return f(r,e,n),r},t.prototype.getSerializer=function(t){var e=c.resolve(vt);return f(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return f(n,t,t),n},t.prototype.setDriver=function(t,e,n){var r=this;Kt(t)||(t=[t]);var o=this._getSupportedDrivers(t);function i(){r._config.driver=r.driver()}function a(t){return r._extend(t),i(),r._ready=r._initStorage(r._config),r._ready}function s(t){return function(){var e=0;function n(){for(;e<t.length;){var o=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(a).catch(n)}i();var s=new Error("No available storage method found.");return r._driverSet=c.reject(s),r._driverSet}return n()}}var u=null!==this._driverSet?this._driverSet.catch((function(){return c.resolve()})):c.resolve();return this._driverSet=u.then((function(){var t=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then((function(t){r._driver=t._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=s(o)}))})).catch((function(){i();var t=new Error("No available storage method found.");return r._driverSet=c.reject(t),r._driverSet})),f(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!$t[t]},t.prototype._extend=function(t){ie(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];this.supports(o)&&e.push(o)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ne.length;t<e;t++)oe(this,ne[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),se=new ae;e.exports=se},{3:3}]},{},[4])(4)},8755:function(t,e,n){"use strict";n.r(e),n.d(e,{InferenceSession:function(){return _},Tensor:function(){return y},env:function(){return d},registerBackend:function(){return u}});var r=n(4165),o=n(7762),i=n(5861),a={},s=[],u=function(t,e,n){if(!e||"function"!==typeof e.init||"function"!==typeof e.createSessionHandler)throw new TypeError("not a valid backend");var r=a[t];if(void 0===r)a[t]={backend:e,priority:n};else{if(r.priority>n)return;if(r.priority===n&&r.backend!==e)throw new Error('cannot register backend "'.concat(t,'" using priority ').concat(n))}if(n>=0){var o=s.indexOf(t);-1!==o&&s.splice(o,1);for(var i=0;i<s.length;i++)if(a[s[i]].priority<=n)return void s.splice(i,0,t);s.push(t)}},c=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){var n,i,u,c,l,f,d;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0===e.length?s:e,i=[],u=(0,o.Z)(n),t.prev=3,u.s();case 5:if((c=u.n()).done){t.next=33;break}if(l=c.value,!(f=a[l])){t.next=31;break}if(!f.initialized){t.next=13;break}return t.abrupt("return",f.backend);case 13:if(!f.aborted){t.next=15;break}return t.abrupt("continue",31);case 15:return d=!!f.initPromise,t.prev=16,d||(f.initPromise=f.backend.init()),t.next=20,f.initPromise;case 20:return f.initialized=!0,t.abrupt("return",f.backend);case 24:t.prev=24,t.t0=t.catch(16),d||i.push({name:l,err:t.t0}),f.aborted=!0;case 28:return t.prev=28,delete f.initPromise,t.finish(28);case 31:t.next=5;break;case 33:t.next=38;break;case 35:t.prev=35,t.t1=t.catch(3),u.e(t.t1);case 38:return t.prev=38,u.f(),t.finish(38);case 41:throw new Error("no available backend found. ERR: ".concat(i.map((function(t){return"[".concat(t.name,"] ").concat(t.err)})).join(", ")));case 42:case"end":return t.stop()}}),t,null,[[3,35,38,41],[16,24,28,31]])})));return function(e){return t.apply(this,arguments)}}(),l=n(5671),f=n(3144),d=new(function(){function t(){(0,l.Z)(this,t),this.wasm={},this.webgl={},this.logLevelInternal="warning"}return(0,f.Z)(t,[{key:"logLevel",get:function(){return this.logLevelInternal},set:function(t){if(void 0!==t){if("string"!==typeof t||-1===["verbose","info","warning","error","fatal"].indexOf(t))throw new Error("Unsupported logging level: ".concat(t));this.logLevelInternal=t}}}]),t}()),p="undefined"!==typeof BigInt64Array&&"function"===typeof BigInt64Array.from,h="undefined"!==typeof BigUint64Array&&"function"===typeof BigUint64Array.from,g=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),b=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);p&&(g.set("int64",BigInt64Array),b.set(BigInt64Array,"int64")),h&&(g.set("uint64",BigUint64Array),b.set(BigUint64Array,"uint64"));var v=function(){function t(e,n,r){var o,i,a;if((0,l.Z)(this,t),"string"===typeof e)if(o=e,a=r,"string"===e){if(!Array.isArray(n))throw new TypeError("A string tensor's data must be a string array.");i=n}else{var s=g.get(e);if(void 0===s)throw new TypeError("Unsupported tensor type: ".concat(e,"."));if(Array.isArray(n))i=s.from(n);else{if(!(n instanceof s))throw new TypeError("A ".concat(o," tensor's data must be type of ").concat(s));i=n}}else if(a=n,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");var u=typeof e[0];if("string"===u)o="string",i=e;else{if("boolean"!==u)throw new TypeError("Invalid element type of data array: ".concat(u,"."));o="bool",i=Uint8Array.from(e)}}else{var c=b.get(e.constructor);if(void 0===c)throw new TypeError("Unsupported type for tensor data: ".concat(e.constructor,"."));o=c,i=e}if(void 0===a)a=[i.length];else if(!Array.isArray(a))throw new TypeError("A tensor's dims must be a number array");var f=function(t){for(var e=1,n=0;n<t.length;n++){var r=t[n];if("number"!==typeof r||!Number.isSafeInteger(r))throw new TypeError("dims[".concat(n,"] must be an integer, got: ").concat(r));if(r<0)throw new RangeError("dims[".concat(n,"] must be a non-negative integer, got: ").concat(r));e*=r}return e}(a);if(f!==i.length)throw new Error("Tensor's size(".concat(f,") does not match data length(").concat(i.length,")."));this.dims=a,this.type=o,this.data=i,this.size=f}return(0,f.Z)(t,[{key:"toImageData",value:function(t){var e,n,r,o=document.createElement("canvas").getContext("2d");if(null==o)throw new Error("Can not access image data");var i=this.dims[3],a=this.dims[2],s=this.dims[1],u=void 0!==t&&void 0!==t.format?t.format:"RGB",c=void 0!==t&&void 0!==(null===(e=t.norm)||void 0===e?void 0:e.mean)?t.norm.mean:255,l=void 0!==t&&void 0!==(null===(n=t.norm)||void 0===n?void 0:n.bias)?t.norm.bias:0,f=a*i;if(void 0!==t){if(void 0!==t.height&&t.height!==a)throw new Error("Image output config height doesn't match tensor height");if(void 0!==t.width&&t.width!==i)throw new Error("Image output config width doesn't match tensor width");if(void 0!==t.format&&4===s&&"RGBA"!==t.format||3===s&&"RGB"!==t.format&&"BGR"!==t.format)throw new Error("Tensor format doesn't match input tensor dims")}var d=0,p=1,h=2,g=3,b=0,v=f,y=2*f,m=-1;"RGBA"===u?(b=0,v=f,y=2*f,m=3*f):"RGB"===u?(b=0,v=f,y=2*f):"RBG"===u&&(b=0,y=f,v=2*f),r=o.createImageData(i,a);for(var _=0;_<a*i;d+=4,p+=4,h+=4,g+=4,_++)r.data[d]=(this.data[b++]-l)*c,r.data[p]=(this.data[v++]-l)*c,r.data[h]=(this.data[y++]-l)*c,r.data[g]=-1===m?255:(this.data[m++]-l)*c;return r}},{key:"reshape",value:function(e){return new t(this.type,this.data,e)}}],[{key:"bufferToTensor",value:function(e,n){if(void 0===e)throw new Error("Image buffer must be defined");if(void 0===n.height||void 0===n.width)throw new Error("Image height and width must be defined");var r,o,i=n.height,a=n.width,s=n.norm;r=void 0===s||void 0===s.mean?255:s.mean,o=void 0===s||void 0===s.bias?0:s.bias;var u=void 0!==n.bitmapFormat?n.bitmapFormat:"RGBA",c=void 0!==n.tensorFormat&&void 0!==n.tensorFormat?n.tensorFormat:"RGB",l=i*a,f="RGBA"===c?new Float32Array(4*l):new Float32Array(3*l),d=4,p=0,h=1,g=2,b=3,v=0,y=l,m=2*l,_=-1;"RGB"===u&&(d=3,p=0,h=1,g=2,b=-1),"RGBA"===c?_=3*l:"RBG"===c?(v=0,m=l,y=2*l):"BGR"===c&&(m=0,y=l,v=2*l);for(var w=0;w<l;w++,p+=d,g+=d,h+=d,b+=d)f[v++]=(e[p]+o)/r,f[y++]=(e[h]+o)/r,f[m++]=(e[g]+o)/r,-1!==_&&-1!==b&&(f[_++]=(e[b]+o)/r);return new t("float32",f,"RGBA"===c?[1,4,i,a]:[1,3,i,a])}},{key:"fromImage",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,o){var i,a,s,u,c,l,f,d,p,h,g,b,v,y,m,_,w;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i="undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement,a="undefined"!==typeof ImageData&&n instanceof ImageData,s="undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap,u="undefined"!==typeof String&&(n instanceof String||"string"===typeof n),l={},!i){e.next=43;break}if(f=document.createElement("canvas"),null==(d=f.getContext("2d"))){e.next=40;break}if(p=n.naturalHeight,h=n.naturalWidth,void 0!==o&&void 0!==o.resizedHeight&&void 0!==o.resizedWidth&&(p=o.resizedHeight,h=o.resizedWidth),void 0===o){e.next=31;break}if(l=o,void 0===o.tensorFormat){e.next=18;break}throw new Error("Image input config format must be RGBA for HTMLImageElement");case 18:l.tensorFormat="RGBA";case 19:if(void 0===o.height||o.height===p){e.next=23;break}throw new Error("Image input config height doesn't match HTMLImageElement height");case 23:l.height=p;case 24:if(void 0===o.width||o.width===h){e.next=28;break}throw new Error("Image input config width doesn't match HTMLImageElement width");case 28:l.width=h;case 29:e.next=34;break;case 31:l.tensorFormat="RGBA",l.height=p,l.width=h;case 34:f.width=h,f.height=p,d.drawImage(n,0,0,h,p),c=d.getImageData(0,0,h,p).data,e.next=41;break;case 40:throw new Error("Can not access image data");case 41:e.next=111;break;case 43:if(!a){e.next=74;break}if("RGBA",void 0!==o&&void 0!==o.resizedWidth&&void 0!==o.resizedHeight?(g=o.resizedHeight,b=o.resizedWidth):(g=n.height,b=n.width),void 0===o){e.next=55;break}if(l=o,void 0===o.bitmapFormat||"RGBA"===o.bitmapFormat){e.next=52;break}throw new Error("Image input config format must be RGBA for ImageData");case 52:l.bitmapFormat="RGBA";case 53:e.next=56;break;case 55:l.bitmapFormat="RGBA";case 56:if(l.height=g,l.width=b,void 0===o){e.next=71;break}if((v=document.createElement("canvas")).width=b,v.height=g,null==(y=v.getContext("2d"))){e.next=68;break}y.putImageData(n,0,0),c=y.getImageData(0,0,b,g).data,e.next=69;break;case 68:throw new Error("Can not access image data");case 69:e.next=72;break;case 71:c=n.data;case 72:e.next=111;break;case 74:if(!s){e.next=106;break}if(void 0!==o){e.next=77;break}throw new Error("Please provide image config with format for Imagebitmap");case 77:if(void 0===o.bitmapFormat){e.next=79;break}throw new Error("Image input config format must be defined for ImageBitmap");case 79:if(null==(m=document.createElement("canvas").getContext("2d"))){e.next=103;break}if(_=n.height,w=n.width,m.drawImage(n,0,0,w,_),c=m.getImageData(0,0,w,_).data,void 0===o){e.next=98;break}if(void 0===o.height||o.height===_){e.next=90;break}throw new Error("Image input config height doesn't match ImageBitmap height");case 90:l.height=_;case 91:if(void 0===o.width||o.width===w){e.next=95;break}throw new Error("Image input config width doesn't match ImageBitmap width");case 95:l.width=w;case 96:e.next=100;break;case 98:l.height=_,l.width=w;case 100:return e.abrupt("return",t.bufferToTensor(c,l));case 103:throw new Error("Can not access image data");case 104:e.next=111;break;case 106:if(!u){e.next=110;break}return e.abrupt("return",new Promise((function(e,r){var i=document.createElement("canvas"),a=i.getContext("2d");if(!n||!a)return r();var s=new Image;s.crossOrigin="Anonymous",s.src=n,s.onload=function(){i.width=s.width,i.height=s.height,a.drawImage(s,0,0,i.width,i.height);var n=a.getImageData(0,0,i.width,i.height);if(void 0!==o){if(void 0!==o.height&&o.height!==i.height)throw new Error("Image input config height doesn't match ImageBitmap height");if(l.height=i.height,void 0!==o.width&&o.width!==i.width)throw new Error("Image input config width doesn't match ImageBitmap width");l.width=i.width}else l.height=i.height,l.width=i.width;e(t.bufferToTensor(n.data,l))}})));case 110:throw new Error("Input data provided is not supported - aborted tensor creation");case 111:if(void 0===c){e.next=115;break}return e.abrupt("return",t.bufferToTensor(c,l));case 115:throw new Error("Input data provided is not supported - aborted tensor creation");case 116:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(),y=v,m=function(){function t(e){(0,l.Z)(this,t),this.handler=e}return(0,f.Z)(t,[{key:"run",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e,n,i){var a,s,u,c,l,f,d,p,h,g,b,v,m,_,w,x,T,k,S,O,A;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={},s={},!("object"!==typeof e||null===e||e instanceof y||Array.isArray(e))){t.next=4;break}throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");case 4:if(u=!0,"object"!==typeof n){t.next=58;break}if(null!==n){t.next=8;break}throw new TypeError("Unexpected argument[1]: cannot be null.");case 8:if(!(n instanceof y)){t.next=10;break}throw new TypeError("'fetches' cannot be a Tensor");case 10:if(!Array.isArray(n)){t.next=42;break}if(0!==n.length){t.next=13;break}throw new TypeError("'fetches' cannot be an empty array.");case 13:u=!1,c=(0,o.Z)(n),t.prev=15,c.s();case 17:if((l=c.n()).done){t.next=26;break}if("string"===typeof(f=l.value)){t.next=21;break}throw new TypeError("'fetches' must be a string array or an object.");case 21:if(-1!==this.outputNames.indexOf(f)){t.next=23;break}throw new RangeError("'fetches' contains invalid output name: ".concat(f,"."));case 23:a[f]=null;case 24:t.next=17;break;case 26:t.next=31;break;case 28:t.prev=28,t.t0=t.catch(15),c.e(t.t0);case 31:return t.prev=31,c.f(),t.finish(31);case 34:if("object"!==typeof i||null===i){t.next=38;break}s=i,t.next=40;break;case 38:if("undefined"===typeof i){t.next=40;break}throw new TypeError("'options' must be an object.");case 40:t.next=56;break;case 42:d=!1,p=Object.getOwnPropertyNames(n),h=(0,o.Z)(this.outputNames);try{for(h.s();!(g=h.n()).done;)b=g.value,-1!==p.indexOf(b)&&(null===(v=n[b])||v instanceof y)&&(d=!0,u=!1,a[b]=v)}catch(r){h.e(r)}finally{h.f()}if(!d){t.next=55;break}if("object"!==typeof i||null===i){t.next=51;break}s=i,t.next=53;break;case 51:if("undefined"===typeof i){t.next=53;break}throw new TypeError("'options' must be an object.");case 53:t.next=56;break;case 55:s=n;case 56:t.next=60;break;case 58:if("undefined"===typeof n){t.next=60;break}throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");case 60:m=(0,o.Z)(this.inputNames),t.prev=61,m.s();case 63:if((_=m.n()).done){t.next=69;break}if(w=_.value,"undefined"!==typeof e[w]){t.next=67;break}throw new Error("input '".concat(w,"' is missing in 'feeds'."));case 67:t.next=63;break;case 69:t.next=74;break;case 71:t.prev=71,t.t1=t.catch(61),m.e(t.t1);case 74:return t.prev=74,m.f(),t.finish(74);case 77:if(u){x=(0,o.Z)(this.outputNames);try{for(x.s();!(T=x.n()).done;)k=T.value,a[k]=null}catch(r){x.e(r)}finally{x.f()}}return t.next=80,this.handler.run(e,a,s);case 80:for(A in S=t.sent,O={},S)Object.hasOwnProperty.call(S,A)&&(O[A]=new y(S[A].type,S[A].data,S[A].dims));return t.abrupt("return",O);case 84:case"end":return t.stop()}}),t,this,[[15,28,31,34],[61,71,74,77]])})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"startProfiling",value:function(){this.handler.startProfiling()}},{key:"endProfiling",value:function(){this.handler.endProfiling()}},{key:"inputNames",get:function(){return this.handler.inputNames}},{key:"outputNames",get:function(){return this.handler.outputNames}}],[{key:"create",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,o,i,a){var s,u,l,f,d,p,h,g,b;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u={},"string"!==typeof n){e.next=11;break}if(s=n,"object"!==typeof o||null===o){e.next=7;break}u=o,e.next=9;break;case 7:if("undefined"===typeof o){e.next=9;break}throw new TypeError("'options' must be an object.");case 9:case 19:e.next=60;break;case 11:if(!(n instanceof Uint8Array)){e.next=21;break}if(s=n,"object"!==typeof o||null===o){e.next=17;break}u=o,e.next=19;break;case 17:if("undefined"===typeof o){e.next=19;break}throw new TypeError("'options' must be an object.");case 21:if(!(n instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&n instanceof SharedArrayBuffer)){e.next=59;break}if(l=n,f=0,d=n.byteLength,"object"!==typeof o||null===o){e.next=29;break}u=o,e.next=56;break;case 29:if("number"!==typeof o){e.next=54;break}if(f=o,Number.isSafeInteger(f)){e.next=33;break}throw new RangeError("'byteOffset' must be an integer.");case 33:if(!(f<0||f>=l.byteLength)){e.next=35;break}throw new RangeError("'byteOffset' is out of range [0, ".concat(l.byteLength,")."));case 35:if(d=n.byteLength-f,"number"!==typeof i){e.next=50;break}if(d=i,Number.isSafeInteger(d)){e.next=40;break}throw new RangeError("'byteLength' must be an integer.");case 40:if(!(d<=0||f+d>l.byteLength)){e.next=42;break}throw new RangeError("'byteLength' is out of range (0, ".concat(l.byteLength-f,"]."));case 42:if("object"!==typeof a||null===a){e.next=46;break}u=a,e.next=48;break;case 46:if("undefined"===typeof a){e.next=48;break}throw new TypeError("'options' must be an object.");case 48:e.next=52;break;case 50:if("undefined"===typeof i){e.next=52;break}throw new TypeError("'byteLength' must be a number.");case 52:e.next=56;break;case 54:if("undefined"===typeof o){e.next=56;break}throw new TypeError("'options' must be an object.");case 56:s=new Uint8Array(l,f,d),e.next=60;break;case 59:throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");case 60:return p=u.executionProviders||[],h=p.map((function(t){return"string"===typeof t?t:t.name})),e.next=64,c(h);case 64:return g=e.sent,e.next=67,g.createSessionHandler(s,u);case 67:return b=e.sent,e.abrupt("return",new t(b));case 69:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}()}]),t}(),_=m},4996:function(module,__unused_webpack_exports,__webpack_require__){var _toConsumableArray=__webpack_require__(861).default,_slicedToArray=__webpack_require__(7424).default,_inherits=__webpack_require__(1655).default,_createSuper=__webpack_require__(6389).default,_regeneratorRuntime=__webpack_require__(7061).default,_asyncToGenerator=__webpack_require__(7156).default,_classCallCheck=__webpack_require__(6690).default,_createClass=__webpack_require__(9728).default,_createForOfIteratorHelper=__webpack_require__(4704).default,e;self,e=function(__WEBPACK_EXTERNAL_MODULE__1670__){return function(){var __webpack_modules__={3474:function(t,e,n){var r,o=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return R.buffer!=F&&Z(R.buffer),L}function o(){return R.buffer!=F&&Z(R.buffer),j}function i(){return R.buffer!=F&&Z(R.buffer),M}function a(){return R.buffer!=F&&Z(R.buffer),U}function s(){return R.buffer!=F&&Z(R.buffer),B}var u,c,l;t=t||{},u||(u=void 0!==t?t:{}),u.ready=new Promise((function(t,e){c=t,l=e}));var f,d,p,h,g,b,v=Object.assign({},u),y="./this.program",m=function(t,e){throw e},_="object"==typeof window,w="function"==typeof importScripts,x="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,T=u.ENVIRONMENT_IS_PTHREAD||!1,k="";function S(t){return u.locateFile?u.locateFile(t,k):k+t}if(x){var O;k=w?n(908).dirname(k)+"/":"//",b=function(){g||(h=n(1384),g=n(908))},f=function(t,e){return b(),t=g.normalize(t),h.readFileSync(t,e?void 0:"utf8")},p=function(t){return(t=f(t,!0)).buffer||(t=new Uint8Array(t)),t},d=function(t,e,n){b(),t=g.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(y=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof lt))throw t})),process.on("unhandledRejection",(function(t){throw t})),m=function(t,e){if(tt())throw process.exitCode=t,e;e instanceof lt||D("exiting due to exception: "+e),process.exit(t)},u.inspect=function(){return"[Emscripten Module object]"};try{O=n(9925)}catch(t){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),t}n.g.Worker=O.Worker}else(_||w)&&(w?k=self.location.href:"undefined"!=typeof document&&document.currentScript&&(k=document.currentScript.src),r&&(k=r),k=0!==k.indexOf("blob:")?k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1):"",x||(f=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(p=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),d=function(t,e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));x&&"undefined"==typeof performance&&(n.g.performance=n(6953).performance);var A=console.log.bind(console),E=console.warn.bind(console);x&&(b(),A=function(t){return h.writeSync(1,t+"\n")},E=function(t){return h.writeSync(2,t+"\n")});var I,P=u.print||A,D=u.printErr||E;Object.assign(u,v),v=null,u.thisProgram&&(y=u.thisProgram),u.quit&&(m=u.quit),u.wasmBinary&&(I=u.wasmBinary);var C=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&at("no native wasm support detected");var R,N,F,L,j,M,U,B,z=!1,V="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function G(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&V)return V.decode(t.buffer instanceof SharedArrayBuffer?t.slice(e,n):t.subarray(e,n));for(r="";e<n;){var o=t[e++];if(128&o){var i=63&t[e++];if(192==(224&o))r+=String.fromCharCode((31&o)<<6|i);else{var a=63&t[e++];65536>(o=224==(240&o)?(15&o)<<12|i<<6|a:(7&o)<<18|i<<12|a<<6|63&t[e++])?r+=String.fromCharCode(o):(o-=65536,r+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else r+=String.fromCharCode(o)}return r}function H(t,e){return(t>>>=0)?G(o(),t,e):""}function W(t,e,n,r){if(!(0<r))return 0;var o=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var a=t.charCodeAt(i);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++i)),127>=a){if(n>=r)break;e[n++>>>0]=a}else{if(2047>=a){if(n+1>=r)break;e[n++>>>0]=192|a>>6}else{if(65535>=a){if(n+2>=r)break;e[n++>>>0]=224|a>>12}else{if(n+3>=r)break;e[n++>>>0]=240|a>>18,e[n++>>>0]=128|a>>12&63}e[n++>>>0]=128|a>>6&63}e[n++>>>0]=128|63&a}}return e[n>>>0]=0,n-o}function q(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function Z(t){F=t,u.HEAP8=L=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=M=new Int32Array(t),u.HEAPU8=j=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=U=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=B=new Float64Array(t)}T&&(F=u.buffer);var X=u.INITIAL_MEMORY||16777216;if(T)R=u.wasmMemory,F=u.buffer;else if(u.wasmMemory)R=u.wasmMemory;else if(!((R=new WebAssembly.Memory({initial:X/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw D("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),x&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");R&&(F=R.buffer),X=F.byteLength,Z(F);var Y,K=[],J=[],$=[],Q=[];function tt(){return C||!1}function et(){var t=u.preRun.shift();K.unshift(t)}var nt,rt=0,ot=null,it=null;function at(t){throw T?postMessage({cmd:"onAbort",arg:t}):u.onAbort&&u.onAbort(t),D(t="Aborted("+t+")"),z=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),l(t),t}function st(){return nt.startsWith("data:application/octet-stream;base64,")}function ut(){var t=nt;try{if(t==nt&&I)return new Uint8Array(I);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){at(t)}}nt="ort-wasm-threaded.wasm",st()||(nt=S(nt));var ct={};function lt(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function ft(t){(t=gt.Vb[t])||at(),gt.mc(t)}function dt(t){var e=gt.Cc();if(!e)return 6;gt.ac.push(e),gt.Vb[t.Ub]=e,e.Ub=t.Ub;var n={cmd:"run",start_routine:t.Ic,arg:t.zc,pthread_ptr:t.Ub};return e.$b=function(){n.time=performance.now(),e.postMessage(n,t.Nc)},e.loaded&&(e.$b(),delete e.$b),0}function pt(t){if(T)return Xt(1,1,t);tt()||(gt.oc(),u.onExit&&u.onExit(t),z=!0),m(t,new lt(t))}function ht(t,e){if(!e&&T)throw vt(t),"unwind";tt()||T||(ye(),bt($),ve(0),oe[1].length&&ie(1,10),oe[2].length&&ie(2,10),gt.oc()),pt(t)}var gt={Yb:[],ac:[],qc:[],Vb:{},fc:function(){T&&gt.Ec()},Pc:function(){},Ec:function(){gt.receiveObjectTransfer=gt.Gc,gt.threadInitTLS=gt.pc,gt.setExitStatus=gt.nc,C=!1},nc:function(){},oc:function(){for(var t=0,e=Object.values(gt.Vb);t<e.length;t++){var n=e[t];gt.mc(n)}var r,o=_createForOfIteratorHelper(gt.Yb);try{for(o.s();!(r=o.n()).done;)(n=r.value).terminate()}catch(i){o.e(i)}finally{o.f()}gt.Yb=[]},mc:function(t){var e=t.Ub;delete gt.Vb[e],gt.Yb.push(t),gt.ac.splice(gt.ac.indexOf(t),1),t.Ub=0,Te(e)},Gc:function(){},pc:function(){gt.qc.forEach((function(t){return t()}))},Fc:function(t,e){t.onmessage=function(n){var r=(n=n.data).cmd;if(t.Ub&&(gt.Bc=t.Ub),n.targetThread&&n.targetThread!=he()){var o=gt.Vb[n.Qc];o?o.postMessage(n,n.transferList):D('Internal error! Worker sent a message "'+r+'" to target pthread '+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?Vt(n.queue):"spawnThread"===r?dt(n):"cleanupThread"===r?ft(n.thread):"killThread"===r?(n=n.thread,r=gt.Vb[n],delete gt.Vb[n],r.terminate(),Te(n),gt.ac.splice(gt.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?gt.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,e&&e(t),t.$b&&(t.$b(),delete t.$b)):"print"===r?P("Thread "+n.threadId+": "+n.text):"printErr"===r?D("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?t.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&D("worker sent an unknown command "+r);gt.Bc=void 0},t.onerror=function(t){throw D("worker sent an error! "+t.filename+":"+t.lineno+": "+t.message),t},x&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||r,wasmMemory:R,wasmModule:N})},yc:function(){var t=S("ort-wasm-threaded.worker.js");gt.Yb.push(new Worker(t))},Cc:function(){return 0==gt.Yb.length&&(gt.yc(),gt.Fc(gt.Yb[0])),gt.Yb.pop()}};function bt(t){for(;0<t.length;)t.shift()(u)}function vt(t){if(T)return Xt(2,0,t);try{ht(t)}catch(t){t instanceof lt||"unwind"==t||m(1,t)}}u.PThread=gt,u.establishStackSpace=function(){var t=he(),e=i()[t+44>>2>>>0];t=i()[t+48>>2>>>0],Oe(e,e-t),Ee(e)};var yt=[];function mt(t){var e=yt[t];return e||(t>=yt.length&&(yt.length=t+1),yt[t]=e=Y.get(t)),e}u.invokeEntryPoint=function(t,e){t=mt(t)(e),tt()?gt.nc(t):ke(t)};var _t,wt,xt=[],Tt=0,kt=0;function St(t){this.Zb=t,this.Sb=t-24,this.xc=function(t){a()[this.Sb+4>>2>>>0]=t},this.bc=function(){return a()[this.Sb+4>>2>>>0]},this.wc=function(t){a()[this.Sb+8>>2>>>0]=t},this.Dc=function(){return a()[this.Sb+8>>2>>>0]},this.rc=function(){i()[this.Sb>>2>>>0]=0},this.hc=function(t){t=t?1:0,e()[this.Sb+12>>0>>>0]=t},this.uc=function(){return 0!=e()[this.Sb+12>>0>>>0]},this.ic=function(t){t=t?1:0,e()[this.Sb+13>>0>>>0]=t},this.kc=function(){return 0!=e()[this.Sb+13>>0>>>0]},this.fc=function(t,e){this.cc(0),this.xc(t),this.wc(e),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(i(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(i(),this.Sb>>2,1)},this.cc=function(t){a()[this.Sb+16>>2>>>0]=t},this.tc=function(){return a()[this.Sb+16>>2>>>0]},this.vc=function(){if(De(this.bc()))return a()[this.Zb>>2>>>0];var t=this.tc();return 0!==t?t:this.Zb}}function Ot(t){return be(new St(t).Sb)}function At(t,e,n,r){return T?Xt(3,1,t,e,n,r):Et(t,e,n,r)}function Et(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return D("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var o=[];return T&&0===o.length?At(t,e,n,r):(t={Ic:n,Ub:t,zc:r,Nc:o},T?(t.Oc="spawnThread",postMessage(t,o),0):dt(t))}function It(t,e,n){return T?Xt(4,1,t,e,n):0}function Pt(t,e){if(T)return Xt(5,1,t,e)}function Dt(t,e){if(T)return Xt(6,1,t,e)}function Ct(t,e,n){if(T)return Xt(7,1,t,e,n)}function Rt(t,e,n){return T?Xt(8,1,t,e,n):0}function Nt(t,e){if(T)return Xt(9,1,t,e)}function Ft(t,e,n){if(T)return Xt(10,1,t,e,n)}function Lt(t,e,n,r){if(T)return Xt(11,1,t,e,n,r)}function jt(t,e,n,r){if(T)return Xt(12,1,t,e,n,r)}function Mt(t,e,n,r){if(T)return Xt(13,1,t,e,n,r)}function Ut(t){if(T)return Xt(14,1,t)}function Bt(t,e){if(T)return Xt(15,1,t,e)}function zt(t,e,n){if(T)return Xt(16,1,t,e,n)}function Vt(t){Atomics.store(i(),t>>2,1),he()&&xe(t),Atomics.compareExchange(i(),t>>2,1,0)}function Gt(t){return a()[t>>>2]+4294967296*i()[t+4>>>2]}function Ht(t,e,n,r,o,i){return T?Xt(17,1,t,e,n,r,o,i):-52}function Wt(t,e,n,r,o,i){if(T)return Xt(18,1,t,e,n,r,o,i)}function qt(t){var n=q(t)+1,r=ge(n);return r&&W(t,e(),r,n),r}function Zt(t,e,n){function r(t){return(t=t.toTimeString().match(/\(([A-Za-z ]+)\)$/))?t[1]:"GMT"}if(T)return Xt(19,1,t,e,n);var o=(new Date).getFullYear(),s=new Date(o,0,1),u=new Date(o,6,1);o=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(o,c);i()[t>>2>>>0]=60*l,i()[e>>2>>>0]=Number(o!=c),t=r(s),e=r(u),t=qt(t),e=qt(e),c<o?(a()[n>>2>>>0]=t,a()[n+4>>2>>>0]=e):(a()[n>>2>>>0]=e,a()[n+4>>2>>>0]=t)}function Xt(t,e){var n=arguments.length-2,r=arguments;return function(t){var e=Ae();return t=t(),Ee(e),t}((function(){for(var o=Ie(8*n),i=o>>3,a=0;a<n;a++){var u=r[2+a];s()[i+a>>>0]=u}return we(t,n,o,e)}))}u.executeNotifiedProxyingQueue=Vt,wt=x?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:T?function(){return performance.now()-u.__performance_now_clock_drift}:function(){return performance.now()};var Yt,Kt=[],Jt={};function $t(){if(!Yt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"};for(t in Jt)void 0===Jt[t]?delete e[t]:e[t]=Jt[t];var n=[];for(t in e)n.push(t+"="+e[t]);Yt=n}return Yt}function Qt(t,n){if(T)return Xt(20,1,t,n);var r=0;return $t().forEach((function(o,i){var s=n+r;for(i=a()[t+4*i>>2>>>0]=s,s=0;s<o.length;++s)e()[i++>>0>>>0]=o.charCodeAt(s);e()[i>>0>>>0]=0,r+=o.length+1})),0}function te(t,e){if(T)return Xt(21,1,t,e);var n=$t();a()[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),a()[e>>2>>>0]=r,0}function ee(t){return T?Xt(22,1,t):52}function ne(t,e,n,r){return T?Xt(23,1,t,e,n,r):52}function re(t,e,n,r,o){return T?Xt(24,1,t,e,n,r,o):70}var oe=[null,[],[]];function ie(t,e){var n=oe[t];0===e||10===e?((1===t?P:D)(G(n,0)),n.length=0):n.push(e)}function ae(t,e,n,r){if(T)return Xt(25,1,t,e,n,r);for(var i=0,s=0;s<n;s++){var u=a()[e>>2>>>0],c=a()[e+4>>2>>>0];e+=8;for(var l=0;l<c;l++)ie(t,o()[u+l>>>0]);i+=c}return a()[r>>2>>>0]=i,0}var se=0;function ue(t){return 0==t%4&&(0!=t%100||0==t%400)}var ce=[31,29,31,30,31,30,31,31,30,31,30,31],le=[31,28,31,30,31,30,31,31,30,31,30,31];function fe(t,n,r,o){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function s(t,e){return a(t,e,"0")}function u(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function c(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function l(t){var e=t.Wb;for(t=new Date(new Date(t.Xb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(ue(t.getFullYear())?ce:le)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=c(new Date(t.getFullYear(),0,4)),n=c(n),0>=u(e,t)?0>=u(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=i()[o+40>>2>>>0];for(var d in o={Lc:i()[o>>2>>>0],Kc:i()[o+4>>2>>>0],dc:i()[o+8>>2>>>0],jc:i()[o+12>>2>>>0],ec:i()[o+16>>2>>>0],Xb:i()[o+20>>2>>>0],Tb:i()[o+24>>2>>>0],Wb:i()[o+28>>2>>>0],Rc:i()[o+32>>2>>>0],Jc:i()[o+36>>2>>>0],Mc:f?H(f):""},r=H(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(d,"g"),f[d]);var p="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" ");for(d in f={"%a":function(t){return p[t.Tb].substring(0,3)},"%A":function(t){return p[t.Tb]},"%b":function(t){return h[t.ec].substring(0,3)},"%B":function(t){return h[t.ec]},"%C":function(t){return s((t.Xb+1900)/100|0,2)},"%d":function(t){return s(t.jc,2)},"%e":function(t){return a(t.jc,2," ")},"%g":function(t){return l(t).toString().substring(2)},"%G":function(t){return l(t)},"%H":function(t){return s(t.dc,2)},"%I":function(t){return 0==(t=t.dc)?t=12:12<t&&(t-=12),s(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.ec-1;e+=(ue(t.Xb+1900)?ce:le)[n++]);return s(t.jc+e,3)},"%m":function(t){return s(t.ec+1,2)},"%M":function(t){return s(t.Kc,2)},"%n":function(){return"\n"},"%p":function(t){return 0<=t.dc&&12>t.dc?"AM":"PM"},"%S":function(t){return s(t.Lc,2)},"%t":function(){return"\t"},"%u":function(t){return t.Tb||7},"%U":function(t){return s(Math.floor((t.Wb+7-t.Tb)/7),2)},"%V":function(t){var e=Math.floor((t.Wb+7-(t.Tb+6)%7)/7);if(2>=(t.Tb+371-t.Wb-2)%7&&e++,e)53==e&&(4==(n=(t.Tb+371-t.Wb)%7)||3==n&&ue(t.Xb)||(e=1));else{e=52;var n=(t.Tb+7-t.Wb-1)%7;(4==n||5==n&&ue(t.Xb%400-1))&&e++}return s(e,2)},"%w":function(t){return t.Tb},"%W":function(t){return s(Math.floor((t.Wb+7-(t.Tb+6)%7)/7),2)},"%y":function(t){return(t.Xb+1900).toString().substring(2)},"%Y":function(t){return t.Xb+1900},"%z":function(t){var e=0<=(t=t.Jc);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\0\0"),f)r.includes(d)&&(r=r.replace(new RegExp(d,"g"),f[d](o)));return d=function(t){var e=Array(q(t)+1);return W(t,e,0,e.length),e}(r=r.replace(/\0\0/g,"%")),d.length>n?0:(function(t,n){e().set(t,n>>>0)}(d,t),d.length-1)}gt.fc();var de=[null,pt,vt,At,It,Pt,Dt,Ct,Rt,Nt,Ft,Lt,jt,Mt,Ut,Bt,zt,Ht,Wt,Zt,Qt,te,ee,ne,re,ae],pe={b:function(t){return ge(t+24)+24},n:function(t){return(t=new St(t)).uc()||(t.hc(!0),Tt--),t.ic(!1),xt.push(t),t.sc(),t.vc()},ma:function(t){throw D("Unexpected exception thrown, this is not properly supported - aborting"),z=!0,t},x:function(){Se(0);var t=xt.pop();if(t.Hc()&&!t.kc()){var e=t.Dc();e&&mt(e)(t.Zb),Ot(t.Zb)}kt=0},e:function(){var t=kt;if(!t)return se=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return se=0,t;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(Pe(i,n,e.Sb+16))return se=i,t}return se=n,t},l:function(){var t=kt;if(!t)return se=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return se=0,t;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(Pe(i,n,e.Sb+16))return se=i,t}return se=n,t},h:function(){var t=kt;if(!t)return se=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return se=0,t;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(Pe(i,n,e.Sb+16))return se=i,t}return se=n,t},t:Ot,M:function(){var t=xt.pop();t||at("no exception to throw");var e=t.Zb;throw t.kc()||(xt.push(t),t.ic(!0),t.hc(!1),Tt++),kt=e,e},c:function(t,e,n){throw new St(t).fc(e,n),kt=t,Tt++,t},pa:function(){return Tt},Fa:function(t){me(t,!w,1,!_),gt.pc()},T:function(t){T?postMessage({cmd:"cleanupThread",thread:t}):ft(t)},xa:Et,j:function(t){throw kt||(kt=t),t},H:It,Ma:Pt,ua:Dt,wa:Ct,oa:Rt,Ka:Nt,Ca:Ft,Ja:Lt,V:jt,va:Mt,sa:Ut,La:Bt,ta:zt,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(t,e,n,r){if(t==e)setTimeout((function(){return Vt(r)}));else if(T)postMessage({targetThread:t,cmd:"processProxyingQueue",queue:r});else{if(!(t=gt.Vb[t]))return;t.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(t,e){t=new Date(1e3*Gt(t)),i()[e>>2>>>0]=t.getUTCSeconds(),i()[e+4>>2>>>0]=t.getUTCMinutes(),i()[e+8>>2>>>0]=t.getUTCHours(),i()[e+12>>2>>>0]=t.getUTCDate(),i()[e+16>>2>>>0]=t.getUTCMonth(),i()[e+20>>2>>>0]=t.getUTCFullYear()-1900,i()[e+24>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,i()[e+28>>2>>>0]=t},Qa:function(t,e){t=new Date(1e3*Gt(t)),i()[e>>2>>>0]=t.getSeconds(),i()[e+4>>2>>>0]=t.getMinutes(),i()[e+8>>2>>>0]=t.getHours(),i()[e+12>>2>>>0]=t.getDate(),i()[e+16>>2>>>0]=t.getMonth(),i()[e+20>>2>>>0]=t.getFullYear()-1900,i()[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;i()[e+28>>2>>>0]=r,i()[e+36>>2>>>0]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),i()[e+32>>2>>>0]=t},Ra:function(t){var e=new Date(i()[t+20>>2>>>0]+1900,i()[t+16>>2>>>0],i()[t+12>>2>>>0],i()[t+8>>2>>>0],i()[t+4>>2>>>0],i()[t>>2>>>0],0),n=i()[t+32>>2>>>0],r=e.getTimezoneOffset(),o=new Date(e.getFullYear(),0,1),a=new Date(e.getFullYear(),6,1).getTimezoneOffset(),s=o.getTimezoneOffset(),u=Math.min(s,a);return 0>n?i()[t+32>>2>>>0]=Number(a!=s&&u==r):0<n!=(u==r)&&(a=Math.max(s,a),e.setTime(e.getTime()+6e4*((0<n?u:a)-r))),i()[t+24>>2>>>0]=e.getDay(),n=(e.getTime()-o.getTime())/864e5|0,i()[t+28>>2>>>0]=n,i()[t>>2>>>0]=e.getSeconds(),i()[t+4>>2>>>0]=e.getMinutes(),i()[t+8>>2>>>0]=e.getHours(),i()[t+12>>2>>>0]=e.getDate(),i()[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},Aa:Ht,Ba:Wt,Sa:function t(e,n,r){t.Ac||(t.Ac=!0,Zt(e,n,r))},y:function(){at("")},U:function(){if(!x&&!w){var t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";_t||(_t={}),_t[t]||(_t[t]=1,x&&(t="warning: "+t),D(t))}},ra:function(){return 4294901760},B:wt,Ia:function(t,e,n){o().copyWithin(t>>>0,e>>>0,e+n>>>0)},F:function(){return x?n(3993).cpus().length:navigator.hardwareConcurrency},Da:function(t,e,n){Kt.length=e,n>>=3;for(var r=0;r<e;r++)Kt[r]=s()[n+r>>>0];return(0>t?ct[-t-1]:de[t]).apply(null,Kt)},qa:function(t){var e=o().length;if((t>>>=0)<=e||4294901760<t)return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var i=Math;r=Math.max(t,r),i=i.min.call(i,4294901760,r+(65536-r%65536)%65536);t:{try{R.grow(i-F.byteLength+65535>>>16),Z(R.buffer);var a=1;break t}catch(t){}a=void 0}if(a)return!0}return!1},Na:function(){throw"unwind"},Ga:Qt,Ha:te,J:ht,I:ee,S:ne,ga:re,R:ae,d:function(){return se},na:function t(r,o){t.lc||(t.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return function(){return crypto.getRandomValues(t),t[0]}}if(x)try{var e=n(Object(function(){var t=new Error("Cannot find module 'crypto'");throw t.code="MODULE_NOT_FOUND",t}()));return function(){return e.randomBytes(1)[0]}}catch(t){}return function(){return at("randomDevice")}}());for(var i=0;i<o;i++)e()[r+i>>0>>>0]=t.lc();return 0},ia:function(t,e,n){var r=Ae();try{return mt(t)(e,n)}catch(t){if(Ee(r),t!==t+0)throw t;Se(1,0)}},ja:function(t,e,n){var r=Ae();try{return mt(t)(e,n)}catch(t){if(Ee(r),t!==t+0)throw t;Se(1,0)}},K:function(t){var e=Ae();try{return mt(t)()}catch(t){if(Ee(e),t!==t+0)throw t;Se(1,0)}},f:function(t,e){var n=Ae();try{return mt(t)(e)}catch(t){if(Ee(n),t!==t+0)throw t;Se(1,0)}},P:function(t,e,n){var r=Ae();try{return mt(t)(e,n)}catch(t){if(Ee(r),t!==t+0)throw t;Se(1,0)}},Q:function(t,e,n){var r=Ae();try{return mt(t)(e,n)}catch(t){if(Ee(r),t!==t+0)throw t;Se(1,0)}},k:function(t,e,n){var r=Ae();try{return mt(t)(e,n)}catch(t){if(Ee(r),t!==t+0)throw t;Se(1,0)}},p:function(t,e,n,r){var o=Ae();try{return mt(t)(e,n,r)}catch(t){if(Ee(o),t!==t+0)throw t;Se(1,0)}},q:function(t,e,n,r,o){var i=Ae();try{return mt(t)(e,n,r,o)}catch(t){if(Ee(i),t!==t+0)throw t;Se(1,0)}},N:function(t,e,n,r,o,i){var a=Ae();try{return mt(t)(e,n,r,o,i)}catch(t){if(Ee(a),t!==t+0)throw t;Se(1,0)}},s:function(t,e,n,r,o,i){var a=Ae();try{return mt(t)(e,n,r,o,i)}catch(t){if(Ee(a),t!==t+0)throw t;Se(1,0)}},w:function(t,e,n,r,o,i,a){var s=Ae();try{return mt(t)(e,n,r,o,i,a)}catch(t){if(Ee(s),t!==t+0)throw t;Se(1,0)}},L:function(t,e,n,r,o,i,a,s){var u=Ae();try{return mt(t)(e,n,r,o,i,a,s)}catch(t){if(Ee(u),t!==t+0)throw t;Se(1,0)}},E:function(t,e,n,r,o,i,a,s,u,c,l,f){var d=Ae();try{return mt(t)(e,n,r,o,i,a,s,u,c,l,f)}catch(t){if(Ee(d),t!==t+0)throw t;Se(1,0)}},aa:function(t,e,n,r,o,i,a,s){var u=Ae();try{return Be(t,e,n,r,o,i,a,s)}catch(t){if(Ee(u),t!==t+0)throw t;Se(1,0)}},_:function(t,e,n,r,o,i,a){var s=Ae();try{return Re(t,e,n,r,o,i,a)}catch(t){if(Ee(s),t!==t+0)throw t;Se(1,0)}},Z:function(t,e,n,r,o){var i=Ae();try{return ze(t,e,n,r,o)}catch(t){if(Ee(i),t!==t+0)throw t;Se(1,0)}},ca:function(t,e,n,r){var o=Ae();try{return Me(t,e,n,r)}catch(t){if(Ee(o),t!==t+0)throw t;Se(1,0)}},$:function(t){var e=Ae();try{return Ce(t)}catch(t){if(Ee(e),t!==t+0)throw t;Se(1,0)}},ba:function(t,e){var n=Ae();try{return Ue(t,e)}catch(t){if(Ee(n),t!==t+0)throw t;Se(1,0)}},Y:function(t,e,n){var r=Ae();try{return Ne(t,e,n)}catch(t){if(Ee(r),t!==t+0)throw t;Se(1,0)}},g:function(t){var e=Ae();try{mt(t)()}catch(t){if(Ee(e),t!==t+0)throw t;Se(1,0)}},r:function(t,e){var n=Ae();try{mt(t)(e)}catch(t){if(Ee(n),t!==t+0)throw t;Se(1,0)}},i:function(t,e,n){var r=Ae();try{mt(t)(e,n)}catch(t){if(Ee(r),t!==t+0)throw t;Se(1,0)}},ha:function(t,e,n,r){var o=Ae();try{mt(t)(e,n,r)}catch(t){if(Ee(o),t!==t+0)throw t;Se(1,0)}},m:function(t,e,n,r){var o=Ae();try{mt(t)(e,n,r)}catch(t){if(Ee(o),t!==t+0)throw t;Se(1,0)}},v:function(t,e,n,r,o){var i=Ae();try{mt(t)(e,n,r,o)}catch(t){if(Ee(i),t!==t+0)throw t;Se(1,0)}},u:function(t,e,n,r,o,i){var a=Ae();try{mt(t)(e,n,r,o,i)}catch(t){if(Ee(a),t!==t+0)throw t;Se(1,0)}},O:function(t,e,n,r,o,i,a){var s=Ae();try{mt(t)(e,n,r,o,i,a)}catch(t){if(Ee(s),t!==t+0)throw t;Se(1,0)}},A:function(t,e,n,r,o,i,a,s){var u=Ae();try{mt(t)(e,n,r,o,i,a,s)}catch(t){if(Ee(u),t!==t+0)throw t;Se(1,0)}},ka:function(t,e,n,r,o,i,a,s,u){var c=Ae();try{mt(t)(e,n,r,o,i,a,s,u)}catch(t){if(Ee(c),t!==t+0)throw t;Se(1,0)}},C:function(t,e,n,r,o,i,a,s,u,c,l){var f=Ae();try{mt(t)(e,n,r,o,i,a,s,u,c,l)}catch(t){if(Ee(f),t!==t+0)throw t;Se(1,0)}},D:function(t,e,n,r,o,i,a,s,u,c,l,f,d,p,h,g){var b=Ae();try{mt(t)(e,n,r,o,i,a,s,u,c,l,f,d,p,h,g)}catch(t){if(Ee(b),t!==t+0)throw t;Se(1,0)}},fa:function(t,e,n,r,o,i,a,s){var u=Ae();try{Fe(t,e,n,r,o,i,a,s)}catch(t){if(Ee(u),t!==t+0)throw t;Se(1,0)}},da:function(t,e,n,r,o,i,a,s,u,c,l,f){var d=Ae();try{je(t,e,n,r,o,i,a,s,u,c,l,f)}catch(t){if(Ee(d),t!==t+0)throw t;Se(1,0)}},ea:function(t,e,n,r,o,i){var a=Ae();try{Le(t,e,n,r,o,i)}catch(t){if(Ee(a),t!==t+0)throw t;Se(1,0)}},o:function(t){return t},a:R||u.wasmMemory,G:function(t){se=t},la:fe,z:function(t,e,n,r){return fe(t,e,n,r)}};!function(){function t(t,e){u.asm=t.exports,gt.qc.push(u.asm.sb),Y=u.asm.ub,J.unshift(u.asm.Va),N=e,T||(rt--,u.monitorRunDependencies&&u.monitorRunDependencies(rt),0==rt&&(null!==ot&&(clearInterval(ot),ot=null),it&&(t=it,it=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!I&&(_||w)){if("function"==typeof fetch&&!nt.startsWith("file://"))return fetch(nt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+nt+"'";return t.arrayBuffer()})).catch((function(){return ut()}));if(d)return new Promise((function(t,e){d(nt,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ut()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then((function(t){return t})).then(t,(function(t){D("failed to asynchronously prepare wasm: "+t),at(t)}))}var r={a:pe};if(T||(rt++,u.monitorRunDependencies&&u.monitorRunDependencies(rt)),u.instantiateWasm)try{return u.instantiateWasm(r,t)}catch(t){return D("Module.instantiateWasm callback failed with error: "+t),!1}(I||"function"!=typeof WebAssembly.instantiateStreaming||st()||nt.startsWith("file://")||x||"function"!=typeof fetch?n(e):fetch(nt,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return D("wasm streaming compile failed: "+t),D("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(l)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var he=u._pthread_self=function(){return(he=u._pthread_self=u.asm.ob).apply(null,arguments)},ge=u._malloc=function(){return(ge=u._malloc=u.asm.pb).apply(null,arguments)},be=u._free=function(){return(be=u._free=u.asm.qb).apply(null,arguments)},ve=u._fflush=function(){return(ve=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var ye=u.___funcs_on_exit=function(){return(ye=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},me=u.__emscripten_thread_init=function(){return(me=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var _e,we=u._emscripten_run_in_main_runtime_thread_js=function(){return(we=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},xe=u.__emscripten_proxy_execute_task_queue=function(){return(xe=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Te=u.__emscripten_thread_free_data=function(){return(Te=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},ke=u.__emscripten_thread_exit=function(){return(ke=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Se=u._setThrew=function(){return(Se=u._setThrew=u.asm.Bb).apply(null,arguments)},Oe=u._emscripten_stack_set_limits=function(){return(Oe=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Ae=u.stackSave=function(){return(Ae=u.stackSave=u.asm.Db).apply(null,arguments)},Ee=u.stackRestore=function(){return(Ee=u.stackRestore=u.asm.Eb).apply(null,arguments)},Ie=u.stackAlloc=function(){return(Ie=u.stackAlloc=u.asm.Fb).apply(null,arguments)},Pe=u.___cxa_can_catch=function(){return(Pe=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},De=u.___cxa_is_pointer_type=function(){return(De=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},Ce=u.dynCall_j=function(){return(Ce=u.dynCall_j=u.asm.Ib).apply(null,arguments)},Re=u.dynCall_iiiiij=function(){return(Re=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},Ne=u.dynCall_jii=function(){return(Ne=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Fe=u.dynCall_viiiiij=function(){return(Fe=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Le=u.dynCall_vjji=function(){return(Le=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},je=u.dynCall_viiijjjii=function(){return(je=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},Me=u.dynCall_iij=function(){return(Me=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},Ue=u.dynCall_ji=function(){return(Ue=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},Be=u.dynCall_iiiiiij=function(){return(Be=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},ze=u.dynCall_iiij=function(){return(ze=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function Ve(){function t(){if(!_e&&(_e=!0,u.calledRun=!0,!z)&&(T||bt(J),c(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!T)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Q.unshift(t)}bt(Q)}}if(!(0<rt))if(T)c(u),T||bt(J),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)et();bt(K),0<rt||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}}if(u.UTF8ToString=H,u.stringToUTF8=function(t,e,n){return W(t,o(),e,n)},u.lengthBytesUTF8=q,u.keepRuntimeAlive=tt,u.wasmMemory=R,u.stackSave=Ae,u.stackRestore=Ee,u.stackAlloc=Ie,u.ExitStatus=lt,u.PThread=gt,it=function t(){_e||Ve(),_e||(it=t)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return Ve(),t.ready});t.exports=o},932:function(t,e,n){var r,o=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,o,i;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){o=t,i=e}));var a,s,u,c,l,f,d=Object.assign({},e),p="./this.program",h=function(t,e){throw e},g="object"==typeof window,b="function"==typeof importScripts,v="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,y="";v?(y=b?n(908).dirname(y)+"/":"//",f=function(){l||(c=n(1384),l=n(908))},a=function(t,e){return f(),t=l.normalize(t),c.readFileSync(t,e?void 0:"utf8")},u=function(t){return(t=a(t,!0)).buffer||(t=new Uint8Array(t)),t},s=function(t,e,n){f(),t=l.normalize(t),c.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof J))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=function(t,e){if(x||0<z)throw process.exitCode=t,e;e instanceof J||w("exiting due to exception: "+e),process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"}):(g||b)&&(b?y=self.location.href:"undefined"!=typeof document&&document.currentScript&&(y=document.currentScript.src),r&&(y=r),y=0!==y.indexOf("blob:")?y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):"",a=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},b&&(u=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),s=function(t,e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var m,_=e.print||console.log.bind(console),w=e.printErr||console.warn.bind(console);Object.assign(e,d),d=null,e.thisProgram&&(p=e.thisProgram),e.quit&&(h=e.quit),e.wasmBinary&&(m=e.wasmBinary);var x=e.noExitRuntime||!1;"object"!=typeof WebAssembly&&Z("no native wasm support detected");var T,k,S,O,A,E,I=!1,P="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function D(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&P)return P.decode(t.subarray(e,n));for(r="";e<n;){var o=t[e++];if(128&o){var i=63&t[e++];if(192==(224&o))r+=String.fromCharCode((31&o)<<6|i);else{var a=63&t[e++];65536>(o=224==(240&o)?(15&o)<<12|i<<6|a:(7&o)<<18|i<<12|a<<6|63&t[e++])?r+=String.fromCharCode(o):(o-=65536,r+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else r+=String.fromCharCode(o)}return r}function C(t,e){return(t>>>=0)?D(O,t,e):""}function R(t,e,n,r){if(!(0<r))return 0;var o=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var a=t.charCodeAt(i);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++i)),127>=a){if(n>=r)break;e[n++>>>0]=a}else{if(2047>=a){if(n+1>=r)break;e[n++>>>0]=192|a>>6}else{if(65535>=a){if(n+2>=r)break;e[n++>>>0]=224|a>>12}else{if(n+3>=r)break;e[n++>>>0]=240|a>>18,e[n++>>>0]=128|a>>12&63}e[n++>>>0]=128|a>>6&63}e[n++>>>0]=128|63&a}}return e[n>>>0]=0,n-o}function N(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function F(){var t=T.buffer;k=t,e.HEAP8=S=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=A=new Int32Array(t),e.HEAPU8=O=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=E=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var L,j=[],M=[],U=[],B=[],z=0;function V(){var t=e.preRun.shift();j.unshift(t)}var G,H=0,W=null,q=null;function Z(t){throw e.onAbort&&e.onAbort(t),w(t="Aborted("+t+")"),I=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),i(t),t}function X(){return G.startsWith("data:application/octet-stream;base64,")}if(G="ort-wasm.wasm",!X()){var Y=G;G=e.locateFile?e.locateFile(Y,y):y+Y}function K(){var t=G;try{if(t==G&&m)return new Uint8Array(m);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){Z(t)}}function J(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function $(t){for(;0<t.length;)t.shift()(e)}var Q=[],tt=0,et=0;function nt(t){this.Db=t,this.zb=t-24,this.Ub=function(t){E[this.zb+4>>2>>>0]=t},this.Eb=function(){return E[this.zb+4>>2>>>0]},this.Sb=function(t){E[this.zb+8>>2>>>0]=t},this.Wb=function(){return E[this.zb+8>>2>>>0]},this.Tb=function(){A[this.zb>>2>>>0]=0},this.Ib=function(t){S[this.zb+12>>0>>>0]=t?1:0},this.Pb=function(){return 0!=S[this.zb+12>>0>>>0]},this.Jb=function(t){S[this.zb+13>>0>>>0]=t?1:0},this.Lb=function(){return 0!=S[this.zb+13>>0>>>0]},this.Rb=function(t,e){this.Fb(0),this.Ub(t),this.Sb(e),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){A[this.zb>>2>>>0]+=1},this.Xb=function(){var t=A[this.zb>>2>>>0];return A[this.zb>>2>>>0]=t-1,1===t},this.Fb=function(t){E[this.zb+16>>2>>>0]=t},this.Ob=function(){return E[this.zb+16>>2>>>0]},this.Qb=function(){if(Et(this.Eb()))return E[this.Db>>2>>>0];var t=this.Ob();return 0!==t?t:this.Db}}function rt(t){return _t(new nt(t).zb)}var ot=[];function it(t){var e=ot[t];return e||(t>=ot.length&&(ot.length=t+1),ot[t]=e=L.get(t)),e}function at(t){var e=N(t)+1,n=mt(e);return n&&R(t,S,n,e),n}var st={};function ut(){if(!ct){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in st)void 0===st[t]?delete e[t]:e[t]=st[t];var n=[];for(t in e)n.push(t+"="+e[t]);ct=n}return ct}var ct,lt=[null,[],[]];function ft(t,e){var n=lt[t];0===e||10===e?((1===t?_:w)(D(n,0)),n.length=0):n.push(e)}var dt=0;function pt(t){return 0==t%4&&(0!=t%100||0==t%400)}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],gt=[31,28,31,30,31,30,31,31,30,31,30,31];function bt(t,e,n,r){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return o(t,e,"0")}function a(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function u(t){var e=t.Bb;for(t=new Date(new Date(t.Cb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(pt(t.getFullYear())?ht:gt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=a(e,t)?0>=a(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var c=A[r+40>>2>>>0];for(var l in r={$b:A[r>>2>>>0],Zb:A[r+4>>2>>>0],Gb:A[r+8>>2>>>0],Kb:A[r+12>>2>>>0],Hb:A[r+16>>2>>>0],Cb:A[r+20>>2>>>0],Ab:A[r+24>>2>>>0],Bb:A[r+28>>2>>>0],bc:A[r+32>>2>>>0],Yb:A[r+36>>2>>>0],ac:c?C(c):""},n=C(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(l in c={"%a":function(t){return f[t.Ab].substring(0,3)},"%A":function(t){return f[t.Ab]},"%b":function(t){return d[t.Hb].substring(0,3)},"%B":function(t){return d[t.Hb]},"%C":function(t){return i((t.Cb+1900)/100|0,2)},"%d":function(t){return i(t.Kb,2)},"%e":function(t){return o(t.Kb,2," ")},"%g":function(t){return u(t).toString().substring(2)},"%G":function(t){return u(t)},"%H":function(t){return i(t.Gb,2)},"%I":function(t){return 0==(t=t.Gb)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.Hb-1;e+=(pt(t.Cb+1900)?ht:gt)[n++]);return i(t.Kb+e,3)},"%m":function(t){return i(t.Hb+1,2)},"%M":function(t){return i(t.Zb,2)},"%n":function(){return"\n"},"%p":function(t){return 0<=t.Gb&&12>t.Gb?"AM":"PM"},"%S":function(t){return i(t.$b,2)},"%t":function(){return"\t"},"%u":function(t){return t.Ab||7},"%U":function(t){return i(Math.floor((t.Bb+7-t.Ab)/7),2)},"%V":function(t){var e=Math.floor((t.Bb+7-(t.Ab+6)%7)/7);if(2>=(t.Ab+371-t.Bb-2)%7&&e++,e)53==e&&(4==(n=(t.Ab+371-t.Bb)%7)||3==n&&pt(t.Cb)||(e=1));else{e=52;var n=(t.Ab+7-t.Bb-1)%7;(4==n||5==n&&pt(t.Cb%400-1))&&e++}return i(e,2)},"%w":function(t){return t.Ab},"%W":function(t){return i(Math.floor((t.Bb+7-(t.Ab+6)%7)/7),2)},"%y":function(t){return(t.Cb+1900).toString().substring(2)},"%Y":function(t){return t.Cb+1900},"%z":function(t){var e=0<=(t=t.Yb);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\0\0"),c)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return l=function(t){var e=Array(N(t)+1);return R(t,e,0,e.length),e}(n=n.replace(/\0\0/g,"%")),l.length>e?0:(S.set(l,t>>>0),l.length-1)}var vt={a:function(t){return mt(t+24)+24},m:function(t){return(t=new nt(t)).Pb()||(t.Ib(!0),tt--),t.Jb(!1),Q.push(t),t.Nb(),t.Qb()},ia:function(t){throw w("Unexpected exception thrown, this is not properly supported - aborting"),I=!0,t},w:function(){Tt(0);var t=Q.pop();if(t.Xb()&&!t.Lb()){var e=t.Wb();e&&it(e)(t.Db),rt(t.Db)}et=0},d:function(){var t=et;if(!t)return dt=0;var e=new nt(t);e.Fb(t);var n=e.Eb();if(!n)return dt=0,t;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(At(i,n,e.zb+16))return dt=i,t}return dt=n,t},k:function(){var t=et;if(!t)return dt=0;var e=new nt(t);e.Fb(t);var n=e.Eb();if(!n)return dt=0,t;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(At(i,n,e.zb+16))return dt=i,t}return dt=n,t},g:function(){var t=et;if(!t)return dt=0;var e=new nt(t);e.Fb(t);var n=e.Eb();if(!n)return dt=0,t;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(At(i,n,e.zb+16))return dt=i,t}return dt=n,t},s:rt,L:function(){var t=Q.pop();t||Z("no exception to throw");var e=t.Db;throw t.Lb()||(Q.push(t),t.Jb(!0),t.Ib(!1),tt++),et=e,e},b:function(t,e,n){throw new nt(t).Rb(e,n),et=t,tt++,t},la:function(){return tt},i:function(t){throw et||(et=t),t},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){Z("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){Z("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(t,e){t=new Date(1e3*(E[t>>>2]+4294967296*A[t+4>>>2])),A[e>>2>>>0]=t.getUTCSeconds(),A[e+4>>2>>>0]=t.getUTCMinutes(),A[e+8>>2>>>0]=t.getUTCHours(),A[e+12>>2>>>0]=t.getUTCDate(),A[e+16>>2>>>0]=t.getUTCMonth(),A[e+20>>2>>>0]=t.getUTCFullYear()-1900,A[e+24>>2>>>0]=t.getUTCDay(),A[e+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(t,e){t=new Date(1e3*(E[t>>>2]+4294967296*A[t+4>>>2])),A[e>>2>>>0]=t.getSeconds(),A[e+4>>2>>>0]=t.getMinutes(),A[e+8>>2>>>0]=t.getHours(),A[e+12>>2>>>0]=t.getDate(),A[e+16>>2>>>0]=t.getMonth(),A[e+20>>2>>>0]=t.getFullYear()-1900,A[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1);A[e+28>>2>>>0]=(t.getTime()-n.getTime())/864e5|0,A[e+36>>2>>>0]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),A[e+32>>2>>>0]=0|(r!=n&&t.getTimezoneOffset()==Math.min(n,r))},Fa:function(t){var e=new Date(A[t+20>>2>>>0]+1900,A[t+16>>2>>>0],A[t+12>>2>>>0],A[t+8>>2>>>0],A[t+4>>2>>>0],A[t>>2>>>0],0),n=A[t+32>>2>>>0],r=e.getTimezoneOffset(),o=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),a=o.getTimezoneOffset(),s=Math.min(a,i);return 0>n?A[t+32>>2>>>0]=Number(i!=a&&s==r):0<n!=(s==r)&&(i=Math.max(a,i),e.setTime(e.getTime()+6e4*((0<n?s:i)-r))),A[t+24>>2>>>0]=e.getDay(),A[t+28>>2>>>0]=(e.getTime()-o.getTime())/864e5|0,A[t>>2>>>0]=e.getSeconds(),A[t+4>>2>>>0]=e.getMinutes(),A[t+8>>2>>>0]=e.getHours(),A[t+12>>2>>>0]=e.getDate(),A[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function t(e,n,r){t.Vb||(t.Vb=!0,function(t,e,n){function r(t){return(t=t.toTimeString().match(/\(([A-Za-z ]+)\)$/))?t[1]:"GMT"}var o=(new Date).getFullYear(),i=new Date(o,0,1),a=new Date(o,6,1);o=i.getTimezoneOffset();var s=a.getTimezoneOffset();A[t>>2>>>0]=60*Math.max(o,s),A[e>>2>>>0]=Number(o!=s),t=r(i),e=r(a),t=at(t),e=at(e),s<o?(E[n>>2>>>0]=t,E[n+4>>2>>>0]=e):(E[n>>2>>>0]=e,E[n+4>>2>>>0]=t)}(e,n,r))},B:function(){Z("")},ma:function(){return 4294901760},I:v?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:function(){return performance.now()},xa:function(t,e,n){O.copyWithin(t>>>0,e>>>0,e+n>>>0)},G:function(t){var e=O.length;if(4294901760<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var o=Math;r=Math.max(t,r),o=o.min.call(o,4294901760,r+(65536-r%65536)%65536);t:{try{T.grow(o-k.byteLength+65535>>>16),F();var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},va:function(t,e){var n=0;return ut().forEach((function(r,o){var i=e+n;for(o=E[t+4*o>>2>>>0]=i,i=0;i<r.length;++i)S[o++>>0>>>0]=r.charCodeAt(i);S[o>>0>>>0]=0,n+=r.length+1})),0},wa:function(t,e){var n=ut();E[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),E[e>>2>>>0]=r,0},ba:function(t){x||0<z||(xt(),$(U),wt(0),lt[1].length&&ft(1,10),lt[2].length&&ft(2,10)),x||0<z||(e.onExit&&e.onExit(t),I=!0),h(t,new J(t))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(t,e,n,r){for(var o=0,i=0;i<n;i++){var a=E[e>>2>>>0],s=E[e+4>>2>>>0];e+=8;for(var u=0;u<s;u++)ft(t,O[a+u>>>0]);o+=s}return E[r>>2>>>0]=o,0},c:function(){return dt},ja:function t(e,r){t.Mb||(t.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return function(){return crypto.getRandomValues(t),t[0]}}if(v)try{var e=n(Object(function(){var t=new Error("Cannot find module 'crypto'");throw t.code="MODULE_NOT_FOUND",t}()));return function(){return e.randomBytes(1)[0]}}catch(t){}return function(){return Z("randomDevice")}}());for(var o=0;o<r;o++)S[e+o>>0>>>0]=t.Mb();return 0},ea:function(t,e,n){var r=kt();try{return it(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Tt(1,0)}},fa:function(t,e,n){var r=kt();try{return it(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Tt(1,0)}},J:function(t){var e=kt();try{return it(t)()}catch(t){if(St(e),t!==t+0)throw t;Tt(1,0)}},e:function(t,e){var n=kt();try{return it(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Tt(1,0)}},N:function(t,e,n){var r=kt();try{return it(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Tt(1,0)}},O:function(t,e,n){var r=kt();try{return it(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Tt(1,0)}},j:function(t,e,n){var r=kt();try{return it(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Tt(1,0)}},o:function(t,e,n,r){var o=kt();try{return it(t)(e,n,r)}catch(t){if(St(o),t!==t+0)throw t;Tt(1,0)}},p:function(t,e,n,r,o){var i=kt();try{return it(t)(e,n,r,o)}catch(t){if(St(i),t!==t+0)throw t;Tt(1,0)}},M:function(t,e,n,r,o,i){var a=kt();try{return it(t)(e,n,r,o,i)}catch(t){if(St(a),t!==t+0)throw t;Tt(1,0)}},r:function(t,e,n,r,o,i){var a=kt();try{return it(t)(e,n,r,o,i)}catch(t){if(St(a),t!==t+0)throw t;Tt(1,0)}},v:function(t,e,n,r,o,i,a){var s=kt();try{return it(t)(e,n,r,o,i,a)}catch(t){if(St(s),t!==t+0)throw t;Tt(1,0)}},K:function(t,e,n,r,o,i,a,s){var u=kt();try{return it(t)(e,n,r,o,i,a,s)}catch(t){if(St(u),t!==t+0)throw t;Tt(1,0)}},D:function(t,e,n,r,o,i,a,s,u,c,l,f){var d=kt();try{return it(t)(e,n,r,o,i,a,s,u,c,l,f)}catch(t){if(St(d),t!==t+0)throw t;Tt(1,0)}},X:function(t,e,n,r,o,i,a,s){var u=kt();try{return jt(t,e,n,r,o,i,a,s)}catch(t){if(St(u),t!==t+0)throw t;Tt(1,0)}},V:function(t,e,n,r,o,i,a){var s=kt();try{return Pt(t,e,n,r,o,i,a)}catch(t){if(St(s),t!==t+0)throw t;Tt(1,0)}},U:function(t,e,n,r,o){var i=kt();try{return Mt(t,e,n,r,o)}catch(t){if(St(i),t!==t+0)throw t;Tt(1,0)}},Z:function(t,e,n,r){var o=kt();try{return Ft(t,e,n,r)}catch(t){if(St(o),t!==t+0)throw t;Tt(1,0)}},W:function(t){var e=kt();try{return It(t)}catch(t){if(St(e),t!==t+0)throw t;Tt(1,0)}},Y:function(t,e){var n=kt();try{return Lt(t,e)}catch(t){if(St(n),t!==t+0)throw t;Tt(1,0)}},T:function(t,e,n){var r=kt();try{return Dt(t,e,n)}catch(t){if(St(r),t!==t+0)throw t;Tt(1,0)}},f:function(t){var e=kt();try{it(t)()}catch(t){if(St(e),t!==t+0)throw t;Tt(1,0)}},q:function(t,e){var n=kt();try{it(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Tt(1,0)}},h:function(t,e,n){var r=kt();try{it(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Tt(1,0)}},da:function(t,e,n,r){var o=kt();try{it(t)(e,n,r)}catch(t){if(St(o),t!==t+0)throw t;Tt(1,0)}},l:function(t,e,n,r){var o=kt();try{it(t)(e,n,r)}catch(t){if(St(o),t!==t+0)throw t;Tt(1,0)}},t:function t(e,n,r,o,i){var a=kt();try{it(e)(n,r,o,i)}catch(t){if(St(a),t!==t+0)throw t;Tt(1,0)}},u:function(t,e,n,r,o,i){var a=kt();try{it(t)(e,n,r,o,i)}catch(t){if(St(a),t!==t+0)throw t;Tt(1,0)}},x:function(t,e,n,r,o,i,a){var s=kt();try{it(t)(e,n,r,o,i,a)}catch(t){if(St(s),t!==t+0)throw t;Tt(1,0)}},z:function(t,e,n,r,o,i,a,s){var u=kt();try{it(t)(e,n,r,o,i,a,s)}catch(t){if(St(u),t!==t+0)throw t;Tt(1,0)}},ga:function(t,e,n,r,o,i,a,s,u){var c=kt();try{it(t)(e,n,r,o,i,a,s,u)}catch(t){if(St(c),t!==t+0)throw t;Tt(1,0)}},A:function(t,e,n,r,o,i,a,s,u,c,l){var f=kt();try{it(t)(e,n,r,o,i,a,s,u,c,l)}catch(t){if(St(f),t!==t+0)throw t;Tt(1,0)}},C:function(t,e,n,r,o,i,a,s,u,c,l,f,d,p,h,g){var b=kt();try{it(t)(e,n,r,o,i,a,s,u,c,l,f,d,p,h,g)}catch(t){if(St(b),t!==t+0)throw t;Tt(1,0)}},aa:function(t,e,n,r,o,i,a,s){var u=kt();try{Ct(t,e,n,r,o,i,a,s)}catch(t){if(St(u),t!==t+0)throw t;Tt(1,0)}},_:function(t,e,n,r,o,i,a,s,u,c,l,f){var d=kt();try{Nt(t,e,n,r,o,i,a,s,u,c,l,f)}catch(t){if(St(d),t!==t+0)throw t;Tt(1,0)}},$:function(t,e,n,r,o,i){var a=kt();try{Rt(t,e,n,r,o,i)}catch(t){if(St(a),t!==t+0)throw t;Tt(1,0)}},n:function(t){return t},F:function(t){dt=t},ha:bt,y:function(t,e,n,r){return bt(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,T=e.asm.Ka,F(),L=e.asm.ib,M.unshift(e.asm.La),H--,e.monitorRunDependencies&&e.monitorRunDependencies(H),0==H&&(null!==W&&(clearInterval(W),W=null),q&&(t=q,q=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!m&&(g||b)){if("function"==typeof fetch&&!G.startsWith("file://"))return fetch(G,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+G+"'";return t.arrayBuffer()})).catch((function(){return K()}));if(s)return new Promise((function(t,e){s(G,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return K()}))}().then((function(t){return WebAssembly.instantiate(t,o)})).then((function(t){return t})).then(t,(function(t){w("failed to asynchronously prepare wasm: "+t),Z(t)}))}var o={a:vt};if(H++,e.monitorRunDependencies&&e.monitorRunDependencies(H),e.instantiateWasm)try{return e.instantiateWasm(o,t)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}(m||"function"!=typeof WebAssembly.instantiateStreaming||X()||G.startsWith("file://")||v||"function"!=typeof fetch?r(n):fetch(G,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,o).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(i)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.La).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.Ma).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.Na).apply(null,arguments)},e._OrtAppendExecutionProvider=function(){return(e._OrtAppendExecutionProvider=e.asm.Oa).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.Pa).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.Qa).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.Ra).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Sa).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Ta).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm.Ua).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.Va).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.Wa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.Xa).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.Ya).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.Za).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm._a).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.$a).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ab).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.bb).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.cb).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.db).apply(null,arguments)};var yt,mt=e._malloc=function(){return(mt=e._malloc=e.asm.eb).apply(null,arguments)},_t=e._free=function(){return(_t=e._free=e.asm.fb).apply(null,arguments)},wt=e._fflush=function(){return(wt=e._fflush=e.asm.gb).apply(null,arguments)},xt=e.___funcs_on_exit=function(){return(xt=e.___funcs_on_exit=e.asm.hb).apply(null,arguments)},Tt=e._setThrew=function(){return(Tt=e._setThrew=e.asm.jb).apply(null,arguments)},kt=e.stackSave=function(){return(kt=e.stackSave=e.asm.kb).apply(null,arguments)},St=e.stackRestore=function(){return(St=e.stackRestore=e.asm.lb).apply(null,arguments)},Ot=e.stackAlloc=function(){return(Ot=e.stackAlloc=e.asm.mb).apply(null,arguments)},At=e.___cxa_can_catch=function(){return(At=e.___cxa_can_catch=e.asm.nb).apply(null,arguments)},Et=e.___cxa_is_pointer_type=function(){return(Et=e.___cxa_is_pointer_type=e.asm.ob).apply(null,arguments)},It=e.dynCall_j=function(){return(It=e.dynCall_j=e.asm.pb).apply(null,arguments)},Pt=e.dynCall_iiiiij=function(){return(Pt=e.dynCall_iiiiij=e.asm.qb).apply(null,arguments)},Dt=e.dynCall_jii=function(){return(Dt=e.dynCall_jii=e.asm.rb).apply(null,arguments)},Ct=e.dynCall_viiiiij=function(){return(Ct=e.dynCall_viiiiij=e.asm.sb).apply(null,arguments)},Rt=e.dynCall_vjji=function(){return(Rt=e.dynCall_vjji=e.asm.tb).apply(null,arguments)},Nt=e.dynCall_viiijjjii=function(){return(Nt=e.dynCall_viiijjjii=e.asm.ub).apply(null,arguments)},Ft=e.dynCall_iij=function(){return(Ft=e.dynCall_iij=e.asm.vb).apply(null,arguments)},Lt=e.dynCall_ji=function(){return(Lt=e.dynCall_ji=e.asm.wb).apply(null,arguments)},jt=e.dynCall_iiiiiij=function(){return(jt=e.dynCall_iiiiiij=e.asm.xb).apply(null,arguments)},Mt=e.dynCall_iiij=function(){return(Mt=e.dynCall_iiij=e.asm.yb).apply(null,arguments)};function Ut(){function t(){if(!yt&&(yt=!0,e.calledRun=!0,!I)){if($(M),o(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();B.unshift(t)}$(B)}}if(!(0<H)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)V();$(j),0<H||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=C,e.stringToUTF8=function(t,e,n){return R(t,O,e,n)},e.lengthBytesUTF8=N,e.stackSave=kt,e.stackRestore=St,e.stackAlloc=Ot,q=function t(){yt||Ut(),yt||(q=t)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Ut(),t.ready});t.exports=o},4537:function(t){"use strict";t.exports=function(t,e){for(var n=new Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,a){n[r]=function(t){if(i)if(i=!1,t)a(t);else{for(var e=new Array(arguments.length-1),n=0;n<e.length;)e[n++]=arguments[n];o.apply(null,e)}};try{t.apply(e||null,n)}catch(t){i&&(i=!1,a(t))}}))}},7419:function(t,e){"use strict";var n=e;n.length=function(t){var e=t.length;if(!e)return 0;for(var n=0;--e%4>1&&"="===t.charAt(e);)++n;return Math.ceil(3*t.length)/4-n};for(var r=new Array(64),o=new Array(123),i=0;i<64;)o[r[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;n.encode=function(t,e,n){for(var o,i=null,a=[],s=0,u=0;e<n;){var c=t[e++];switch(u){case 0:a[s++]=r[c>>2],o=(3&c)<<4,u=1;break;case 1:a[s++]=r[o|c>>4],o=(15&c)<<2,u=2;break;case 2:a[s++]=r[o|c>>6],a[s++]=r[63&c],u=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=r[o],a[s++]=61,1===u&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";n.decode=function(t,e,n){for(var r,i=n,s=0,u=0;u<t.length;){var c=t.charCodeAt(u++);if(61===c&&s>1)break;if(void 0===(c=o[c]))throw Error(a);switch(s){case 0:r=c,s=1;break;case 1:e[n++]=r<<2|(48&c)>>4,r=c,s=2;break;case 2:e[n++]=(15&r)<<4|(60&c)>>2,r=c,s=3;break;case 3:e[n++]=(3&r)<<6|c,s=0}}if(1===s)throw Error(a);return n-i},n.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},9211:function(t){"use strict";function e(){this._listeners={}}t.exports=e,e.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},e.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===e?n.splice(r,1):++r;return this},e.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,n)}return this}},945:function(t){"use strict";function e(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),r=128===n[3];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function i(t,r,o){e[0]=t,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],e[0]}function s(t,r){return n[3]=t[r],n[2]=t[r+1],n[1]=t[r+2],n[0]=t[r+3],e[0]}t.writeFloatLE=r?o:i,t.writeFloatBE=r?i:o,t.readFloatLE=r?a:s,t.readFloatBE=r?s:a}():function(){function e(t,e,n,r){var o=e<0?1:0;if(o&&(e=-e),0===e)t(1/e>0?0:2147483648,n,r);else if(isNaN(e))t(2143289344,n,r);else if(e>34028234663852886e22)t((o<<31|2139095040)>>>0,n,r);else if(e<11754943508222875e-54)t((o<<31|Math.round(e/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(e)/Math.LN2);t((o<<31|i+127<<23|8388607&Math.round(e*Math.pow(2,-i)*8388608))>>>0,n,r)}}function a(t,e,n){var r=t(e,n),o=2*(r>>31)+1,i=r>>>23&255,a=8388607&r;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}t.writeFloatLE=e.bind(null,n),t.writeFloatBE=e.bind(null,r),t.readFloatLE=a.bind(null,o),t.readFloatBE=a.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),r=128===n[7];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function i(t,r,o){e[0]=t,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],n[4]=t[r+4],n[5]=t[r+5],n[6]=t[r+6],n[7]=t[r+7],e[0]}function s(t,r){return n[7]=t[r],n[6]=t[r+1],n[5]=t[r+2],n[4]=t[r+3],n[3]=t[r+4],n[2]=t[r+5],n[1]=t[r+6],n[0]=t[r+7],e[0]}t.writeDoubleLE=r?o:i,t.writeDoubleBE=r?i:o,t.readDoubleLE=r?a:s,t.readDoubleBE=r?s:a}():function(){function e(t,e,n,r,o,i){var a=r<0?1:0;if(a&&(r=-r),0===r)t(0,o,i+e),t(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))t(0,o,i+e),t(2146959360,o,i+n);else if(r>17976931348623157e292)t(0,o,i+e),t((a<<31|2146435072)>>>0,o,i+n);else{var s;if(r<22250738585072014e-324)t((s=r/5e-324)>>>0,o,i+e),t((a<<31|s/4294967296)>>>0,o,i+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),t(4503599627370496*(s=r*Math.pow(2,-u))>>>0,o,i+e),t((a<<31|u+1023<<20|1048576*s&1048575)>>>0,o,i+n)}}}function a(t,e,n,r,o){var i=t(r,o+e),a=t(r,o+n),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+i;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}t.writeDoubleLE=e.bind(null,n,0,4),t.writeDoubleBE=e.bind(null,r,4,0),t.readDoubleLE=a.bind(null,o,0,4),t.readDoubleBE=a.bind(null,i,4,0)}(),t}function n(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function r(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function o(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function i(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=e(e)},7199:function _(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},6662:function(t){"use strict";t.exports=function(t,e,n){var r=n||8192,o=r>>>1,i=null,a=r;return function(n){if(n<1||n>o)return t(n);a+n>r&&(i=t(r),a=0);var s=e.call(i,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},4997:function(t,e){"use strict";var n=e;n.length=function(t){for(var e=0,n=0,r=0;r<t.length;++r)(n=t.charCodeAt(r))<128?e+=1:n<2048?e+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},n.read=function(t,e,n){if(n-e<1)return"";for(var r,o=null,i=[],a=0;e<n;)(r=t[e++])<128?i[a++]=r:r>191&&r<224?i[a++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,i[a++]=55296+(r>>10),i[a++]=56320+(1023&r)):i[a++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},n.write=function(t,e,n){for(var r,o,i=n,a=0;a<t.length;++a)(r=t.charCodeAt(a))<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=t.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&o),++a,e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128);return n-i}},3442:function(t,e){"use strict";e.__esModule=!0;var n=function(){function t(e){if(!e)throw new TypeError("Invalid argument; `value` has no value.");this.value=t.EMPTY,e&&t.isGuid(e)&&(this.value=e)}return t.isGuid=function(e){var n=e.toString();return e&&(e instanceof t||t.validator.test(n))},t.create=function(){return new t([t.gen(2),t.gen(1),t.gen(1),t.gen(1),t.gen(3)].join("-"))},t.createEmpty=function(){return new t("emptyguid")},t.parse=function(e){return new t(e)},t.raw=function(){return[t.gen(2),t.gen(1),t.gen(1),t.gen(1),t.gen(3)].join("-")},t.gen=function(t){for(var e="",n=0;n<t;n++)e+=(65536*(1+Math.random())|0).toString(16).substring(1);return e},t.prototype.equals=function(e){return t.isGuid(e)&&this.value===e.toString()},t.prototype.isEmpty=function(){return this.value===t.EMPTY},t.prototype.toString=function(){return this.value},t.prototype.toJSON=function(){return{value:this.value}},t.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),t.EMPTY="00000000-0000-0000-0000-000000000000",t}();e.Guid=n},3720:function(t){t.exports=n;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function n(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function r(t){return!0===(t&&t.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var o={},i={};function a(t,e){var n,r,a;return e?(a=0<=(t>>>=0)&&t<256)&&(r=i[t])?r:(n=u(t,(0|t)<0?-1:0,!0),a&&(i[t]=n),n):(a=-128<=(t|=0)&&t<128)&&(r=o[t])?r:(n=u(t,t<0?-1:0,!1),a&&(o[t]=n),n)}function s(t,e){if(isNaN(t))return e?v:b;if(e){if(t<0)return v;if(t>=p)return x}else{if(t<=-h)return T;if(t+1>=h)return w}return t<0?s(-t,e).neg():u(t%d|0,t/d|0,e)}function u(t,e,r){return new n(t,e,r)}n.fromInt=a,n.fromNumber=s,n.fromBits=u;var c=Math.pow;function l(t,e,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return b;if("number"==typeof e?(n=e,e=!1):e=!!e,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return l(t.substring(1),e,n).neg();for(var o=s(c(n,8)),i=b,a=0;a<t.length;a+=8){var u=Math.min(8,t.length-a),f=parseInt(t.substring(a,a+u),n);if(u<8){var d=s(c(n,u));i=i.mul(d).add(s(f))}else i=(i=i.mul(o)).add(s(f))}return i.unsigned=e,i}function f(t,e){return"number"==typeof t?s(t,e):"string"==typeof t?l(t,e):u(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}n.fromString=l,n.fromValue=f;var d=4294967296,p=d*d,h=p/2,g=a(1<<24),b=a(0);n.ZERO=b;var v=a(0,!0);n.UZERO=v;var y=a(1);n.ONE=y;var m=a(1,!0);n.UONE=m;var _=a(-1);n.NEG_ONE=_;var w=u(-1,2147483647,!1);n.MAX_VALUE=w;var x=u(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var T=u(0,-2147483648,!1);n.MIN_VALUE=T;var k=n.prototype;k.toInt=function(){return this.unsigned?this.low>>>0:this.low},k.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},k.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(T)){var e=s(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var o=s(c(t,6),this.unsigned),i=this,a="";;){var u=i.div(o),l=(i.sub(u.mul(o)).toInt()>>>0).toString(t);if((i=u).isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},k.getHighBits=function(){return this.high},k.getHighBitsUnsigned=function(){return this.high>>>0},k.getLowBits=function(){return this.low},k.getLowBitsUnsigned=function(){return this.low>>>0},k.getNumBitsAbs=function(){if(this.isNegative())return this.eq(T)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},k.isZero=function(){return 0===this.high&&0===this.low},k.eqz=k.isZero,k.isNegative=function(){return!this.unsigned&&this.high<0},k.isPositive=function(){return this.unsigned||this.high>=0},k.isOdd=function(){return 1==(1&this.low)},k.isEven=function(){return 0==(1&this.low)},k.equals=function(t){return r(t)||(t=f(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},k.eq=k.equals,k.notEquals=function(t){return!this.eq(t)},k.neq=k.notEquals,k.ne=k.notEquals,k.lessThan=function(t){return this.comp(t)<0},k.lt=k.lessThan,k.lessThanOrEqual=function(t){return this.comp(t)<=0},k.lte=k.lessThanOrEqual,k.le=k.lessThanOrEqual,k.greaterThan=function(t){return this.comp(t)>0},k.gt=k.greaterThan,k.greaterThanOrEqual=function(t){return this.comp(t)>=0},k.gte=k.greaterThanOrEqual,k.ge=k.greaterThanOrEqual,k.compare=function(t){if(r(t)||(t=f(t)),this.eq(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},k.comp=k.compare,k.negate=function(){return!this.unsigned&&this.eq(T)?T:this.not().add(y)},k.neg=k.negate,k.add=function(t){r(t)||(t=f(t));var e=this.high>>>16,n=65535&this.high,o=this.low>>>16,i=65535&this.low,a=t.high>>>16,s=65535&t.high,c=t.low>>>16,l=0,d=0,p=0,h=0;return p+=(h+=i+(65535&t.low))>>>16,d+=(p+=o+c)>>>16,l+=(d+=n+s)>>>16,l+=e+a,u((p&=65535)<<16|(h&=65535),(l&=65535)<<16|(d&=65535),this.unsigned)},k.subtract=function(t){return r(t)||(t=f(t)),this.add(t.neg())},k.sub=k.subtract,k.multiply=function(t){if(this.isZero())return b;if(r(t)||(t=f(t)),e)return u(e.mul(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned);if(t.isZero())return b;if(this.eq(T))return t.isOdd()?T:b;if(t.eq(T))return this.isOdd()?T:b;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(g)&&t.lt(g))return s(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,c=t.high>>>16,l=65535&t.high,d=t.low>>>16,p=65535&t.low,h=0,v=0,y=0,m=0;return y+=(m+=a*p)>>>16,v+=(y+=i*p)>>>16,y&=65535,v+=(y+=a*d)>>>16,h+=(v+=o*p)>>>16,v&=65535,h+=(v+=i*d)>>>16,v&=65535,h+=(v+=a*l)>>>16,h+=n*p+o*d+i*l+a*c,u((y&=65535)<<16|(m&=65535),(h&=65535)<<16|(v&=65535),this.unsigned)},k.mul=k.multiply,k.divide=function(t){if(r(t)||(t=f(t)),t.isZero())throw Error("division by zero");var n,o,i;if(e)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?u((this.unsigned?e.div_u:e.div_s)(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:b;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return v;if(t.gt(this.shru(1)))return m;i=v}else{if(this.eq(T))return t.eq(y)||t.eq(_)?T:t.eq(T)?y:(n=this.shr(1).div(t).shl(1)).eq(b)?t.isNegative()?y:_:(o=this.sub(t.mul(n)),i=n.add(o.div(t)));if(t.eq(T))return this.unsigned?v:b;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=b}for(o=this;o.gte(t);){n=Math.max(1,Math.floor(o.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),l=a<=48?1:c(2,a-48),d=s(n),p=d.mul(t);p.isNegative()||p.gt(o);)p=(d=s(n-=l,this.unsigned)).mul(t);d.isZero()&&(d=y),i=i.add(d),o=o.sub(p)}return i},k.div=k.divide,k.modulo=function(t){return r(t)||(t=f(t)),e?u((this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},k.mod=k.modulo,k.rem=k.modulo,k.not=function(){return u(~this.low,~this.high,this.unsigned)},k.and=function(t){return r(t)||(t=f(t)),u(this.low&t.low,this.high&t.high,this.unsigned)},k.or=function(t){return r(t)||(t=f(t)),u(this.low|t.low,this.high|t.high,this.unsigned)},k.xor=function(t){return r(t)||(t=f(t)),u(this.low^t.low,this.high^t.high,this.unsigned)},k.shiftLeft=function(t){return r(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?u(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):u(0,this.low<<t-32,this.unsigned)},k.shl=k.shiftLeft,k.shiftRight=function(t){return r(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?u(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):u(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},k.shr=k.shiftRight,k.shiftRightUnsigned=function(t){if(r(t)&&(t=t.toInt()),0==(t&=63))return this;var e=this.high;return t<32?u(this.low>>>t|e<<32-t,e>>>t,this.unsigned):u(32===t?e:e>>>t-32,0,this.unsigned)},k.shru=k.shiftRightUnsigned,k.shr_u=k.shiftRightUnsigned,k.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},k.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},k.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},k.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},k.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},n.fromBytes=function(t,e,r){return r?n.fromBytesLE(t,e):n.fromBytesBE(t,e)},n.fromBytesLE=function(t,e){return new n(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},n.fromBytesBE=function(t,e){return new n(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}},1446:function(t,e,n){"use strict";var r,o,i,a=n(2100),s=a.Reader,u=a.Writer,c=a.util,l=a.roots.default||(a.roots.default={});l.onnx=((i={}).Version=(r={},(o=Object.create(r))[r[0]="_START_VERSION"]=0,o[r[1]="IR_VERSION_2017_10_10"]=1,o[r[2]="IR_VERSION_2017_10_30"]=2,o[r[3]="IR_VERSION_2017_11_3"]=3,o[r[4]="IR_VERSION_2019_1_22"]=4,o[r[5]="IR_VERSION"]=5,o),i.AttributeProto=function(){function t(t){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.refAttrName="",t.prototype.docString="",t.prototype.type=0,t.prototype.f=0,t.prototype.i=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.s=c.newBuffer([]),t.prototype.t=null,t.prototype.g=null,t.prototype.floats=c.emptyArray,t.prototype.ints=c.emptyArray,t.prototype.strings=c.emptyArray,t.prototype.tensors=c.emptyArray,t.prototype.graphs=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.name&&t.hasOwnProperty("name")&&e.uint32(10).string(t.name),null!=t.f&&t.hasOwnProperty("f")&&e.uint32(21).float(t.f),null!=t.i&&t.hasOwnProperty("i")&&e.uint32(24).int64(t.i),null!=t.s&&t.hasOwnProperty("s")&&e.uint32(34).bytes(t.s),null!=t.t&&t.hasOwnProperty("t")&&l.onnx.TensorProto.encode(t.t,e.uint32(42).fork()).ldelim(),null!=t.g&&t.hasOwnProperty("g")&&l.onnx.GraphProto.encode(t.g,e.uint32(50).fork()).ldelim(),null!=t.floats&&t.floats.length){e.uint32(58).fork();for(var n=0;n<t.floats.length;++n)e.float(t.floats[n]);e.ldelim()}if(null!=t.ints&&t.ints.length){for(e.uint32(66).fork(),n=0;n<t.ints.length;++n)e.int64(t.ints[n]);e.ldelim()}if(null!=t.strings&&t.strings.length)for(n=0;n<t.strings.length;++n)e.uint32(74).bytes(t.strings[n]);if(null!=t.tensors&&t.tensors.length)for(n=0;n<t.tensors.length;++n)l.onnx.TensorProto.encode(t.tensors[n],e.uint32(82).fork()).ldelim();if(null!=t.graphs&&t.graphs.length)for(n=0;n<t.graphs.length;++n)l.onnx.GraphProto.encode(t.graphs[n],e.uint32(90).fork()).ldelim();return null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(106).string(t.docString),null!=t.type&&t.hasOwnProperty("type")&&e.uint32(160).int32(t.type),null!=t.refAttrName&&t.hasOwnProperty("refAttrName")&&e.uint32(170).string(t.refAttrName),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new l.onnx.AttributeProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.name=t.string();break;case 21:r.refAttrName=t.string();break;case 13:r.docString=t.string();break;case 20:r.type=t.int32();break;case 2:r.f=t.float();break;case 3:r.i=t.int64();break;case 4:r.s=t.bytes();break;case 5:r.t=l.onnx.TensorProto.decode(t,t.uint32());break;case 6:r.g=l.onnx.GraphProto.decode(t,t.uint32());break;case 7:if(r.floats&&r.floats.length||(r.floats=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.floats.push(t.float());else r.floats.push(t.float());break;case 8:if(r.ints&&r.ints.length||(r.ints=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.ints.push(t.int64());else r.ints.push(t.int64());break;case 9:r.strings&&r.strings.length||(r.strings=[]),r.strings.push(t.bytes());break;case 10:r.tensors&&r.tensors.length||(r.tensors=[]),r.tensors.push(l.onnx.TensorProto.decode(t,t.uint32()));break;case 11:r.graphs&&r.graphs.length||(r.graphs=[]),r.graphs.push(l.onnx.GraphProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.name&&t.hasOwnProperty("name")&&!c.isString(t.name))return"name: string expected";if(null!=t.refAttrName&&t.hasOwnProperty("refAttrName")&&!c.isString(t.refAttrName))return"refAttrName: string expected";if(null!=t.docString&&t.hasOwnProperty("docString")&&!c.isString(t.docString))return"docString: string expected";if(null!=t.type&&t.hasOwnProperty("type"))switch(t.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=t.f&&t.hasOwnProperty("f")&&"number"!=typeof t.f)return"f: number expected";if(null!=t.i&&t.hasOwnProperty("i")&&!(c.isInteger(t.i)||t.i&&c.isInteger(t.i.low)&&c.isInteger(t.i.high)))return"i: integer|Long expected";if(null!=t.s&&t.hasOwnProperty("s")&&!(t.s&&"number"==typeof t.s.length||c.isString(t.s)))return"s: buffer expected";if(null!=t.t&&t.hasOwnProperty("t")&&(n=l.onnx.TensorProto.verify(t.t)))return"t."+n;if(null!=t.g&&t.hasOwnProperty("g")&&(n=l.onnx.GraphProto.verify(t.g)))return"g."+n;if(null!=t.floats&&t.hasOwnProperty("floats")){if(!Array.isArray(t.floats))return"floats: array expected";for(var e=0;e<t.floats.length;++e)if("number"!=typeof t.floats[e])return"floats: number[] expected"}if(null!=t.ints&&t.hasOwnProperty("ints")){if(!Array.isArray(t.ints))return"ints: array expected";for(e=0;e<t.ints.length;++e)if(!(c.isInteger(t.ints[e])||t.ints[e]&&c.isInteger(t.ints[e].low)&&c.isInteger(t.ints[e].high)))return"ints: integer|Long[] expected"}if(null!=t.strings&&t.hasOwnProperty("strings")){if(!Array.isArray(t.strings))return"strings: array expected";for(e=0;e<t.strings.length;++e)if(!(t.strings[e]&&"number"==typeof t.strings[e].length||c.isString(t.strings[e])))return"strings: buffer[] expected"}if(null!=t.tensors&&t.hasOwnProperty("tensors")){if(!Array.isArray(t.tensors))return"tensors: array expected";for(e=0;e<t.tensors.length;++e)if(n=l.onnx.TensorProto.verify(t.tensors[e]))return"tensors."+n}if(null!=t.graphs&&t.hasOwnProperty("graphs")){if(!Array.isArray(t.graphs))return"graphs: array expected";for(e=0;e<t.graphs.length;++e){var n;if(n=l.onnx.GraphProto.verify(t.graphs[e]))return"graphs."+n}}return null},t.fromObject=function(t){if(t instanceof l.onnx.AttributeProto)return t;var e=new l.onnx.AttributeProto;switch(null!=t.name&&(e.name=String(t.name)),null!=t.refAttrName&&(e.refAttrName=String(t.refAttrName)),null!=t.docString&&(e.docString=String(t.docString)),t.type){case"UNDEFINED":case 0:e.type=0;break;case"FLOAT":case 1:e.type=1;break;case"INT":case 2:e.type=2;break;case"STRING":case 3:e.type=3;break;case"TENSOR":case 4:e.type=4;break;case"GRAPH":case 5:e.type=5;break;case"FLOATS":case 6:e.type=6;break;case"INTS":case 7:e.type=7;break;case"STRINGS":case 8:e.type=8;break;case"TENSORS":case 9:e.type=9;break;case"GRAPHS":case 10:e.type=10}if(null!=t.f&&(e.f=Number(t.f)),null!=t.i&&(c.Long?(e.i=c.Long.fromValue(t.i)).unsigned=!1:"string"==typeof t.i?e.i=parseInt(t.i,10):"number"==typeof t.i?e.i=t.i:"object"==typeof t.i&&(e.i=new c.LongBits(t.i.low>>>0,t.i.high>>>0).toNumber())),null!=t.s&&("string"==typeof t.s?c.base64.decode(t.s,e.s=c.newBuffer(c.base64.length(t.s)),0):t.s.length&&(e.s=t.s)),null!=t.t){if("object"!=typeof t.t)throw TypeError(".onnx.AttributeProto.t: object expected");e.t=l.onnx.TensorProto.fromObject(t.t)}if(null!=t.g){if("object"!=typeof t.g)throw TypeError(".onnx.AttributeProto.g: object expected");e.g=l.onnx.GraphProto.fromObject(t.g)}if(t.floats){if(!Array.isArray(t.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");e.floats=[];for(var n=0;n<t.floats.length;++n)e.floats[n]=Number(t.floats[n])}if(t.ints){if(!Array.isArray(t.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(e.ints=[],n=0;n<t.ints.length;++n)c.Long?(e.ints[n]=c.Long.fromValue(t.ints[n])).unsigned=!1:"string"==typeof t.ints[n]?e.ints[n]=parseInt(t.ints[n],10):"number"==typeof t.ints[n]?e.ints[n]=t.ints[n]:"object"==typeof t.ints[n]&&(e.ints[n]=new c.LongBits(t.ints[n].low>>>0,t.ints[n].high>>>0).toNumber())}if(t.strings){if(!Array.isArray(t.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(e.strings=[],n=0;n<t.strings.length;++n)"string"==typeof t.strings[n]?c.base64.decode(t.strings[n],e.strings[n]=c.newBuffer(c.base64.length(t.strings[n])),0):t.strings[n].length&&(e.strings[n]=t.strings[n])}if(t.tensors){if(!Array.isArray(t.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(e.tensors=[],n=0;n<t.tensors.length;++n){if("object"!=typeof t.tensors[n])throw TypeError(".onnx.AttributeProto.tensors: object expected");e.tensors[n]=l.onnx.TensorProto.fromObject(t.tensors[n])}}if(t.graphs){if(!Array.isArray(t.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(e.graphs=[],n=0;n<t.graphs.length;++n){if("object"!=typeof t.graphs[n])throw TypeError(".onnx.AttributeProto.graphs: object expected");e.graphs[n]=l.onnx.GraphProto.fromObject(t.graphs[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.floats=[],n.ints=[],n.strings=[],n.tensors=[],n.graphs=[]),e.defaults){if(n.name="",n.f=0,c.Long){var r=new c.Long(0,0,!1);n.i=e.longs===String?r.toString():e.longs===Number?r.toNumber():r}else n.i=e.longs===String?"0":0;e.bytes===String?n.s="":(n.s=[],e.bytes!==Array&&(n.s=c.newBuffer(n.s))),n.t=null,n.g=null,n.docString="",n.type=e.enums===String?"UNDEFINED":0,n.refAttrName=""}if(null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.f&&t.hasOwnProperty("f")&&(n.f=e.json&&!isFinite(t.f)?String(t.f):t.f),null!=t.i&&t.hasOwnProperty("i")&&("number"==typeof t.i?n.i=e.longs===String?String(t.i):t.i:n.i=e.longs===String?c.Long.prototype.toString.call(t.i):e.longs===Number?new c.LongBits(t.i.low>>>0,t.i.high>>>0).toNumber():t.i),null!=t.s&&t.hasOwnProperty("s")&&(n.s=e.bytes===String?c.base64.encode(t.s,0,t.s.length):e.bytes===Array?Array.prototype.slice.call(t.s):t.s),null!=t.t&&t.hasOwnProperty("t")&&(n.t=l.onnx.TensorProto.toObject(t.t,e)),null!=t.g&&t.hasOwnProperty("g")&&(n.g=l.onnx.GraphProto.toObject(t.g,e)),t.floats&&t.floats.length){n.floats=[];for(var o=0;o<t.floats.length;++o)n.floats[o]=e.json&&!isFinite(t.floats[o])?String(t.floats[o]):t.floats[o]}if(t.ints&&t.ints.length)for(n.ints=[],o=0;o<t.ints.length;++o)"number"==typeof t.ints[o]?n.ints[o]=e.longs===String?String(t.ints[o]):t.ints[o]:n.ints[o]=e.longs===String?c.Long.prototype.toString.call(t.ints[o]):e.longs===Number?new c.LongBits(t.ints[o].low>>>0,t.ints[o].high>>>0).toNumber():t.ints[o];if(t.strings&&t.strings.length)for(n.strings=[],o=0;o<t.strings.length;++o)n.strings[o]=e.bytes===String?c.base64.encode(t.strings[o],0,t.strings[o].length):e.bytes===Array?Array.prototype.slice.call(t.strings[o]):t.strings[o];if(t.tensors&&t.tensors.length)for(n.tensors=[],o=0;o<t.tensors.length;++o)n.tensors[o]=l.onnx.TensorProto.toObject(t.tensors[o],e);if(t.graphs&&t.graphs.length)for(n.graphs=[],o=0;o<t.graphs.length;++o)n.graphs[o]=l.onnx.GraphProto.toObject(t.graphs[o],e);return null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?l.onnx.AttributeProto.AttributeType[t.type]:t.type),null!=t.refAttrName&&t.hasOwnProperty("refAttrName")&&(n.refAttrName=t.refAttrName),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t.AttributeType=function(){var t={},e=Object.create(t);return e[t[0]="UNDEFINED"]=0,e[t[1]="FLOAT"]=1,e[t[2]="INT"]=2,e[t[3]="STRING"]=3,e[t[4]="TENSOR"]=4,e[t[5]="GRAPH"]=5,e[t[6]="FLOATS"]=6,e[t[7]="INTS"]=7,e[t[8]="STRINGS"]=8,e[t[9]="TENSORS"]=9,e[t[10]="GRAPHS"]=10,e}(),t}(),i.ValueInfoProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.type=null,t.prototype.docString="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.name&&t.hasOwnProperty("name")&&e.uint32(10).string(t.name),null!=t.type&&t.hasOwnProperty("type")&&l.onnx.TypeProto.encode(t.type,e.uint32(18).fork()).ldelim(),null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(26).string(t.docString),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new l.onnx.ValueInfoProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.name=t.string();break;case 2:r.type=l.onnx.TypeProto.decode(t,t.uint32());break;case 3:r.docString=t.string();break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.name&&t.hasOwnProperty("name")&&!c.isString(t.name))return"name: string expected";if(null!=t.type&&t.hasOwnProperty("type")){var e=l.onnx.TypeProto.verify(t.type);if(e)return"type."+e}return null!=t.docString&&t.hasOwnProperty("docString")&&!c.isString(t.docString)?"docString: string expected":null},t.fromObject=function(t){if(t instanceof l.onnx.ValueInfoProto)return t;var e=new l.onnx.ValueInfoProto;if(null!=t.name&&(e.name=String(t.name)),null!=t.type){if("object"!=typeof t.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");e.type=l.onnx.TypeProto.fromObject(t.type)}return null!=t.docString&&(e.docString=String(t.docString)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.name="",n.type=null,n.docString=""),null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.type&&t.hasOwnProperty("type")&&(n.type=l.onnx.TypeProto.toObject(t.type,e)),null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.NodeProto=function(){function t(t){if(this.input=[],this.output=[],this.attribute=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.input=c.emptyArray,t.prototype.output=c.emptyArray,t.prototype.name="",t.prototype.opType="",t.prototype.domain="",t.prototype.attribute=c.emptyArray,t.prototype.docString="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.input&&t.input.length)for(var n=0;n<t.input.length;++n)e.uint32(10).string(t.input[n]);if(null!=t.output&&t.output.length)for(n=0;n<t.output.length;++n)e.uint32(18).string(t.output[n]);if(null!=t.name&&t.hasOwnProperty("name")&&e.uint32(26).string(t.name),null!=t.opType&&t.hasOwnProperty("opType")&&e.uint32(34).string(t.opType),null!=t.attribute&&t.attribute.length)for(n=0;n<t.attribute.length;++n)l.onnx.AttributeProto.encode(t.attribute[n],e.uint32(42).fork()).ldelim();return null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(50).string(t.docString),null!=t.domain&&t.hasOwnProperty("domain")&&e.uint32(58).string(t.domain),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new l.onnx.NodeProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.input&&r.input.length||(r.input=[]),r.input.push(t.string());break;case 2:r.output&&r.output.length||(r.output=[]),r.output.push(t.string());break;case 3:r.name=t.string();break;case 4:r.opType=t.string();break;case 7:r.domain=t.string();break;case 5:r.attribute&&r.attribute.length||(r.attribute=[]),r.attribute.push(l.onnx.AttributeProto.decode(t,t.uint32()));break;case 6:r.docString=t.string();break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.input&&t.hasOwnProperty("input")){if(!Array.isArray(t.input))return"input: array expected";for(var e=0;e<t.input.length;++e)if(!c.isString(t.input[e]))return"input: string[] expected"}if(null!=t.output&&t.hasOwnProperty("output")){if(!Array.isArray(t.output))return"output: array expected";for(e=0;e<t.output.length;++e)if(!c.isString(t.output[e]))return"output: string[] expected"}if(null!=t.name&&t.hasOwnProperty("name")&&!c.isString(t.name))return"name: string expected";if(null!=t.opType&&t.hasOwnProperty("opType")&&!c.isString(t.opType))return"opType: string expected";if(null!=t.domain&&t.hasOwnProperty("domain")&&!c.isString(t.domain))return"domain: string expected";if(null!=t.attribute&&t.hasOwnProperty("attribute")){if(!Array.isArray(t.attribute))return"attribute: array expected";for(e=0;e<t.attribute.length;++e){var n=l.onnx.AttributeProto.verify(t.attribute[e]);if(n)return"attribute."+n}}return null!=t.docString&&t.hasOwnProperty("docString")&&!c.isString(t.docString)?"docString: string expected":null},t.fromObject=function(t){if(t instanceof l.onnx.NodeProto)return t;var e=new l.onnx.NodeProto;if(t.input){if(!Array.isArray(t.input))throw TypeError(".onnx.NodeProto.input: array expected");e.input=[];for(var n=0;n<t.input.length;++n)e.input[n]=String(t.input[n])}if(t.output){if(!Array.isArray(t.output))throw TypeError(".onnx.NodeProto.output: array expected");for(e.output=[],n=0;n<t.output.length;++n)e.output[n]=String(t.output[n])}if(null!=t.name&&(e.name=String(t.name)),null!=t.opType&&(e.opType=String(t.opType)),null!=t.domain&&(e.domain=String(t.domain)),t.attribute){if(!Array.isArray(t.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(e.attribute=[],n=0;n<t.attribute.length;++n){if("object"!=typeof t.attribute[n])throw TypeError(".onnx.NodeProto.attribute: object expected");e.attribute[n]=l.onnx.AttributeProto.fromObject(t.attribute[n])}}return null!=t.docString&&(e.docString=String(t.docString)),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.input=[],n.output=[],n.attribute=[]),e.defaults&&(n.name="",n.opType="",n.docString="",n.domain=""),t.input&&t.input.length){n.input=[];for(var r=0;r<t.input.length;++r)n.input[r]=t.input[r]}if(t.output&&t.output.length)for(n.output=[],r=0;r<t.output.length;++r)n.output[r]=t.output[r];if(null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.opType&&t.hasOwnProperty("opType")&&(n.opType=t.opType),t.attribute&&t.attribute.length)for(n.attribute=[],r=0;r<t.attribute.length;++r)n.attribute[r]=l.onnx.AttributeProto.toObject(t.attribute[r],e);return null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),null!=t.domain&&t.hasOwnProperty("domain")&&(n.domain=t.domain),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.ModelProto=function(){function t(t){if(this.opsetImport=[],this.metadataProps=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.irVersion=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.opsetImport=c.emptyArray,t.prototype.producerName="",t.prototype.producerVersion="",t.prototype.domain="",t.prototype.modelVersion=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.docString="",t.prototype.graph=null,t.prototype.metadataProps=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.irVersion&&t.hasOwnProperty("irVersion")&&e.uint32(8).int64(t.irVersion),null!=t.producerName&&t.hasOwnProperty("producerName")&&e.uint32(18).string(t.producerName),null!=t.producerVersion&&t.hasOwnProperty("producerVersion")&&e.uint32(26).string(t.producerVersion),null!=t.domain&&t.hasOwnProperty("domain")&&e.uint32(34).string(t.domain),null!=t.modelVersion&&t.hasOwnProperty("modelVersion")&&e.uint32(40).int64(t.modelVersion),null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(50).string(t.docString),null!=t.graph&&t.hasOwnProperty("graph")&&l.onnx.GraphProto.encode(t.graph,e.uint32(58).fork()).ldelim(),null!=t.opsetImport&&t.opsetImport.length)for(var n=0;n<t.opsetImport.length;++n)l.onnx.OperatorSetIdProto.encode(t.opsetImport[n],e.uint32(66).fork()).ldelim();if(null!=t.metadataProps&&t.metadataProps.length)for(n=0;n<t.metadataProps.length;++n)l.onnx.StringStringEntryProto.encode(t.metadataProps[n],e.uint32(114).fork()).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new l.onnx.ModelProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.irVersion=t.int64();break;case 8:r.opsetImport&&r.opsetImport.length||(r.opsetImport=[]),r.opsetImport.push(l.onnx.OperatorSetIdProto.decode(t,t.uint32()));break;case 2:r.producerName=t.string();break;case 3:r.producerVersion=t.string();break;case 4:r.domain=t.string();break;case 5:r.modelVersion=t.int64();break;case 6:r.docString=t.string();break;case 7:r.graph=l.onnx.GraphProto.decode(t,t.uint32());break;case 14:r.metadataProps&&r.metadataProps.length||(r.metadataProps=[]),r.metadataProps.push(l.onnx.StringStringEntryProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.irVersion&&t.hasOwnProperty("irVersion")&&!(c.isInteger(t.irVersion)||t.irVersion&&c.isInteger(t.irVersion.low)&&c.isInteger(t.irVersion.high)))return"irVersion: integer|Long expected";if(null!=t.opsetImport&&t.hasOwnProperty("opsetImport")){if(!Array.isArray(t.opsetImport))return"opsetImport: array expected";for(var e=0;e<t.opsetImport.length;++e)if(n=l.onnx.OperatorSetIdProto.verify(t.opsetImport[e]))return"opsetImport."+n}if(null!=t.producerName&&t.hasOwnProperty("producerName")&&!c.isString(t.producerName))return"producerName: string expected";if(null!=t.producerVersion&&t.hasOwnProperty("producerVersion")&&!c.isString(t.producerVersion))return"producerVersion: string expected";if(null!=t.domain&&t.hasOwnProperty("domain")&&!c.isString(t.domain))return"domain: string expected";if(null!=t.modelVersion&&t.hasOwnProperty("modelVersion")&&!(c.isInteger(t.modelVersion)||t.modelVersion&&c.isInteger(t.modelVersion.low)&&c.isInteger(t.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=t.docString&&t.hasOwnProperty("docString")&&!c.isString(t.docString))return"docString: string expected";if(null!=t.graph&&t.hasOwnProperty("graph")&&(n=l.onnx.GraphProto.verify(t.graph)))return"graph."+n;if(null!=t.metadataProps&&t.hasOwnProperty("metadataProps")){if(!Array.isArray(t.metadataProps))return"metadataProps: array expected";for(e=0;e<t.metadataProps.length;++e){var n;if(n=l.onnx.StringStringEntryProto.verify(t.metadataProps[e]))return"metadataProps."+n}}return null},t.fromObject=function(t){if(t instanceof l.onnx.ModelProto)return t;var e=new l.onnx.ModelProto;if(null!=t.irVersion&&(c.Long?(e.irVersion=c.Long.fromValue(t.irVersion)).unsigned=!1:"string"==typeof t.irVersion?e.irVersion=parseInt(t.irVersion,10):"number"==typeof t.irVersion?e.irVersion=t.irVersion:"object"==typeof t.irVersion&&(e.irVersion=new c.LongBits(t.irVersion.low>>>0,t.irVersion.high>>>0).toNumber())),t.opsetImport){if(!Array.isArray(t.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");e.opsetImport=[];for(var n=0;n<t.opsetImport.length;++n){if("object"!=typeof t.opsetImport[n])throw TypeError(".onnx.ModelProto.opsetImport: object expected");e.opsetImport[n]=l.onnx.OperatorSetIdProto.fromObject(t.opsetImport[n])}}if(null!=t.producerName&&(e.producerName=String(t.producerName)),null!=t.producerVersion&&(e.producerVersion=String(t.producerVersion)),null!=t.domain&&(e.domain=String(t.domain)),null!=t.modelVersion&&(c.Long?(e.modelVersion=c.Long.fromValue(t.modelVersion)).unsigned=!1:"string"==typeof t.modelVersion?e.modelVersion=parseInt(t.modelVersion,10):"number"==typeof t.modelVersion?e.modelVersion=t.modelVersion:"object"==typeof t.modelVersion&&(e.modelVersion=new c.LongBits(t.modelVersion.low>>>0,t.modelVersion.high>>>0).toNumber())),null!=t.docString&&(e.docString=String(t.docString)),null!=t.graph){if("object"!=typeof t.graph)throw TypeError(".onnx.ModelProto.graph: object expected");e.graph=l.onnx.GraphProto.fromObject(t.graph)}if(t.metadataProps){if(!Array.isArray(t.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(e.metadataProps=[],n=0;n<t.metadataProps.length;++n){if("object"!=typeof t.metadataProps[n])throw TypeError(".onnx.ModelProto.metadataProps: object expected");e.metadataProps[n]=l.onnx.StringStringEntryProto.fromObject(t.metadataProps[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.opsetImport=[],n.metadataProps=[]),e.defaults){if(c.Long){var r=new c.Long(0,0,!1);n.irVersion=e.longs===String?r.toString():e.longs===Number?r.toNumber():r}else n.irVersion=e.longs===String?"0":0;n.producerName="",n.producerVersion="",n.domain="",c.Long?(r=new c.Long(0,0,!1),n.modelVersion=e.longs===String?r.toString():e.longs===Number?r.toNumber():r):n.modelVersion=e.longs===String?"0":0,n.docString="",n.graph=null}if(null!=t.irVersion&&t.hasOwnProperty("irVersion")&&("number"==typeof t.irVersion?n.irVersion=e.longs===String?String(t.irVersion):t.irVersion:n.irVersion=e.longs===String?c.Long.prototype.toString.call(t.irVersion):e.longs===Number?new c.LongBits(t.irVersion.low>>>0,t.irVersion.high>>>0).toNumber():t.irVersion),null!=t.producerName&&t.hasOwnProperty("producerName")&&(n.producerName=t.producerName),null!=t.producerVersion&&t.hasOwnProperty("producerVersion")&&(n.producerVersion=t.producerVersion),null!=t.domain&&t.hasOwnProperty("domain")&&(n.domain=t.domain),null!=t.modelVersion&&t.hasOwnProperty("modelVersion")&&("number"==typeof t.modelVersion?n.modelVersion=e.longs===String?String(t.modelVersion):t.modelVersion:n.modelVersion=e.longs===String?c.Long.prototype.toString.call(t.modelVersion):e.longs===Number?new c.LongBits(t.modelVersion.low>>>0,t.modelVersion.high>>>0).toNumber():t.modelVersion),null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),null!=t.graph&&t.hasOwnProperty("graph")&&(n.graph=l.onnx.GraphProto.toObject(t.graph,e)),t.opsetImport&&t.opsetImport.length){n.opsetImport=[];for(var o=0;o<t.opsetImport.length;++o)n.opsetImport[o]=l.onnx.OperatorSetIdProto.toObject(t.opsetImport[o],e)}if(t.metadataProps&&t.metadataProps.length)for(n.metadataProps=[],o=0;o<t.metadataProps.length;++o)n.metadataProps[o]=l.onnx.StringStringEntryProto.toObject(t.metadataProps[o],e);return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.StringStringEntryProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.key="",t.prototype.value="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.key&&t.hasOwnProperty("key")&&e.uint32(10).string(t.key),null!=t.value&&t.hasOwnProperty("value")&&e.uint32(18).string(t.value),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new l.onnx.StringStringEntryProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.key=t.string();break;case 2:r.value=t.string();break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){return"object"!=typeof t||null===t?"object expected":null!=t.key&&t.hasOwnProperty("key")&&!c.isString(t.key)?"key: string expected":null!=t.value&&t.hasOwnProperty("value")&&!c.isString(t.value)?"value: string expected":null},t.fromObject=function(t){if(t instanceof l.onnx.StringStringEntryProto)return t;var e=new l.onnx.StringStringEntryProto;return null!=t.key&&(e.key=String(t.key)),null!=t.value&&(e.value=String(t.value)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.key="",n.value=""),null!=t.key&&t.hasOwnProperty("key")&&(n.key=t.key),null!=t.value&&t.hasOwnProperty("value")&&(n.value=t.value),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.TensorAnnotation=function(){function t(t){if(this.quantParameterTensorNames=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tensorName="",t.prototype.quantParameterTensorNames=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.tensorName&&t.hasOwnProperty("tensorName")&&e.uint32(10).string(t.tensorName),null!=t.quantParameterTensorNames&&t.quantParameterTensorNames.length)for(var n=0;n<t.quantParameterTensorNames.length;++n)l.onnx.StringStringEntryProto.encode(t.quantParameterTensorNames[n],e.uint32(18).fork()).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new l.onnx.TensorAnnotation;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.tensorName=t.string();break;case 2:r.quantParameterTensorNames&&r.quantParameterTensorNames.length||(r.quantParameterTensorNames=[]),r.quantParameterTensorNames.push(l.onnx.StringStringEntryProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.tensorName&&t.hasOwnProperty("tensorName")&&!c.isString(t.tensorName))return"tensorName: string expected";if(null!=t.quantParameterTensorNames&&t.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(t.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var e=0;e<t.quantParameterTensorNames.length;++e){var n=l.onnx.StringStringEntryProto.verify(t.quantParameterTensorNames[e]);if(n)return"quantParameterTensorNames."+n}}return null},t.fromObject=function(t){if(t instanceof l.onnx.TensorAnnotation)return t;var e=new l.onnx.TensorAnnotation;if(null!=t.tensorName&&(e.tensorName=String(t.tensorName)),t.quantParameterTensorNames){if(!Array.isArray(t.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");e.quantParameterTensorNames=[];for(var n=0;n<t.quantParameterTensorNames.length;++n){if("object"!=typeof t.quantParameterTensorNames[n])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");e.quantParameterTensorNames[n]=l.onnx.StringStringEntryProto.fromObject(t.quantParameterTensorNames[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.quantParameterTensorNames=[]),e.defaults&&(n.tensorName=""),null!=t.tensorName&&t.hasOwnProperty("tensorName")&&(n.tensorName=t.tensorName),t.quantParameterTensorNames&&t.quantParameterTensorNames.length){n.quantParameterTensorNames=[];for(var r=0;r<t.quantParameterTensorNames.length;++r)n.quantParameterTensorNames[r]=l.onnx.StringStringEntryProto.toObject(t.quantParameterTensorNames[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.GraphProto=function(){function t(t){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.node=c.emptyArray,t.prototype.name="",t.prototype.initializer=c.emptyArray,t.prototype.docString="",t.prototype.input=c.emptyArray,t.prototype.output=c.emptyArray,t.prototype.valueInfo=c.emptyArray,t.prototype.quantizationAnnotation=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.node&&t.node.length)for(var n=0;n<t.node.length;++n)l.onnx.NodeProto.encode(t.node[n],e.uint32(10).fork()).ldelim();if(null!=t.name&&t.hasOwnProperty("name")&&e.uint32(18).string(t.name),null!=t.initializer&&t.initializer.length)for(n=0;n<t.initializer.length;++n)l.onnx.TensorProto.encode(t.initializer[n],e.uint32(42).fork()).ldelim();if(null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(82).string(t.docString),null!=t.input&&t.input.length)for(n=0;n<t.input.length;++n)l.onnx.ValueInfoProto.encode(t.input[n],e.uint32(90).fork()).ldelim();if(null!=t.output&&t.output.length)for(n=0;n<t.output.length;++n)l.onnx.ValueInfoProto.encode(t.output[n],e.uint32(98).fork()).ldelim();if(null!=t.valueInfo&&t.valueInfo.length)for(n=0;n<t.valueInfo.length;++n)l.onnx.ValueInfoProto.encode(t.valueInfo[n],e.uint32(106).fork()).ldelim();if(null!=t.quantizationAnnotation&&t.quantizationAnnotation.length)for(n=0;n<t.quantizationAnnotation.length;++n)l.onnx.TensorAnnotation.encode(t.quantizationAnnotation[n],e.uint32(114).fork()).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new l.onnx.GraphProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.node&&r.node.length||(r.node=[]),r.node.push(l.onnx.NodeProto.decode(t,t.uint32()));break;case 2:r.name=t.string();break;case 5:r.initializer&&r.initializer.length||(r.initializer=[]),r.initializer.push(l.onnx.TensorProto.decode(t,t.uint32()));break;case 10:r.docString=t.string();break;case 11:r.input&&r.input.length||(r.input=[]),r.input.push(l.onnx.ValueInfoProto.decode(t,t.uint32()));break;case 12:r.output&&r.output.length||(r.output=[]),r.output.push(l.onnx.ValueInfoProto.decode(t,t.uint32()));break;case 13:r.valueInfo&&r.valueInfo.length||(r.valueInfo=[]),r.valueInfo.push(l.onnx.ValueInfoProto.decode(t,t.uint32()));break;case 14:r.quantizationAnnotation&&r.quantizationAnnotation.length||(r.quantizationAnnotation=[]),r.quantizationAnnotation.push(l.onnx.TensorAnnotation.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.node&&t.hasOwnProperty("node")){if(!Array.isArray(t.node))return"node: array expected";for(var e=0;e<t.node.length;++e)if(n=l.onnx.NodeProto.verify(t.node[e]))return"node."+n}if(null!=t.name&&t.hasOwnProperty("name")&&!c.isString(t.name))return"name: string expected";if(null!=t.initializer&&t.hasOwnProperty("initializer")){if(!Array.isArray(t.initializer))return"initializer: array expected";for(e=0;e<t.initializer.length;++e)if(n=l.onnx.TensorProto.verify(t.initializer[e]))return"initializer."+n}if(null!=t.docString&&t.hasOwnProperty("docString")&&!c.isString(t.docString))return"docString: string expected";if(null!=t.input&&t.hasOwnProperty("input")){if(!Array.isArray(t.input))return"input: array expected";for(e=0;e<t.input.length;++e)if(n=l.onnx.ValueInfoProto.verify(t.input[e]))return"input."+n}if(null!=t.output&&t.hasOwnProperty("output")){if(!Array.isArray(t.output))return"output: array expected";for(e=0;e<t.output.length;++e)if(n=l.onnx.ValueInfoProto.verify(t.output[e]))return"output."+n}if(null!=t.valueInfo&&t.hasOwnProperty("valueInfo")){if(!Array.isArray(t.valueInfo))return"valueInfo: array expected";for(e=0;e<t.valueInfo.length;++e)if(n=l.onnx.ValueInfoProto.verify(t.valueInfo[e]))return"valueInfo."+n}if(null!=t.quantizationAnnotation&&t.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(t.quantizationAnnotation))return"quantizationAnnotation: array expected";for(e=0;e<t.quantizationAnnotation.length;++e){var n;if(n=l.onnx.TensorAnnotation.verify(t.quantizationAnnotation[e]))return"quantizationAnnotation."+n}}return null},t.fromObject=function(t){if(t instanceof l.onnx.GraphProto)return t;var e=new l.onnx.GraphProto;if(t.node){if(!Array.isArray(t.node))throw TypeError(".onnx.GraphProto.node: array expected");e.node=[];for(var n=0;n<t.node.length;++n){if("object"!=typeof t.node[n])throw TypeError(".onnx.GraphProto.node: object expected");e.node[n]=l.onnx.NodeProto.fromObject(t.node[n])}}if(null!=t.name&&(e.name=String(t.name)),t.initializer){if(!Array.isArray(t.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(e.initializer=[],n=0;n<t.initializer.length;++n){if("object"!=typeof t.initializer[n])throw TypeError(".onnx.GraphProto.initializer: object expected");e.initializer[n]=l.onnx.TensorProto.fromObject(t.initializer[n])}}if(null!=t.docString&&(e.docString=String(t.docString)),t.input){if(!Array.isArray(t.input))throw TypeError(".onnx.GraphProto.input: array expected");for(e.input=[],n=0;n<t.input.length;++n){if("object"!=typeof t.input[n])throw TypeError(".onnx.GraphProto.input: object expected");e.input[n]=l.onnx.ValueInfoProto.fromObject(t.input[n])}}if(t.output){if(!Array.isArray(t.output))throw TypeError(".onnx.GraphProto.output: array expected");for(e.output=[],n=0;n<t.output.length;++n){if("object"!=typeof t.output[n])throw TypeError(".onnx.GraphProto.output: object expected");e.output[n]=l.onnx.ValueInfoProto.fromObject(t.output[n])}}if(t.valueInfo){if(!Array.isArray(t.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(e.valueInfo=[],n=0;n<t.valueInfo.length;++n){if("object"!=typeof t.valueInfo[n])throw TypeError(".onnx.GraphProto.valueInfo: object expected");e.valueInfo[n]=l.onnx.ValueInfoProto.fromObject(t.valueInfo[n])}}if(t.quantizationAnnotation){if(!Array.isArray(t.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(e.quantizationAnnotation=[],n=0;n<t.quantizationAnnotation.length;++n){if("object"!=typeof t.quantizationAnnotation[n])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");e.quantizationAnnotation[n]=l.onnx.TensorAnnotation.fromObject(t.quantizationAnnotation[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.node=[],n.initializer=[],n.input=[],n.output=[],n.valueInfo=[],n.quantizationAnnotation=[]),e.defaults&&(n.name="",n.docString=""),t.node&&t.node.length){n.node=[];for(var r=0;r<t.node.length;++r)n.node[r]=l.onnx.NodeProto.toObject(t.node[r],e)}if(null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),t.initializer&&t.initializer.length)for(n.initializer=[],r=0;r<t.initializer.length;++r)n.initializer[r]=l.onnx.TensorProto.toObject(t.initializer[r],e);if(null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),t.input&&t.input.length)for(n.input=[],r=0;r<t.input.length;++r)n.input[r]=l.onnx.ValueInfoProto.toObject(t.input[r],e);if(t.output&&t.output.length)for(n.output=[],r=0;r<t.output.length;++r)n.output[r]=l.onnx.ValueInfoProto.toObject(t.output[r],e);if(t.valueInfo&&t.valueInfo.length)for(n.valueInfo=[],r=0;r<t.valueInfo.length;++r)n.valueInfo[r]=l.onnx.ValueInfoProto.toObject(t.valueInfo[r],e);if(t.quantizationAnnotation&&t.quantizationAnnotation.length)for(n.quantizationAnnotation=[],r=0;r<t.quantizationAnnotation.length;++r)n.quantizationAnnotation[r]=l.onnx.TensorAnnotation.toObject(t.quantizationAnnotation[r],e);return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.TensorProto=function(){function t(t){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.dims=c.emptyArray,t.prototype.dataType=0,t.prototype.segment=null,t.prototype.floatData=c.emptyArray,t.prototype.int32Data=c.emptyArray,t.prototype.stringData=c.emptyArray,t.prototype.int64Data=c.emptyArray,t.prototype.name="",t.prototype.docString="",t.prototype.rawData=c.newBuffer([]),t.prototype.externalData=c.emptyArray,t.prototype.dataLocation=0,t.prototype.doubleData=c.emptyArray,t.prototype.uint64Data=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.dims&&t.dims.length){e.uint32(10).fork();for(var n=0;n<t.dims.length;++n)e.int64(t.dims[n]);e.ldelim()}if(null!=t.dataType&&t.hasOwnProperty("dataType")&&e.uint32(16).int32(t.dataType),null!=t.segment&&t.hasOwnProperty("segment")&&l.onnx.TensorProto.Segment.encode(t.segment,e.uint32(26).fork()).ldelim(),null!=t.floatData&&t.floatData.length){for(e.uint32(34).fork(),n=0;n<t.floatData.length;++n)e.float(t.floatData[n]);e.ldelim()}if(null!=t.int32Data&&t.int32Data.length){for(e.uint32(42).fork(),n=0;n<t.int32Data.length;++n)e.int32(t.int32Data[n]);e.ldelim()}if(null!=t.stringData&&t.stringData.length)for(n=0;n<t.stringData.length;++n)e.uint32(50).bytes(t.stringData[n]);if(null!=t.int64Data&&t.int64Data.length){for(e.uint32(58).fork(),n=0;n<t.int64Data.length;++n)e.int64(t.int64Data[n]);e.ldelim()}if(null!=t.name&&t.hasOwnProperty("name")&&e.uint32(66).string(t.name),null!=t.rawData&&t.hasOwnProperty("rawData")&&e.uint32(74).bytes(t.rawData),null!=t.doubleData&&t.doubleData.length){for(e.uint32(82).fork(),n=0;n<t.doubleData.length;++n)e.double(t.doubleData[n]);e.ldelim()}if(null!=t.uint64Data&&t.uint64Data.length){for(e.uint32(90).fork(),n=0;n<t.uint64Data.length;++n)e.uint64(t.uint64Data[n]);e.ldelim()}if(null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(98).string(t.docString),null!=t.externalData&&t.externalData.length)for(n=0;n<t.externalData.length;++n)l.onnx.StringStringEntryProto.encode(t.externalData[n],e.uint32(106).fork()).ldelim();return null!=t.dataLocation&&t.hasOwnProperty("dataLocation")&&e.uint32(112).int32(t.dataLocation),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new l.onnx.TensorProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(r.dims&&r.dims.length||(r.dims=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.dims.push(t.int64());else r.dims.push(t.int64());break;case 2:r.dataType=t.int32();break;case 3:r.segment=l.onnx.TensorProto.Segment.decode(t,t.uint32());break;case 4:if(r.floatData&&r.floatData.length||(r.floatData=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.floatData.push(t.float());else r.floatData.push(t.float());break;case 5:if(r.int32Data&&r.int32Data.length||(r.int32Data=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.int32Data.push(t.int32());else r.int32Data.push(t.int32());break;case 6:r.stringData&&r.stringData.length||(r.stringData=[]),r.stringData.push(t.bytes());break;case 7:if(r.int64Data&&r.int64Data.length||(r.int64Data=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.int64Data.push(t.int64());else r.int64Data.push(t.int64());break;case 8:r.name=t.string();break;case 12:r.docString=t.string();break;case 9:r.rawData=t.bytes();break;case 13:r.externalData&&r.externalData.length||(r.externalData=[]),r.externalData.push(l.onnx.StringStringEntryProto.decode(t,t.uint32()));break;case 14:r.dataLocation=t.int32();break;case 10:if(r.doubleData&&r.doubleData.length||(r.doubleData=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.doubleData.push(t.double());else r.doubleData.push(t.double());break;case 11:if(r.uint64Data&&r.uint64Data.length||(r.uint64Data=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.uint64Data.push(t.uint64());else r.uint64Data.push(t.uint64());break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.dims&&t.hasOwnProperty("dims")){if(!Array.isArray(t.dims))return"dims: array expected";for(var e=0;e<t.dims.length;++e)if(!(c.isInteger(t.dims[e])||t.dims[e]&&c.isInteger(t.dims[e].low)&&c.isInteger(t.dims[e].high)))return"dims: integer|Long[] expected"}if(null!=t.dataType&&t.hasOwnProperty("dataType")&&!c.isInteger(t.dataType))return"dataType: integer expected";if(null!=t.segment&&t.hasOwnProperty("segment")&&(n=l.onnx.TensorProto.Segment.verify(t.segment)))return"segment."+n;if(null!=t.floatData&&t.hasOwnProperty("floatData")){if(!Array.isArray(t.floatData))return"floatData: array expected";for(e=0;e<t.floatData.length;++e)if("number"!=typeof t.floatData[e])return"floatData: number[] expected"}if(null!=t.int32Data&&t.hasOwnProperty("int32Data")){if(!Array.isArray(t.int32Data))return"int32Data: array expected";for(e=0;e<t.int32Data.length;++e)if(!c.isInteger(t.int32Data[e]))return"int32Data: integer[] expected"}if(null!=t.stringData&&t.hasOwnProperty("stringData")){if(!Array.isArray(t.stringData))return"stringData: array expected";for(e=0;e<t.stringData.length;++e)if(!(t.stringData[e]&&"number"==typeof t.stringData[e].length||c.isString(t.stringData[e])))return"stringData: buffer[] expected"}if(null!=t.int64Data&&t.hasOwnProperty("int64Data")){if(!Array.isArray(t.int64Data))return"int64Data: array expected";for(e=0;e<t.int64Data.length;++e)if(!(c.isInteger(t.int64Data[e])||t.int64Data[e]&&c.isInteger(t.int64Data[e].low)&&c.isInteger(t.int64Data[e].high)))return"int64Data: integer|Long[] expected"}if(null!=t.name&&t.hasOwnProperty("name")&&!c.isString(t.name))return"name: string expected";if(null!=t.docString&&t.hasOwnProperty("docString")&&!c.isString(t.docString))return"docString: string expected";if(null!=t.rawData&&t.hasOwnProperty("rawData")&&!(t.rawData&&"number"==typeof t.rawData.length||c.isString(t.rawData)))return"rawData: buffer expected";if(null!=t.externalData&&t.hasOwnProperty("externalData")){if(!Array.isArray(t.externalData))return"externalData: array expected";for(e=0;e<t.externalData.length;++e){var n;if(n=l.onnx.StringStringEntryProto.verify(t.externalData[e]))return"externalData."+n}}if(null!=t.dataLocation&&t.hasOwnProperty("dataLocation"))switch(t.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=t.doubleData&&t.hasOwnProperty("doubleData")){if(!Array.isArray(t.doubleData))return"doubleData: array expected";for(e=0;e<t.doubleData.length;++e)if("number"!=typeof t.doubleData[e])return"doubleData: number[] expected"}if(null!=t.uint64Data&&t.hasOwnProperty("uint64Data")){if(!Array.isArray(t.uint64Data))return"uint64Data: array expected";for(e=0;e<t.uint64Data.length;++e)if(!(c.isInteger(t.uint64Data[e])||t.uint64Data[e]&&c.isInteger(t.uint64Data[e].low)&&c.isInteger(t.uint64Data[e].high)))return"uint64Data: integer|Long[] expected"}return null},t.fromObject=function(t){if(t instanceof l.onnx.TensorProto)return t;var e=new l.onnx.TensorProto;if(t.dims){if(!Array.isArray(t.dims))throw TypeError(".onnx.TensorProto.dims: array expected");e.dims=[];for(var n=0;n<t.dims.length;++n)c.Long?(e.dims[n]=c.Long.fromValue(t.dims[n])).unsigned=!1:"string"==typeof t.dims[n]?e.dims[n]=parseInt(t.dims[n],10):"number"==typeof t.dims[n]?e.dims[n]=t.dims[n]:"object"==typeof t.dims[n]&&(e.dims[n]=new c.LongBits(t.dims[n].low>>>0,t.dims[n].high>>>0).toNumber())}if(null!=t.dataType&&(e.dataType=0|t.dataType),null!=t.segment){if("object"!=typeof t.segment)throw TypeError(".onnx.TensorProto.segment: object expected");e.segment=l.onnx.TensorProto.Segment.fromObject(t.segment)}if(t.floatData){if(!Array.isArray(t.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(e.floatData=[],n=0;n<t.floatData.length;++n)e.floatData[n]=Number(t.floatData[n])}if(t.int32Data){if(!Array.isArray(t.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(e.int32Data=[],n=0;n<t.int32Data.length;++n)e.int32Data[n]=0|t.int32Data[n]}if(t.stringData){if(!Array.isArray(t.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(e.stringData=[],n=0;n<t.stringData.length;++n)"string"==typeof t.stringData[n]?c.base64.decode(t.stringData[n],e.stringData[n]=c.newBuffer(c.base64.length(t.stringData[n])),0):t.stringData[n].length&&(e.stringData[n]=t.stringData[n])}if(t.int64Data){if(!Array.isArray(t.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(e.int64Data=[],n=0;n<t.int64Data.length;++n)c.Long?(e.int64Data[n]=c.Long.fromValue(t.int64Data[n])).unsigned=!1:"string"==typeof t.int64Data[n]?e.int64Data[n]=parseInt(t.int64Data[n],10):"number"==typeof t.int64Data[n]?e.int64Data[n]=t.int64Data[n]:"object"==typeof t.int64Data[n]&&(e.int64Data[n]=new c.LongBits(t.int64Data[n].low>>>0,t.int64Data[n].high>>>0).toNumber())}if(null!=t.name&&(e.name=String(t.name)),null!=t.docString&&(e.docString=String(t.docString)),null!=t.rawData&&("string"==typeof t.rawData?c.base64.decode(t.rawData,e.rawData=c.newBuffer(c.base64.length(t.rawData)),0):t.rawData.length&&(e.rawData=t.rawData)),t.externalData){if(!Array.isArray(t.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(e.externalData=[],n=0;n<t.externalData.length;++n){if("object"!=typeof t.externalData[n])throw TypeError(".onnx.TensorProto.externalData: object expected");e.externalData[n]=l.onnx.StringStringEntryProto.fromObject(t.externalData[n])}}switch(t.dataLocation){case"DEFAULT":case 0:e.dataLocation=0;break;case"EXTERNAL":case 1:e.dataLocation=1}if(t.doubleData){if(!Array.isArray(t.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(e.doubleData=[],n=0;n<t.doubleData.length;++n)e.doubleData[n]=Number(t.doubleData[n])}if(t.uint64Data){if(!Array.isArray(t.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(e.uint64Data=[],n=0;n<t.uint64Data.length;++n)c.Long?(e.uint64Data[n]=c.Long.fromValue(t.uint64Data[n])).unsigned=!0:"string"==typeof t.uint64Data[n]?e.uint64Data[n]=parseInt(t.uint64Data[n],10):"number"==typeof t.uint64Data[n]?e.uint64Data[n]=t.uint64Data[n]:"object"==typeof t.uint64Data[n]&&(e.uint64Data[n]=new c.LongBits(t.uint64Data[n].low>>>0,t.uint64Data[n].high>>>0).toNumber(!0))}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.dims=[],n.floatData=[],n.int32Data=[],n.stringData=[],n.int64Data=[],n.doubleData=[],n.uint64Data=[],n.externalData=[]),e.defaults&&(n.dataType=0,n.segment=null,n.name="",e.bytes===String?n.rawData="":(n.rawData=[],e.bytes!==Array&&(n.rawData=c.newBuffer(n.rawData))),n.docString="",n.dataLocation=e.enums===String?"DEFAULT":0),t.dims&&t.dims.length){n.dims=[];for(var r=0;r<t.dims.length;++r)"number"==typeof t.dims[r]?n.dims[r]=e.longs===String?String(t.dims[r]):t.dims[r]:n.dims[r]=e.longs===String?c.Long.prototype.toString.call(t.dims[r]):e.longs===Number?new c.LongBits(t.dims[r].low>>>0,t.dims[r].high>>>0).toNumber():t.dims[r]}if(null!=t.dataType&&t.hasOwnProperty("dataType")&&(n.dataType=t.dataType),null!=t.segment&&t.hasOwnProperty("segment")&&(n.segment=l.onnx.TensorProto.Segment.toObject(t.segment,e)),t.floatData&&t.floatData.length)for(n.floatData=[],r=0;r<t.floatData.length;++r)n.floatData[r]=e.json&&!isFinite(t.floatData[r])?String(t.floatData[r]):t.floatData[r];if(t.int32Data&&t.int32Data.length)for(n.int32Data=[],r=0;r<t.int32Data.length;++r)n.int32Data[r]=t.int32Data[r];if(t.stringData&&t.stringData.length)for(n.stringData=[],r=0;r<t.stringData.length;++r)n.stringData[r]=e.bytes===String?c.base64.encode(t.stringData[r],0,t.stringData[r].length):e.bytes===Array?Array.prototype.slice.call(t.stringData[r]):t.stringData[r];if(t.int64Data&&t.int64Data.length)for(n.int64Data=[],r=0;r<t.int64Data.length;++r)"number"==typeof t.int64Data[r]?n.int64Data[r]=e.longs===String?String(t.int64Data[r]):t.int64Data[r]:n.int64Data[r]=e.longs===String?c.Long.prototype.toString.call(t.int64Data[r]):e.longs===Number?new c.LongBits(t.int64Data[r].low>>>0,t.int64Data[r].high>>>0).toNumber():t.int64Data[r];if(null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.rawData&&t.hasOwnProperty("rawData")&&(n.rawData=e.bytes===String?c.base64.encode(t.rawData,0,t.rawData.length):e.bytes===Array?Array.prototype.slice.call(t.rawData):t.rawData),t.doubleData&&t.doubleData.length)for(n.doubleData=[],r=0;r<t.doubleData.length;++r)n.doubleData[r]=e.json&&!isFinite(t.doubleData[r])?String(t.doubleData[r]):t.doubleData[r];if(t.uint64Data&&t.uint64Data.length)for(n.uint64Data=[],r=0;r<t.uint64Data.length;++r)"number"==typeof t.uint64Data[r]?n.uint64Data[r]=e.longs===String?String(t.uint64Data[r]):t.uint64Data[r]:n.uint64Data[r]=e.longs===String?c.Long.prototype.toString.call(t.uint64Data[r]):e.longs===Number?new c.LongBits(t.uint64Data[r].low>>>0,t.uint64Data[r].high>>>0).toNumber(!0):t.uint64Data[r];if(null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),t.externalData&&t.externalData.length)for(n.externalData=[],r=0;r<t.externalData.length;++r)n.externalData[r]=l.onnx.StringStringEntryProto.toObject(t.externalData[r],e);return null!=t.dataLocation&&t.hasOwnProperty("dataLocation")&&(n.dataLocation=e.enums===String?l.onnx.TensorProto.DataLocation[t.dataLocation]:t.dataLocation),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t.DataType=function(){var t={},e=Object.create(t);return e[t[0]="UNDEFINED"]=0,e[t[1]="FLOAT"]=1,e[t[2]="UINT8"]=2,e[t[3]="INT8"]=3,e[t[4]="UINT16"]=4,e[t[5]="INT16"]=5,e[t[6]="INT32"]=6,e[t[7]="INT64"]=7,e[t[8]="STRING"]=8,e[t[9]="BOOL"]=9,e[t[10]="FLOAT16"]=10,e[t[11]="DOUBLE"]=11,e[t[12]="UINT32"]=12,e[t[13]="UINT64"]=13,e[t[14]="COMPLEX64"]=14,e[t[15]="COMPLEX128"]=15,e[t[16]="BFLOAT16"]=16,e}(),t.Segment=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.begin=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.end=c.Long?c.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.begin&&t.hasOwnProperty("begin")&&e.uint32(8).int64(t.begin),null!=t.end&&t.hasOwnProperty("end")&&e.uint32(16).int64(t.end),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new l.onnx.TensorProto.Segment;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.begin=t.int64();break;case 2:r.end=t.int64();break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){return"object"!=typeof t||null===t?"object expected":null!=t.begin&&t.hasOwnProperty("begin")&&!(c.isInteger(t.begin)||t.begin&&c.isInteger(t.begin.low)&&c.isInteger(t.begin.high))?"begin: integer|Long expected":null!=t.end&&t.hasOwnProperty("end")&&!(c.isInteger(t.end)||t.end&&c.isInteger(t.end.low)&&c.isInteger(t.end.high))?"end: integer|Long expected":null},t.fromObject=function(t){if(t instanceof l.onnx.TensorProto.Segment)return t;var e=new l.onnx.TensorProto.Segment;return null!=t.begin&&(c.Long?(e.begin=c.Long.fromValue(t.begin)).unsigned=!1:"string"==typeof t.begin?e.begin=parseInt(t.begin,10):"number"==typeof t.begin?e.begin=t.begin:"object"==typeof t.begin&&(e.begin=new c.LongBits(t.begin.low>>>0,t.begin.high>>>0).toNumber())),null!=t.end&&(c.Long?(e.end=c.Long.fromValue(t.end)).unsigned=!1:"string"==typeof t.end?e.end=parseInt(t.end,10):"number"==typeof t.end?e.end=t.end:"object"==typeof t.end&&(e.end=new c.LongBits(t.end.low>>>0,t.end.high>>>0).toNumber())),e},t.toObject=function(t,e){e||(e={});var n={};if(e.defaults){if(c.Long){var r=new c.Long(0,0,!1);n.begin=e.longs===String?r.toString():e.longs===Number?r.toNumber():r}else n.begin=e.longs===String?"0":0;c.Long?(r=new c.Long(0,0,!1),n.end=e.longs===String?r.toString():e.longs===Number?r.toNumber():r):n.end=e.longs===String?"0":0}return null!=t.begin&&t.hasOwnProperty("begin")&&("number"==typeof t.begin?n.begin=e.longs===String?String(t.begin):t.begin:n.begin=e.longs===String?c.Long.prototype.toString.call(t.begin):e.longs===Number?new c.LongBits(t.begin.low>>>0,t.begin.high>>>0).toNumber():t.begin),null!=t.end&&t.hasOwnProperty("end")&&("number"==typeof t.end?n.end=e.longs===String?String(t.end):t.end:n.end=e.longs===String?c.Long.prototype.toString.call(t.end):e.longs===Number?new c.LongBits(t.end.low>>>0,t.end.high>>>0).toNumber():t.end),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),t.DataLocation=function(){var t={},e=Object.create(t);return e[t[0]="DEFAULT"]=0,e[t[1]="EXTERNAL"]=1,e}(),t}(),i.TensorShapeProto=function(){function t(t){if(this.dim=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.dim=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.dim&&t.dim.length)for(var n=0;n<t.dim.length;++n)l.onnx.TensorShapeProto.Dimension.encode(t.dim[n],e.uint32(10).fork()).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new l.onnx.TensorShapeProto;t.pos<n;){var o=t.uint32();o>>>3==1?(r.dim&&r.dim.length||(r.dim=[]),r.dim.push(l.onnx.TensorShapeProto.Dimension.decode(t,t.uint32()))):t.skipType(7&o)}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.dim&&t.hasOwnProperty("dim")){if(!Array.isArray(t.dim))return"dim: array expected";for(var e=0;e<t.dim.length;++e){var n=l.onnx.TensorShapeProto.Dimension.verify(t.dim[e]);if(n)return"dim."+n}}return null},t.fromObject=function(t){if(t instanceof l.onnx.TensorShapeProto)return t;var e=new l.onnx.TensorShapeProto;if(t.dim){if(!Array.isArray(t.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");e.dim=[];for(var n=0;n<t.dim.length;++n){if("object"!=typeof t.dim[n])throw TypeError(".onnx.TensorShapeProto.dim: object expected");e.dim[n]=l.onnx.TensorShapeProto.Dimension.fromObject(t.dim[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.dim=[]),t.dim&&t.dim.length){n.dim=[];for(var r=0;r<t.dim.length;++r)n.dim[r]=l.onnx.TensorShapeProto.Dimension.toObject(t.dim[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t.Dimension=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e;return t.prototype.dimValue=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.dimParam="",t.prototype.denotation="",Object.defineProperty(t.prototype,"value",{get:c.oneOfGetter(e=["dimValue","dimParam"]),set:c.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.dimValue&&t.hasOwnProperty("dimValue")&&e.uint32(8).int64(t.dimValue),null!=t.dimParam&&t.hasOwnProperty("dimParam")&&e.uint32(18).string(t.dimParam),null!=t.denotation&&t.hasOwnProperty("denotation")&&e.uint32(26).string(t.denotation),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new l.onnx.TensorShapeProto.Dimension;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.dimValue=t.int64();break;case 2:r.dimParam=t.string();break;case 3:r.denotation=t.string();break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";var e={};if(null!=t.dimValue&&t.hasOwnProperty("dimValue")&&(e.value=1,!(c.isInteger(t.dimValue)||t.dimValue&&c.isInteger(t.dimValue.low)&&c.isInteger(t.dimValue.high))))return"dimValue: integer|Long expected";if(null!=t.dimParam&&t.hasOwnProperty("dimParam")){if(1===e.value)return"value: multiple values";if(e.value=1,!c.isString(t.dimParam))return"dimParam: string expected"}return null!=t.denotation&&t.hasOwnProperty("denotation")&&!c.isString(t.denotation)?"denotation: string expected":null},t.fromObject=function(t){if(t instanceof l.onnx.TensorShapeProto.Dimension)return t;var e=new l.onnx.TensorShapeProto.Dimension;return null!=t.dimValue&&(c.Long?(e.dimValue=c.Long.fromValue(t.dimValue)).unsigned=!1:"string"==typeof t.dimValue?e.dimValue=parseInt(t.dimValue,10):"number"==typeof t.dimValue?e.dimValue=t.dimValue:"object"==typeof t.dimValue&&(e.dimValue=new c.LongBits(t.dimValue.low>>>0,t.dimValue.high>>>0).toNumber())),null!=t.dimParam&&(e.dimParam=String(t.dimParam)),null!=t.denotation&&(e.denotation=String(t.denotation)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.denotation=""),null!=t.dimValue&&t.hasOwnProperty("dimValue")&&("number"==typeof t.dimValue?n.dimValue=e.longs===String?String(t.dimValue):t.dimValue:n.dimValue=e.longs===String?c.Long.prototype.toString.call(t.dimValue):e.longs===Number?new c.LongBits(t.dimValue.low>>>0,t.dimValue.high>>>0).toNumber():t.dimValue,e.oneofs&&(n.value="dimValue")),null!=t.dimParam&&t.hasOwnProperty("dimParam")&&(n.dimParam=t.dimParam,e.oneofs&&(n.value="dimParam")),null!=t.denotation&&t.hasOwnProperty("denotation")&&(n.denotation=t.denotation),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),t}(),i.TypeProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e;return t.prototype.tensorType=null,t.prototype.denotation="",Object.defineProperty(t.prototype,"value",{get:c.oneOfGetter(e=["tensorType"]),set:c.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.tensorType&&t.hasOwnProperty("tensorType")&&l.onnx.TypeProto.Tensor.encode(t.tensorType,e.uint32(10).fork()).ldelim(),null!=t.denotation&&t.hasOwnProperty("denotation")&&e.uint32(50).string(t.denotation),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new l.onnx.TypeProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.tensorType=l.onnx.TypeProto.Tensor.decode(t,t.uint32());break;case 6:r.denotation=t.string();break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.tensorType&&t.hasOwnProperty("tensorType")){var e=l.onnx.TypeProto.Tensor.verify(t.tensorType);if(e)return"tensorType."+e}return null!=t.denotation&&t.hasOwnProperty("denotation")&&!c.isString(t.denotation)?"denotation: string expected":null},t.fromObject=function(t){if(t instanceof l.onnx.TypeProto)return t;var e=new l.onnx.TypeProto;if(null!=t.tensorType){if("object"!=typeof t.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");e.tensorType=l.onnx.TypeProto.Tensor.fromObject(t.tensorType)}return null!=t.denotation&&(e.denotation=String(t.denotation)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.denotation=""),null!=t.tensorType&&t.hasOwnProperty("tensorType")&&(n.tensorType=l.onnx.TypeProto.Tensor.toObject(t.tensorType,e),e.oneofs&&(n.value="tensorType")),null!=t.denotation&&t.hasOwnProperty("denotation")&&(n.denotation=t.denotation),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t.Tensor=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.elemType=0,t.prototype.shape=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.elemType&&t.hasOwnProperty("elemType")&&e.uint32(8).int32(t.elemType),null!=t.shape&&t.hasOwnProperty("shape")&&l.onnx.TensorShapeProto.encode(t.shape,e.uint32(18).fork()).ldelim(),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new l.onnx.TypeProto.Tensor;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.elemType=t.int32();break;case 2:r.shape=l.onnx.TensorShapeProto.decode(t,t.uint32());break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.elemType&&t.hasOwnProperty("elemType")&&!c.isInteger(t.elemType))return"elemType: integer expected";if(null!=t.shape&&t.hasOwnProperty("shape")){var e=l.onnx.TensorShapeProto.verify(t.shape);if(e)return"shape."+e}return null},t.fromObject=function(t){if(t instanceof l.onnx.TypeProto.Tensor)return t;var e=new l.onnx.TypeProto.Tensor;if(null!=t.elemType&&(e.elemType=0|t.elemType),null!=t.shape){if("object"!=typeof t.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");e.shape=l.onnx.TensorShapeProto.fromObject(t.shape)}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.elemType=0,n.shape=null),null!=t.elemType&&t.hasOwnProperty("elemType")&&(n.elemType=t.elemType),null!=t.shape&&t.hasOwnProperty("shape")&&(n.shape=l.onnx.TensorShapeProto.toObject(t.shape,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),t}(),i.OperatorSetIdProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.domain="",t.prototype.version=c.Long?c.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.domain&&t.hasOwnProperty("domain")&&e.uint32(10).string(t.domain),null!=t.version&&t.hasOwnProperty("version")&&e.uint32(16).int64(t.version),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new l.onnx.OperatorSetIdProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.domain=t.string();break;case 2:r.version=t.int64();break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){return"object"!=typeof t||null===t?"object expected":null!=t.domain&&t.hasOwnProperty("domain")&&!c.isString(t.domain)?"domain: string expected":null!=t.version&&t.hasOwnProperty("version")&&!(c.isInteger(t.version)||t.version&&c.isInteger(t.version.low)&&c.isInteger(t.version.high))?"version: integer|Long expected":null},t.fromObject=function(t){if(t instanceof l.onnx.OperatorSetIdProto)return t;var e=new l.onnx.OperatorSetIdProto;return null!=t.domain&&(e.domain=String(t.domain)),null!=t.version&&(c.Long?(e.version=c.Long.fromValue(t.version)).unsigned=!1:"string"==typeof t.version?e.version=parseInt(t.version,10):"number"==typeof t.version?e.version=t.version:"object"==typeof t.version&&(e.version=new c.LongBits(t.version.low>>>0,t.version.high>>>0).toNumber())),e},t.toObject=function(t,e){e||(e={});var n={};if(e.defaults)if(n.domain="",c.Long){var r=new c.Long(0,0,!1);n.version=e.longs===String?r.toString():e.longs===Number?r.toNumber():r}else n.version=e.longs===String?"0":0;return null!=t.domain&&t.hasOwnProperty("domain")&&(n.domain=t.domain),null!=t.version&&t.hasOwnProperty("version")&&("number"==typeof t.version?n.version=e.longs===String?String(t.version):t.version:n.version=e.longs===String?c.Long.prototype.toString.call(t.version):e.longs===Number?new c.LongBits(t.version.low>>>0,t.version.high>>>0).toNumber():t.version),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i),t.exports=l},2100:function(t,e,n){"use strict";t.exports=n(9482)},9482:function(t,e,n){"use strict";var r=e;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(1173),r.BufferWriter=n(3155),r.Reader=n(1408),r.BufferReader=n(593),r.util=n(9693),r.rpc=n(5994),r.roots=n(5054),r.configure=o,o()},1408:function(t,e,n){"use strict";t.exports=u;var r,o=n(9693),i=o.LongBits,a=o.utf8;function s(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function u(t){this.buf=t,this.pos=0,this.len=t.length}var c,l="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new u(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new u(t);throw Error("illegal buffer")},f=function(){return o.Buffer?function(t){return(u.create=function(t){return o.Buffer.isBuffer(t)?new r(t):l(t)})(t)}:l};function d(){var t=new i(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function p(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new i(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}u.create=f(),u.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},u.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},u.prototype.string=function(){var t=this.bytes();return a.read(t,0,t.length)},u.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},u._configure=function(t){r=t,u.create=f(),r._configure();var e=o.Long?"toLong":"toNumber";o.merge(u.prototype,{int64:function(){return d.call(this)[e](!1)},uint64:function(){return d.call(this)[e](!0)},sint64:function(){return d.call(this).zzDecode()[e](!1)},fixed64:function(){return h.call(this)[e](!0)},sfixed64:function(){return h.call(this)[e](!1)}})}},593:function(t,e,n){"use strict";t.exports=i;var r=n(1408);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(9693);function i(t){r.call(this,t)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},i._configure()},5054:function(t){"use strict";t.exports={}},5994:function(t,e,n){"use strict";e.Service=n(7948)},7948:function(t,e,n){"use strict";t.exports=o;var r=n(9693);function o(t,e,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function t(e,n,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(t,s,e,n,o,i);if(s.rpcImpl)try{return s.rpcImpl(e,n[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(t,n){if(t)return s.emit("error",t,e),a(t);if(null!==n){if(!(n instanceof o))try{n=o[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return s.emit("error",t,e),a(t)}return s.emit("data",n,e),a(null,n)}s.end(!0)}))}catch(t){return s.emit("error",t,e),void setTimeout((function(){a(t)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},o.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:function(t,e,n){"use strict";t.exports=o;var r=n(9693);function o(t,e){this.lo=t>>>0,this.hi=e>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(t){if(0===t)return i;var e=t<0;e&&(t=-t);var n=t>>>0,r=(t-n)/4294967296>>>0;return e&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(t){if("number"==typeof t)return o.fromNumber(t);if(r.isString(t)){if(!r.Long)return o.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new o(t.low>>>0,t.high>>>0):i},o.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;o.fromHash=function(t){return t===a?i:new o((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},o.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},o.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},9693:function(t,e,n){"use strict";var r=e;function o(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;++o)void 0!==t[r[o]]&&n||(t[r[o]]=e[r[o]]);return t}function i(t){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}r.asPromise=n(4537),r.base64=n(7419),r.EventEmitter=n(9211),r.float=n(945),r.inquire=n(7199),r.utf8=n(4997),r.pool=n(6662),r.LongBits=n(1945),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r._Buffer_allocUnsafe(t):new r.Array(t):r.Buffer?r._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,e){var n=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},r.merge=o,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},r.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var t=r.Buffer;t?(r._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},r._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},1173:function(t,e,n){"use strict";t.exports=f;var r,o=n(9693),i=o.LongBits,a=o.base64,s=o.utf8;function u(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function c(){}function l(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function f(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var d=function(){return o.Buffer?function(){return(f.create=function(){return new r})()}:function(){return new f}};function p(t,e,n){e[n]=255&t}function h(t,e){this.len=t,this.next=void 0,this.val=e}function g(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function b(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}f.create=d(),f.alloc=function(t){return new o.Array(t)},o.Array!==Array&&(f.alloc=o.pool(f.alloc,o.Array.prototype.subarray)),f.prototype._push=function(t,e,n){return this.tail=this.tail.next=new u(t,e,n),this.len+=e,this},h.prototype=Object.create(u.prototype),h.prototype.fn=function(t,e,n){for(;t>127;)e[n++]=127&t|128,t>>>=7;e[n]=t},f.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new h((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},f.prototype.int32=function(t){return t<0?this._push(g,10,i.fromNumber(t)):this.uint32(t)},f.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},f.prototype.uint64=function(t){var e=i.from(t);return this._push(g,e.length(),e)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(t){var e=i.from(t).zzEncode();return this._push(g,e.length(),e)},f.prototype.bool=function(t){return this._push(p,1,t?1:0)},f.prototype.fixed32=function(t){return this._push(b,4,t>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(t){var e=i.from(t);return this._push(b,4,e.lo)._push(b,4,e.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(t){return this._push(o.float.writeFloatLE,4,t)},f.prototype.double=function(t){return this._push(o.float.writeDoubleLE,8,t)};var v=o.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var r=0;r<t.length;++r)e[n+r]=t[r]};f.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(p,1,0);if(o.isString(t)){var n=f.alloc(e=a.length(t));a.decode(t,n,0),t=n}return this.uint32(e)._push(v,e,t)},f.prototype.string=function(t){var e=s.length(t);return e?this.uint32(e)._push(s.write,e,t):this._push(p,1,0)},f.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new u(c,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},f.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},f.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},f._configure=function(t){r=t,f.create=d(),r._configure()}},3155:function(t,e,n){"use strict";t.exports=i;var r=n(1173);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(9693);function i(){r.call(this)}function a(t,e,n){t.length<40?o.utf8.write(t,e,n):e.utf8Write?e.utf8Write(t,n):e.write(t,n)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var r=0;r<t.length;)e[n++]=t[r++]}},i.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(i.writeBytesBuffer,e,t),this},i.prototype.string=function(t){var e=o.Buffer.byteLength(t);return this.uint32(e),e&&this._push(a,e,t),this},i._configure()},7714:function(t,e,n){"use strict";e.R=void 0;var r=n(6919),o=n(7448);e.R=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"init",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"createSessionHandler",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e,n){var i;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new r.Session(n),t.next=3,i.loadModel(e);case 3:return t.abrupt("return",new o.OnnxjsSessionHandler(i));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),t}())},4200:function(t,e,n){"use strict";e.c8=e.rX=void 0;var r=n(1670),o=n(5381),i=n(2157),a=n(2306);e.rX=function(){if(("number"!=typeof r.env.wasm.initTimeout||r.env.wasm.initTimeout<0)&&(r.env.wasm.initTimeout=0),"boolean"!=typeof r.env.wasm.simd&&(r.env.wasm.simd=!0),"boolean"!=typeof r.env.wasm.proxy&&(r.env.wasm.proxy=!1),"number"!=typeof r.env.wasm.numThreads||!Number.isInteger(r.env.wasm.numThreads)||r.env.wasm.numThreads<=0){var t="undefined"==typeof navigator?(0,o.cpus)().length:navigator.hardwareConcurrency;r.env.wasm.numThreads=Math.min(4,Math.ceil((t||1)/2))}},e.c8=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"init",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,e.rX)(),t.next=3,(0,i.initWasm)();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"createSessionHandler",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e,n){var r;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new a.OnnxruntimeWebAssemblySessionHandler,t.next=3,r.loadModel(e,n);case 3:return t.abrupt("return",Promise.resolve(r));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),t}())},6018:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(1670),e);var i=n(1670),a=n(7714).R;(0,i.registerBackend)("webgl",a,-10);var s=n(4200).c8;(0,i.registerBackend)("cpu",s,10),(0,i.registerBackend)("wasm",s,10),(0,i.registerBackend)("xnnpack",s,9)},246:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createAttributeWithCacheKey=void 0;var n=function(){function t(e){_classCallCheck(this,t),Object.assign(this,e)}return _createClass(t,[{key:"cacheKey",get:function(){var t=this;return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map((function(e){return"".concat(t[e])})).join(";")),this._cacheKey}}]),t}();e.createAttributeWithCacheKey=function(t){return new n(t)}},7778:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Attribute=void 0;var r=n(1446),o=n(9395),i=n(9162),a=n(2517),s=o.onnxruntime.experimental.fbs,u=function(){function t(e){if(_classCallCheck(this,t),this._attributes=new Map,null!=e){var n,o=_createForOfIteratorHelper(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;i instanceof r.onnx.AttributeProto?this._attributes.set(i.name,[t.getValue(i),t.getType(i)]):i instanceof s.Attribute&&this._attributes.set(i.name(),[t.getValue(i),t.getType(i)])}}catch(a){o.e(a)}finally{o.f()}if(this._attributes.size<e.length)throw new Error("duplicated attribute names")}}return _createClass(t,[{key:"set",value:function(t,e,n){this._attributes.set(t,[n,e])}},{key:"delete",value:function(t){this._attributes.delete(t)}},{key:"getFloat",value:function(t,e){return this.get(t,"float",e)}},{key:"getInt",value:function(t,e){return this.get(t,"int",e)}},{key:"getString",value:function(t,e){return this.get(t,"string",e)}},{key:"getTensor",value:function(t,e){return this.get(t,"tensor",e)}},{key:"getFloats",value:function(t,e){return this.get(t,"floats",e)}},{key:"getInts",value:function(t,e){return this.get(t,"ints",e)}},{key:"getStrings",value:function(t,e){return this.get(t,"strings",e)}},{key:"getTensors",value:function(t,e){return this.get(t,"tensors",e)}},{key:"get",value:function(t,e,n){var r=this._attributes.get(t);if(void 0===r){if(void 0!==n)return n;throw new Error("required attribute not found: ".concat(t))}if(r[1]!==e)throw new Error("type mismatch: expected ".concat(e," but got ").concat(r[1]));return r[0]}}],[{key:"getType",value:function(t){var e=t instanceof r.onnx.AttributeProto?t.type:t.type();switch(e){case r.onnx.AttributeProto.AttributeType.FLOAT:return"float";case r.onnx.AttributeProto.AttributeType.INT:return"int";case r.onnx.AttributeProto.AttributeType.STRING:return"string";case r.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case r.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case r.onnx.AttributeProto.AttributeType.INTS:return"ints";case r.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case r.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error("attribute type is not supported yet: ".concat(r.onnx.AttributeProto.AttributeType[e]))}}},{key:"getValue",value:function(t){var e=t instanceof r.onnx.AttributeProto?t.type:t.type();if(e===r.onnx.AttributeProto.AttributeType.GRAPH||e===r.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");var n=this.getValueNoCheck(t);if(e===r.onnx.AttributeProto.AttributeType.INT&&a.LongUtil.isLong(n))return a.LongUtil.longToNumber(n);if(e===r.onnx.AttributeProto.AttributeType.INTS){for(var o=n,u=new Array(o.length),c=0;c<o.length;c++){var l=o[c];u[c]=a.LongUtil.longToNumber(l)}return u}if(e===r.onnx.AttributeProto.AttributeType.TENSOR)return t instanceof r.onnx.AttributeProto?i.Tensor.fromProto(n):i.Tensor.fromOrtTensor(n);if(e===r.onnx.AttributeProto.AttributeType.TENSORS){if(t instanceof r.onnx.AttributeProto)return n.map((function(t){return i.Tensor.fromProto(t)}));if(t instanceof s.Attribute)return n.map((function(t){return i.Tensor.fromOrtTensor(t)}))}if(e===r.onnx.AttributeProto.AttributeType.STRING&&t instanceof r.onnx.AttributeProto){var f=n;return(0,a.decodeUtf8String)(f)}return e===r.onnx.AttributeProto.AttributeType.STRINGS&&t instanceof r.onnx.AttributeProto?n.map(a.decodeUtf8String):n}},{key:"getValueNoCheck",value:function(t){return t instanceof r.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(t):this.getValueNoCheckFromOrtFormat(t)}},{key:"getValueNoCheckFromOnnxFormat",value:function(t){switch(t.type){case r.onnx.AttributeProto.AttributeType.FLOAT:return t.f;case r.onnx.AttributeProto.AttributeType.INT:return t.i;case r.onnx.AttributeProto.AttributeType.STRING:return t.s;case r.onnx.AttributeProto.AttributeType.TENSOR:return t.t;case r.onnx.AttributeProto.AttributeType.GRAPH:return t.g;case r.onnx.AttributeProto.AttributeType.FLOATS:return t.floats;case r.onnx.AttributeProto.AttributeType.INTS:return t.ints;case r.onnx.AttributeProto.AttributeType.STRINGS:return t.strings;case r.onnx.AttributeProto.AttributeType.TENSORS:return t.tensors;case r.onnx.AttributeProto.AttributeType.GRAPHS:return t.graphs;default:throw new Error("unsupported attribute type: ".concat(r.onnx.AttributeProto.AttributeType[t.type]))}}},{key:"getValueNoCheckFromOrtFormat",value:function(t){switch(t.type()){case s.AttributeType.FLOAT:return t.f();case s.AttributeType.INT:return t.i();case s.AttributeType.STRING:return t.s();case s.AttributeType.TENSOR:return t.t();case s.AttributeType.GRAPH:return t.g();case s.AttributeType.FLOATS:return t.floatsArray();case s.AttributeType.INTS:for(var e=[],n=0;n<t.intsLength();n++)e.push(t.ints(n));return e;case s.AttributeType.STRINGS:for(var r=[],o=0;o<t.stringsLength();o++)r.push(t.strings(o));return r;case s.AttributeType.TENSORS:for(var i=[],a=0;a<t.tensorsLength();a++)i.push(t.tensors(a));return i;default:throw new Error("unsupported attribute type: ".concat(s.AttributeType[t.type()]))}}}]),t}();e.Attribute=u},7091:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolveBackend=e.backend=void 0;var r=n(5038),o=new Map;function i(t){return a.apply(this,arguments)}function a(){return a=_asyncToGenerator(_regeneratorRuntime().mark((function t(n){var r,i,a;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===(r=e.backend)[n]||!function(t){var e=t;return"initialize"in e&&"function"==typeof e.initialize&&"createSessionHandler"in e&&"function"==typeof e.createSessionHandler&&"dispose"in e&&"function"==typeof e.dispose}(r[n])){t.next=11;break}if(i=r[n],a=i.initialize(),t.t0="object"==typeof a&&"then"in a,!t.t0){t.next=9;break}return t.next=8,a;case 8:a=t.sent;case 9:if(!a){t.next=11;break}return t.abrupt("return",(o.set(n,i),i));case 11:case"end":return t.stop()}}),t)}))),a.apply(this,arguments)}e.backend={webgl:new r.WebGLBackend},e.resolveBackend=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(n){var r,a,s,u,c;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",e(["webgl"]));case 2:r=_createForOfIteratorHelper("string"==typeof n?[n]:n),t.prev=4,r.s();case 6:if((a=r.n()).done){t.next=18;break}if(s=a.value,!(u=o.get(s))){t.next=11;break}return t.abrupt("return",u);case 11:return t.next=13,i(s);case 13:if(!(c=t.sent)){t.next=16;break}return t.abrupt("return",c);case 16:t.next=6;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(4),r.e(t.t0);case 23:return t.prev=23,r.f(),t.finish(23);case 26:throw new Error("no available backend to use");case 27:case"end":return t.stop()}}),t,null,[[4,20,23,26]])})));function e(e){return t.apply(this,arguments)}return e}()},5038:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLBackend=void 0;var r=n(1670),o=n(6231),i=n(6416),a=n(7305);e.WebGLBackend=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"contextId",get:function(){return r.env.webgl.contextId},set:function(t){r.env.webgl.contextId=t}},{key:"matmulMaxBatchSize",get:function(){return r.env.webgl.matmulMaxBatchSize},set:function(t){r.env.webgl.matmulMaxBatchSize=t}},{key:"textureCacheMode",get:function(){return r.env.webgl.textureCacheMode},set:function(t){r.env.webgl.textureCacheMode=t}},{key:"pack",get:function(){return r.env.webgl.pack},set:function(t){r.env.webgl.pack=t}},{key:"async",get:function(){return r.env.webgl.async},set:function(t){r.env.webgl.async=t}},{key:"initialize",value:function(){try{return this.glContext=(0,a.createWebGLContext)(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),"boolean"!=typeof this.pack&&(this.pack=!1),"boolean"!=typeof this.async&&(this.async=!1),o.Logger.setWithEnv(r.env),o.Logger.verbose("WebGLBackend","Created WebGLContext: ".concat(typeof this.glContext," with matmulMaxBatchSize: ").concat(this.matmulMaxBatchSize,"; textureCacheMode: ").concat(this.textureCacheMode,"; pack: ").concat(this.pack,"; async: ").concat(this.async,".")),!0}catch(t){return o.Logger.warning("WebGLBackend","Unable to initialize WebGLBackend. ".concat(t)),!1}}},{key:"createSessionHandler",value:function(t){return new i.WebGLSessionHandler(this,t)}},{key:"dispose",value:function(){this.glContext.dispose()}}]),e}()},5107:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoordsGlslLib=void 0;var r=n(2517),o=n(8520),i=n(5060),a=n(7859),s=n(9390),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"getFunctions",value:function(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}},{key:"getCustomTypes",value:function(){return{}}},{key:"offsetToCoords",value:function(){return{offsetToCoords:new o.GlslLibRoutine("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")}}},{key:"coordsToOffset",value:function(){return{coordsToOffset:new o.GlslLibRoutine("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")}}},{key:"getOutputSamplingSnippet",value:function(){var t=this.context.outputTextureLayout;return t.isPacked?this.getPackedOutputSamplingSnippet(t):this.getUnpackedOutputSamplingSnippet(t)}},{key:"getPackedOutputSamplingSnippet",value:function(t){var e=t.unpackedShape,n=[t.width,t.height],r={},a="getOutputCoords";switch(e.length){case 0:r[a]=this.getOutputScalarCoords();break;case 1:r[a]=this.getOutputPacked1DCoords(e,n);break;case 2:r[a]=this.getOutputPacked2DCoords(e,n);break;case 3:r[a]=this.getOutputPacked3DCoords(e,n);break;default:r[a]=this.getOutputPackedNDCoords(e,n)}var s="\n      void setOutput(vec4 val) {\n        ".concat((0,i.getGlsl)(this.context.glContext.version).output," = val;\n      }\n    ");return r.floatTextureSetRGBA=new o.GlslLibRoutine(s),r}},{key:"getUnpackedOutputSamplingSnippet",value:function(t){var e=t.unpackedShape,n=[t.width,t.height],r={},a="getOutputCoords";switch(e.length){case 0:r[a]=this.getOutputScalarCoords();break;case 1:r[a]=this.getOutputUnpacked1DCoords(e,n);break;case 2:r[a]=this.getOutputUnpacked2DCoords(e,n);break;case 3:r[a]=this.getOutputUnpacked3DCoords(e,n);break;case 4:r[a]=this.getOutputUnpacked4DCoords(e,n);break;case 5:r[a]=this.getOutputUnpacked5DCoords(e,n);break;case 6:r[a]=this.getOutputUnpacked6DCoords(e,n);break;default:throw new Error("Unsupported output dimensionality: ".concat(e.length))}var s="\n        void setOutput(float val) {\n          ".concat((0,i.getGlsl)(this.context.glContext.version).output," = vec4(val, 0, 0, 0);\n        }\n    ");return r.floatTextureSetR=new o.GlslLibRoutine(s),r}},{key:"getOutputScalarCoords",value:function(){return new o.GlslLibRoutine("\n      int getOutputCoords() {\n        return 0;\n      }\n    ")}},{key:"getOutputPacked1DCoords",value:function(t,e){var n=e,r="";return 1===n[0]?(r="\n          int getOutputCoords() {\n            return 2 * int(TexCoords.y * ".concat(n[1],".0);\n          }\n        "),new o.GlslLibRoutine(r)):1===n[1]?(r="\n          int getOutputCoords() {\n            return 2 * int(TexCoords.x * ".concat(n[0],".0);\n          }\n        "),new o.GlslLibRoutine(r)):(r="\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                 vec2(".concat(n[0],", ").concat(n[1],"));\n          return 2 * (resTexRC.y * ").concat(n[0]," + resTexRC.x);\n        }\n      "),new o.GlslLibRoutine(r))}},{key:"getOutputPacked2DCoords",value:function(t,e){var n="";if(r.ArrayUtil.arraysEqual(t,e))return n="\n        ivec2 getOutputCoords() {\n          return 2 * ivec2(TexCoords.xy * vec2(".concat(e[0],", ").concat(e[1],"));\n        }\n      "),new o.GlslLibRoutine(n);var i=e,a=Math.ceil(t[1]/2);return n="\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(i[0],", ").concat(i[1],"));\n\n          int index = resTexRC.y * ").concat(i[0]," + resTexRC.x;\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ").concat(a,") * 2;\n          int c = 2 * (index / ").concat(a,");\n\n          return ivec2(r, c);\n        }\n      "),new o.GlslLibRoutine(n)}},{key:"getOutputPacked3DCoords",value:function(t,e){var n=[e[0],e[1]],r=Math.ceil(t[2]/2),i=r*Math.ceil(t[1]/2),a="\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(n[0],", ").concat(n[1],"));\n          int index = resTexRC.y * ").concat(n[0]," + resTexRC.x;\n\n          int b = index / ").concat(i,";\n          index -= b * ").concat(i,";\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ").concat(r,") * 2;\n          int c = 2 * (index / ").concat(r,");\n\n          return ivec3(b, r, c);\n        }\n      ");return new o.GlslLibRoutine(a)}},{key:"getOutputPackedNDCoords",value:function(t,e){for(var n=[e[0],e[1]],r=Math.ceil(t[t.length-1]/2),i=r*Math.ceil(t[t.length-2]/2),a=i,s="",u="b, r, c",c=2;c<t.length-1;c++)a*=t[t.length-c-1],s="\n      int b".concat(c," = index / ").concat(a,";\n      index -= b").concat(c," * ").concat(a,";\n    ")+s,u="b".concat(c,", ")+u;var l="\n      ivec".concat(t.length," getOutputCoords() {\n        ivec2 resTexRC = ivec2(TexCoords.xy *\n                              vec2(").concat(n[0],", ").concat(n[1],"));\n        int index = resTexRC.y * ").concat(n[0]," + resTexRC.x;\n\n        ").concat(s,"\n\n        int b = index / ").concat(i,";\n        index -= b * ").concat(i,";\n\n        // reverse r and c order for packed texture\n        int r = imod(index, ").concat(r,") * 2;\n        int c = 2 * (index / ").concat(r,");\n\n        return ivec").concat(t.length,"(").concat(u,");\n      }\n    ");return new o.GlslLibRoutine(l)}},{key:"getOutputUnpacked1DCoords",value:function(t,e){var n="\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(e[0],", ").concat(e[1],"));\n          return resTexRC.y * ").concat(e[0]," + resTexRC.x;\n        }\n      ");return new o.GlslLibRoutine(n)}},{key:"getOutputUnpacked2DCoords",value:function(t,e){var n="\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(e[0],", ").concat(e[1],"));\n          int index = resTexRC.y * ").concat(e[0]," + resTexRC.x;\n          int r = index / ").concat(t[1],";\n          int c = index - r * ").concat(t[1],";\n          return ivec2(r, c);\n        }\n      ");return new o.GlslLibRoutine(n)}},{key:"getOutputUnpacked3DCoords",value:function(t,e){var n,r=t.length,i=null;r<2&&(i=[]),(i=new Array(r-1))[r-2]=t[r-1];for(var a=r-3;a>=0;--a)i[a]=i[a+1]*t[a+1];var s=["r","c","d"],u=i.map((function(t,e){return"int ".concat(s[e]," = index / ").concat(t,"; ").concat(e===i.length-1?"int ".concat(s[e+1]," = index - ").concat(s[e]," * ").concat(t):"index -= ".concat(s[e]," * ").concat(t),";")})).join("");return n="\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(e[0],", ").concat(e[1],"));\n          int index = resTexRC.y * ").concat(e[0]," + resTexRC.x;\n          ").concat(u,"\n          return ivec3(r, c, d);\n        }\n      "),new o.GlslLibRoutine(n)}},{key:"getOutputUnpacked4DCoords",value:function(t,e){var n,r=t.length,i=null;r<2&&(i=[]),(i=new Array(r-1))[r-2]=t[r-1];for(var a=r-3;a>=0;--a)i[a]=i[a+1]*t[a+1];var s=["r","c","d","d2"],u=i.map((function(t,e){return"int ".concat(s[e]," = index / ").concat(t,"; ").concat(e===i.length-1?"int ".concat(s[e+1]," = index - ").concat(s[e]," * ").concat(t):"index -= ".concat(s[e]," * ").concat(t),";")})).join("");return n="\n      ivec4 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(e[0],", ").concat(e[1],"));\n          int index = resTexRC.y * ").concat(e[0]," + resTexRC.x;\n          ").concat(u,"\n          return ivec4(r, c, d, d2);\n        }\n      "),new o.GlslLibRoutine(n)}},{key:"getOutputUnpacked5DCoords",value:function(t,e){var n,r=t.length,i=null;r<2&&(i=[]),(i=new Array(r-1))[r-2]=t[r-1];for(var a=r-3;a>=0;--a)i[a]=i[a+1]*t[a+1];var s=["r","c","d","d2","d3"],u=i.map((function(t,e){return"int ".concat(s[e]," = index / ").concat(t,"; ").concat(e===i.length-1?"int ".concat(s[e+1]," = index - ").concat(s[e]," * ").concat(t):"index -= ".concat(s[e]," * ").concat(t),";")})).join("");return n="\n      ivec5 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(".concat(e[0],", ").concat(e[1],"));\n          int index = resTexRC.y * ").concat(e[0]," + resTexRC.x;\n          ").concat(u,"\n          return ivec5(r, c, d, d2, d3);\n        }\n      "),new o.GlslLibRoutine(n)}},{key:"getOutputUnpacked6DCoords",value:function(t,e){var n,r=t.length,i=null;r<2&&(i=[]),(i=new Array(r-1))[r-2]=t[r-1];for(var a=r-3;a>=0;--a)i[a]=i[a+1]*t[a+1];var s=["r","c","d","d2","d3","d4"],u=i.map((function(t,e){return"int ".concat(s[e]," = index / ").concat(t,"; ").concat(e===i.length-1?"int ".concat(s[e+1]," = index - ").concat(s[e]," * ").concat(t):"index -= ".concat(s[e]," * ").concat(t),";")})).join("");return n="\n     ivec6 getOutputCoords() {\n         ivec2 resTexRC = ivec2(TexCoords.xy *\n                               vec2(".concat(e[0],", ").concat(e[1],"));\n         int index = resTexRC.y * ").concat(e[0]," + resTexRC.x;\n         ").concat(u,"\n         return ivec6(r, c, d, d2, d3, d4);\n       }\n     "),new o.GlslLibRoutine(n)}},{key:"getCommonUtilFuncs",value:function(){var t={},e="uvFromFlat";t[e]=new o.GlslLibRoutine("\n    vec2 uvFromFlat(int texNumR, int texNumC, int index) {\n      int texC = index / texNumR;\n      int texR = index - texC * texNumR;\n      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to\n      //       v.\n      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);\n    }\n    "),t[e="packedUVfrom1D"]=new o.GlslLibRoutine("\n      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n        int texelIndex = index / 2;\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t[e="packedUVfrom2D"]=new o.GlslLibRoutine("\n      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {\n        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t[e="packedUVfrom3D"]=new o.GlslLibRoutine("\n      vec2 packedUVfrom3D(int texNumR, int texNumC,\n          int texelsInBatch, int texelsInLogicalRow, int b,\n          int row, int col) {\n        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = index / texNumC;\n        int texC = index - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),e="sampleTexture";var n=(0,i.getGlsl)(this.context.glContext.version);return t[e]=new o.GlslLibRoutine("\n        float sampleTexture(sampler2D textureSampler, vec2 uv) {\n            return ".concat(n.texture2D,"(textureSampler, uv).r;\n        }")),t}},{key:"getInputsSamplingSnippets",value:function(){var t=this,e={},n=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((function(r,o){var i=t.context.inputTextureLayouts[o],a=(0,s.generateShaderFuncNameFromInputSamplerName)(r);i.isPacked?e[a]=t.getPackedSamplerFromInput(a,r,i):e[a]=t.getUnpackedSamplerFromInput(a,r,i);var u=(0,s.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(r);i.unpackedShape.length<=n.unpackedShape.length&&(i.isPacked?e[u]=t.getPackedSamplerAtOutputCoords(u,i,n,r):e[u]=t.getUnpackedSamplerAtOutputCoords(u,i,n,r))})),e}},{key:"getPackedSamplerAtOutputCoords",value:function(t,e,n,i){var a,u,c=e.unpackedShape,l=n.unpackedShape,f=i,d=(0,s.generateShaderFuncNameFromInputSamplerName)(f),p=c.length,h=l.length,g=r.BroadcastUtil.getBroadcastDims(c,l),b=(0,s.getCoordsDataType)(h),v=h-p,y=(0,s.getGlChannels)();a=0===p?"":h<2&&g.length>=1?"coords = 0;":g.map((function(t){return"coords.".concat(y[t+v]," = 0;")})).join("\n"),u=h<2&&p>0?"coords":c.map((function(t,e){return"coords.".concat(y[e+v])})).join(", ");var m="return outputValue;",_=1===r.ShapeUtil.size(c),w=1===r.ShapeUtil.size(l);if(1!==p||_||w){if(_&&!w)m=1===h?"\n          return vec4(outputValue.x, outputValue.x, 0., 0.);\n        ":"\n          return vec4(outputValue.x);\n        ";else if(g.length){var x=p-2,T=p-1;g.indexOf(x)>-1&&g.indexOf(T)>-1?m="return vec4(outputValue.x);":g.indexOf(x)>-1?m="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":g.indexOf(T)>-1&&(m="return vec4(outputValue.xx, outputValue.zz);")}}else m="\n        return vec4(outputValue.xy, outputValue.xy);\n      ";var k="\n      vec4 ".concat(t,"() {\n        ").concat(b," coords = getOutputCoords();\n        \n        int lastDim = coords.").concat(y[h-1],";\n        coords.").concat(y[h-1]," = coords.").concat(y[h-2],";\n        coords.").concat(y[h-2]," = lastDim;\n      \n        ").concat(a,"\n        vec4 outputValue = ").concat(d,"(").concat(u,");\n        ").concat(m,"\n      }\n    ");return new o.GlslLibRoutine(k,["coordinates.getOutputCoords"])}},{key:"getUnpackedSamplerAtOutputCoords",value:function(t,e,n,i){var a=[n.width,n.height],u=[e.width,e.height],c=e.unpackedShape.length,l=n.unpackedShape.length,f=e.unpackedShape,d=n.unpackedShape,p=(0,s.generateShaderFuncNameFromInputSamplerName)(i);if(c===l&&r.ArrayUtil.arraysEqual(u,a)){var h="\n          float ".concat(t,"() {\n            return sampleTexture(").concat(i,", TexCoords);\n          }\n        ");return new o.GlslLibRoutine(h,["coordinates.sampleTexture"])}var g,b,v=(0,s.getCoordsDataType)(l),y=r.BroadcastUtil.getBroadcastDims(f,d),m=l-c,_=(0,s.getGlChannels)();g=0===c?"":l<2&&y.length>=1?"coords = 0;":y.map((function(t){return"coords.".concat(_[t+m]," = 0;")})).join("\n"),b=l<2&&c>0?"coords":e.unpackedShape.map((function(t,e){return"coords.".concat(_[e+m])})).join(", ");var w="\n        float ".concat(t,"() {\n          ").concat(v," coords = getOutputCoords();\n          ").concat(g,"\n          return ").concat(p,"(").concat(b,");\n        }\n      ");return new o.GlslLibRoutine(w,["coordinates.getOutputCoords"])}},{key:"getPackedSamplerFromInput",value:function(t,e,n){switch(n.unpackedShape.length){case 0:return this.getPackedSamplerScalar(t,e);case 1:return this.getPackedSampler1D(t,e,n);case 2:return this.getPackedSampler2D(t,e,n);case 3:return this.getPackedSampler3D(t,e,n);default:return this.getPackedSamplerND(t,e,n)}}},{key:"getUnpackedSamplerFromInput",value:function(t,e,n){var r=n.unpackedShape;switch(r.length){case 0:return this.getUnpackedSamplerScalar(t,e,n);case 1:return this.getUnpackedSampler1D(t,e,n);case 2:return this.getUnpackedSampler2D(t,e,n);case 3:return this.getUnpackedSampler3D(t,e,n);case 4:return this.getUnpackedSampler4D(t,e,n);case 5:return this.getUnpackedSampler5D(t,e,n);case 6:return this.getUnpackedSampler6D(t,e,n);default:throw new Error("Unsupported dimension ".concat(r.length,"-D"))}}},{key:"getPackedSamplerScalar",value:function(t,e){var n="\n          vec4 ".concat(t,"() {\n            return ").concat((0,i.getGlsl)(this.context.glContext.version).texture2D,"(").concat(e,", halfCR);\n          }\n        ");return new o.GlslLibRoutine(n)}},{key:"getPackedSampler1D",value:function(t,e,n){var r=[n.width,n.height],a=[r[1],r[0]],s=(0,i.getGlsl)(this.context.glContext.version),u="vec4 ".concat(t,"(int index) {\n      vec2 uv = packedUVfrom1D(\n      ").concat(a[0],", ").concat(a[1],", index);\n      return ").concat(s.texture2D,"(").concat(e,", uv);\n    }");return new o.GlslLibRoutine(u,["coordinates.packedUVfrom1D"])}},{key:"getPackedSampler2D",value:function(t,e,n){var a=n.unpackedShape,s=[n.width,n.height],u=(0,i.getGlsl)(this.context.glContext.version),c=s[0],l=s[1];if(null!=s&&r.ArrayUtil.arraysEqual(a,s)){var f="vec4 ".concat(t,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(l,".0, ").concat(c,".0);\n        return ").concat(u.texture2D,"(").concat(e,", uv);\n      }");return new o.GlslLibRoutine(f)}var d=s,p=Math.ceil(a[1]/2),h="vec4 ".concat(t,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(d[1],", ").concat(d[0],", ").concat(p,", row, col);\n      return ").concat(u.texture2D,"(").concat(e,", uv);\n    }");return new o.GlslLibRoutine(h,["coordinates.packedUVfrom2D"])}},{key:"getPackedSampler3D",value:function(t,e,n){var r=n.unpackedShape,a=[n.width,n.height],u=[a[0],a[1]],c=(0,i.getGlsl)(this.context.glContext.version);if(1===r[0]){var l=r.slice(1),f=(0,s.squeezeInputShape)(r,l),d=JSON.parse(JSON.stringify(n));d.unpackedShape=f;var p=this.getPackedSamplerFromInput(t,e,d),h="".concat(p.routineBody,"\n      vec4 ").concat(t,"(int b, int row, int col) {\n        return ").concat(t,"(").concat((0,s.getSqueezedParams)(["b","row","col"],[1,2]),");\n      } ");return new o.GlslLibRoutine(h,p.dependencies)}var g=u[0],b=u[1],v=Math.ceil(r[2]/2),y="vec4 ".concat(t,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(b,", ").concat(g,", ").concat(v*Math.ceil(r[1]/2),", ").concat(v,", b, row, col);\n      return ").concat(c.texture2D,"(").concat(e,", uv);}");return new o.GlslLibRoutine(y,["coordinates.packedUVfrom3D"])}},{key:"getPackedSamplerND",value:function(t,e,n){for(var r=n.unpackedShape,a=r.length,s=[n.width,n.height],u=(0,i.getGlsl)(this.context.glContext.version),c=[s[0],s[1]],l=c[1],f=c[0],d=Math.ceil(r[a-1]/2),p=d*Math.ceil(r[a-2]/2),h="int b, int row, int col",g="b * ".concat(p," + (row / 2) * ").concat(d," + (col / 2)"),b=2;b<a-1;b++)h="int b".concat(b,", ")+h,p*=r[a-b-1],g="b".concat(b," * ").concat(p," + ")+g;var v="vec4 ".concat(t,"(").concat(h,") {\n      int index = ").concat(g,";\n      int texR = index / ").concat(f,";\n      int texC = index - texR * ").concat(f,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(f,", ").concat(l,");\n      return ").concat(u.texture2D,"(").concat(e,", uv);\n    }");return new o.GlslLibRoutine(v)}},{key:"getUnpackedSamplerScalar",value:function(t,e,n){var r=[n.width,n.height],i=r[0],a=r[1];if(1===i&&1===a){var s="\n          float ".concat(t,"() {\n            return sampleTexture(").concat(e,", halfCR);\n          }\n        ");return new o.GlslLibRoutine(s,["coordinates.sampleTexture"])}var u="\n        float ".concat(t,"() {\n          int offset_").concat(e," = coordsToOffset(TexCoords, ").concat(i,", ").concat(a,");\n          vec2 uv = uvFromFlat(").concat(i,", ").concat(a,", offset_").concat(e,");\n          return sampleTexture(").concat(e,", uv);\n        }\n      ");return new o.GlslLibRoutine(u,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}},{key:"getUnpackedSampler1D",value:function(t,e,n){var r=n.width,i=n.height;if(1===i&&1===r){var a="\n        float ".concat(t,"(int index) {\n          return sampleTexture(").concat(e,", halfCR);\n        }\n      ");return new o.GlslLibRoutine(a,["coordinates.sampleTexture"])}if(1===i){var s="\n          float ".concat(t,"(int index) {\n            vec2 uv = vec2((float(index) + 0.5) / ").concat(r,".0, 0.5);\n            return sampleTexture(").concat(e,", uv);\n          }\n        ");return new o.GlslLibRoutine(s,["coordinates.sampleTexture"])}if(1===r){var u="\n          float ".concat(t,"(int index) {\n            vec2 uv = vec2(0.5, (float(index) + 0.5) / ").concat(i,".0);\n            return sampleTexture(").concat(e,", uv);\n          }\n        ");return new o.GlslLibRoutine(u,["coordinates.sampleTexture"])}var c="\n        float ".concat(t,"(int index) {\n          vec2 uv = uvFromFlat(").concat(r,", ").concat(i,", index);\n          return sampleTexture(").concat(e,", uv);\n        }\n      ");return new o.GlslLibRoutine(c,["coordinates.uvFromFlat","coordinates.sampleTexture"])}},{key:"getUnpackedSampler2D",value:function(t,e,n){var i=n.unpackedShape,u=[n.height,n.width];if(null!=u&&r.ArrayUtil.arraysEqual(i,u)){var c="\n          float ".concat(t,"(int row, int col) {\n            vec2 uv = (vec2(row, col) + halfCR) / vec2(").concat(u[1],".0, ").concat(u[0],".0);\n            return sampleTexture(").concat(e,", uv);\n          }\n        ");return new o.GlslLibRoutine(c,["coordinates.sampleTexture"])}var l=(0,a.squeezeShape)(i),f=l.newShape,d=l.keptDims,p=f;if(p.length<i.length){var h=(0,s.squeezeInputShape)(i,p),g=JSON.parse(JSON.stringify(n));g.unpackedShape=h;var b="\n          ".concat(this.getUnpackedSamplerFromInput(t,e,g).routineBody,"\n          float ").concat(t,"(int row, int col) {\n            return ").concat(t,"(").concat((0,s.getSqueezedParams)(["col","row"],d),");\n          }\n        ");return new o.GlslLibRoutine(b,["coordinates.sampleTexture"])}var v=u[1],y=u[0];if(1===y){var m="\n          float ".concat(t,"(int row, int col) {\n            int offset_").concat(e," = coordsToOffset(TexCoords, ").concat(v,", ").concat(y,");\n            float index = dot(vec3(row, col, offset_").concat(e,"), vec3(").concat(i[1],", 1, 1));\n            vec2 uv = vec2(0.5, (index + 0.5) / ").concat(v,".0);\n            return sampleTexture(").concat(e,", uv);\n          }\n        ");return new o.GlslLibRoutine(m,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(1===v){var _="\n          float ".concat(t,"(int row, int col) {\n            int offset_").concat(e," = coordsToOffset(TexCoords, ").concat(v,", ").concat(y,");\n            float index = dot(vec3(row, col, offset_").concat(e,"), vec3(").concat(i[1],", 1, 1));\n            vec2 uv = vec2((index + 0.5) / ").concat(y,".0, 0.5);\n            return sampleTexture(").concat(e,", uv);\n          }\n        ");return new o.GlslLibRoutine(_,["coordinates.sampleTexture","coordinates.coordsToOffset"])}var w="\n        float ".concat(t,"(int row, int col) {\n          int index = col * ").concat(i[1]," + row;\n          vec2 uv = uvFromFlat(").concat(v,", ").concat(y,", index);\n          return sampleTexture(").concat(e,", uv);\n        }\n      ");return new o.GlslLibRoutine(w,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}},{key:"getUnpackedSampler3D",value:function(t,e,n){var r=n.unpackedShape,i=r[1]*r[2],u=r[2],c=(0,a.squeezeShape)(r),l=c.newShape,f=c.keptDims,d=l;if(d.length<r.length){var p=(0,s.squeezeInputShape)(r,d),h=JSON.parse(JSON.stringify(n));h.unpackedShape=p;var g=this.getUnpackedSamplerFromInput(t,e,h),b=f.reverse(),v="\n          ".concat(g.routineBody,"\n          float ").concat(t,"(int batch, int row, int col) {\n            return ").concat(t,"(").concat((0,s.getSqueezedParams)(["batch","col","row"],b),");\n          }\n        ");return new o.GlslLibRoutine(v,g.dependencies)}var y="\n          float ".concat(t,"(int depth, int row, int col) {\n            // Explicitly use integer operations as dot() only works on floats.\n            int index = depth * ").concat(i," + col * ").concat(u," + row;\n            vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n            return sampleTexture(").concat(e,", uv);\n          }\n      ");return new o.GlslLibRoutine(y,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}},{key:"getUnpackedSampler4D",value:function(t,e,n){var r=n.unpackedShape,i=r[3],a=r[2]*i,s="\n        float ".concat(t,"(int row, int col, int depth, int depth2) {\n          int index = row * ").concat(r[1]*a," + col * ").concat(a," +\n              depth2 * ").concat(i," + depth;\n          vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n          return sampleTexture(").concat(e,", uv);\n        }\n      ");return new o.GlslLibRoutine(s,["coordinates.uvFromFlat","coordinates.sampleTexture"])}},{key:"getUnpackedSampler5D",value:function(t,e,n){var r=n.unpackedShape,i=r[4],u=r[3]*i,c=r[2]*u,l=r[1]*c,f=(0,a.squeezeShape)(r),d=f.newShape,p=f.keptDims;if(d.length<r.length){var h=(0,s.squeezeInputShape)(r,d),g=JSON.parse(JSON.stringify(n));g.unpackedShape=h;var b="\n          ".concat(this.getUnpackedSamplerFromInput(t,e,g).routineBody,"\n          float ").concat(t,"(int row, int col, int depth, int depth2, int depth3) {\n            return ").concat(t,"(").concat((0,s.getSqueezedParams)(["row","col","depth","depth2","depth3"],p),");\n          }\n        ");return new o.GlslLibRoutine(b,["coordinates.sampleTexture","coordinates.uvFromFlat"])}var v="\n        float ".concat(t,"(int row, int col, int depth, int depth2, int depth3) {\n          int index = row * ").concat(l," + col * ").concat(c," + depth * ").concat(u," +\n          depth3 * ").concat(i," + depth2;\n          vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n          return sampleTexture(").concat(e,", uv);\n        }\n      ");return new o.GlslLibRoutine(v,["coordinates.sampleTexture","coordinates.uvFromFlat"])}},{key:"getUnpackedSampler6D",value:function(t,e,n){var r=n.unpackedShape,i=r[5],u=r[4]*i,c=r[3]*u,l=r[2]*c,f=r[1]*l,d=(0,a.squeezeShape)(r),p=d.newShape,h=d.keptDims;if(p.length<r.length){var g=(0,s.squeezeInputShape)(r,p),b=JSON.parse(JSON.stringify(n));b.unpackedShape=g;var v="\n            ".concat(this.getUnpackedSamplerFromInput(t,e,b).routineBody,"\n            float ").concat(t,"(int row, int col, int depth,\n              int depth2, int depth3, int depth4) {\n              return ").concat(t,"(").concat((0,s.getSqueezedParams)(["row","col","depth","depth2","depth3","depth4"],h),");\n            }\n          ");return new o.GlslLibRoutine(v,["coordinates.sampleTexture","coordinates.uvFromFlat"])}var y="\n          float ".concat(t,"(int row, int col, int depth,\n            int depth2, int depth3, int depth4) {\n            int index = row * ").concat(f," + col * ").concat(l," + depth * ").concat(c," +\n            depth2 * ").concat(u," + depth3 * ").concat(i," + depth4;\n            vec2 uv = uvFromFlat(").concat(n.width,", ").concat(n.height,", index);\n            return sampleTexture(").concat(e,", uv);\n          }\n        ");return new o.GlslLibRoutine(y,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}},{key:"toVec",value:function(){for(var t=this.context.outputTextureLayout,e=t.shape.length,n=t.strides,r=t.width,i=t.height,a=[],s=0;s<e-1;++s)a.push("\n        c[".concat(s,"] = offset / ").concat(n[s],";")),a.push("\n        offset -= c[".concat(s,"] * ").concat(n[s],";"));a.push("\n        c[".concat(e-1,"] = offset;"));var u="\n      void toVec(vec2 texCoords, out int c[".concat(e,"]) {\n        int offset = coordsToOffset(texCoords, ").concat(r,", ").concat(i,");\n        ").concat(a.join(""),"\n      }\n      void toVec(int offset, out int c[").concat(e,"]) {\n        ").concat(a.join(""),"\n      }\n    ");return{toVec:new o.GlslLibRoutine(u,["coordinates.coordsToOffset"])}}},{key:"valueFrom",value:function(){var t=this,e={};return this.context.programInfo.inputNames.forEach((function(n,r){var i=t.context.inputTextureLayouts[r],a=(i.unpackedShape.length>0?i.unpackedShape:i.shape).length,s="_".concat(n);e[s]=new o.GlslLibRoutine(t.getValueFromSingle(n,a,i.width,i.height,!1),["shapeUtils.indicesToOffset".concat(s),"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),e[s+="_T"]=new o.GlslLibRoutine(t.getValueFromSingle(n,a,i.width,i.height,!0),["shapeUtils.indicesToOffset".concat(s),"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])})),e}},{key:"getValueFromSingle",value:function(t,e,n,r,o){var a="_".concat(t);return o&&(a+="_T"),"\n        float ".concat(a,"(int m[").concat(e,"]) {\n          int offset = indicesToOffset").concat(a,"(m);\n          vec2 coords = offsetToCoords(offset, ").concat(n,", ").concat(r,");\n          float value = getColorAsFloat(").concat((0,i.getGlsl)(this.context.glContext.version).texture2D,"(").concat(t,", coords));\n          return value;\n        }\n        ")}},{key:"getPackedValueFrom",value:function(t,e,n,r,o){var a="_".concat(t,"_Pack");return o&&(a+="_T"),"\n        vec4 ".concat(a,"(int m[").concat(e,"]) {\n          int offset = indicesToOffset_").concat(t,"(m);\n          vec2 coords = offsetToCoords(offset, ").concat(n,", ").concat(r,");\n          return ").concat((0,i.getGlsl)(this.context.glContext.version).texture2D,"(").concat(t,", coords);\n        }\n        ")}}]),n}(o.GlslLib);e.CoordsGlslLib=u},8520:function(t,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.TopologicalSortGlslRoutines=e.GlslLibRoutineNode=e.GlslLibRoutine=e.GlslLib=e.GlslContext=e.FunctionType=void 0,(n=e.FunctionType||(e.FunctionType={}))[n.ValueBased=0]="ValueBased",n[n.Positional=1]="Positional",e.GlslContext=function(){return _createClass((function t(e,n,r,o){_classCallCheck(this,t),this.glContext=e,this.programInfo=n,this.inputTextureLayouts=r,this.outputTextureLayout=o}))}(),e.GlslLib=function(){return _createClass((function t(e){_classCallCheck(this,t),this.context=e}))}(),e.GlslLibRoutine=function(){return _createClass((function t(e,n){_classCallCheck(this,t),this.routineBody=e,this.dependencies=n}))}(),e.GlslLibRoutineNode=function(){function t(e,n,r){_classCallCheck(this,t),this.name=e,this.dependencies=r||[],n&&(this.routineBody=n)}return _createClass(t,[{key:"addDependency",value:function(t){t&&this.dependencies.push(t)}}]),t}(),e.TopologicalSortGlslRoutines=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"returnOrderedNodes",value:function(t){if(!t||0===t.length)return[];if(1===t.length)return t;var e=new Set,n=new Set,r=new Array;return this.createOrderedNodes(t,e,n,r),r}},{key:"createOrderedNodes",value:function(t,e,n,r){for(var o=0;o<t.length;++o)this.dfsTraverse(t[o],e,n,r)}},{key:"dfsTraverse",value:function(t,e,n,r){if(t&&!n.has(t.name)){if(e.has(t.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");e.add(t.name);var o=t.dependencies;if(o&&o.length>0)for(var i=0;i<o.length;++i)this.dfsTraverse(o[i],e,n,r);r.push(t),n.add(t.name),e.delete(t.name)}}}]),t}()},7341:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EncodingGlslLib=void 0;var r=n(8520),o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"getFunctions",value:function(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}},{key:"getCustomTypes",value:function(){return{}}},{key:"encodeFloat32",value:function(){return{encode:new r.GlslLibRoutine("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")}}},{key:"decodeFloat32",value:function(){return{decode:new r.GlslLibRoutine("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")}}},{key:"encodeUint8",value:function(){var t=n.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new r.GlslLibRoutine("\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        ".concat(t,"\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        "))}}},{key:"decodeUint8",value:function(){var t=n.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new r.GlslLibRoutine("\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          ".concat(t,"\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        "))}}}],[{key:"isLittleEndian",value:function(){var t=new ArrayBuffer(4),e=new Uint32Array(t),n=new Uint8Array(t);if(e[0]=3735928559,239===n[0])return!0;if(222===n[0])return!1;throw new Error("unknown endianness")}}]),n}(r.GlslLib);e.EncodingGlslLib=o},9894:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FragColorGlslLib=void 0;var r=n(8520),o=n(5060),i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"getFunctions",value:function(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}},{key:"getCustomTypes",value:function(){return{}}},{key:"setFragColor",value:function(){var t=(0,o.getGlsl)(this.context.glContext.version);return{setFragColor:new r.GlslLibRoutine("\n        void setFragColor(float value) {\n            ".concat(t.output," = encode(value);\n        }\n        "),["encoding.encode"])}}},{key:"getColorAsFloat",value:function(){return{getColorAsFloat:new r.GlslLibRoutine("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])}}}]),n}(r.GlslLib);e.FragColorGlslLib=i},2848:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.replaceInlines=void 0;var n=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;e.replaceInlines=function(t){for(var e,r={};null!==(e=n.exec(t));){var o=e[3].split(",").map((function(t){var e=t.trim().split(" ");return e&&2===e.length?{type:e[0],name:e[1]}:null})).filter((function(t){return null!==t}));r[e[2]]={params:o,body:e[4]}}for(var i in r)for(var a="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",i),s=new RegExp(a,"gm"),u=function(){var n=e[1],o=e[2],a=e[3].split(","),s=n?"".concat(n," ").concat(o,";"):"",u=r[i].body,c="";r[i].params.forEach((function(t,e){t&&(c+="".concat(t.type," ").concat(t.name," = ").concat(a[e],";\n"))})),u=(u="".concat(c,"\n ").concat(u)).replace("return","".concat(o," = "));var l="\n      ".concat(s,"\n      {\n        ").concat(u,"\n      }\n      ");t=t.replace(e[0],l)};null!==(e=s.exec(t));)u();return t.replace(n,"")}},8879:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlslPreprocessor=void 0;var r=n(8520),o=n(2848),i=n(5483),a=n(5060);e.GlslPreprocessor=function(){function t(e,n,o,a){var s=this;_classCallCheck(this,t),this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new r.GlslContext(e,n,o,a),Object.keys(i.glslRegistry).forEach((function(t){var e=new i.glslRegistry[t](s.context);s.libs[t]=e}));var u=this.glslLibRoutineDependencyGraph;for(var c in this.libs){var l=this.libs[c].getFunctions();for(var f in l){var d=c+"."+f,p=void 0;u[d]?(p=u[d]).routineBody=l[f].routineBody:(p=new r.GlslLibRoutineNode(d,l[f].routineBody),u[d]=p);var h=l[f].dependencies;if(h)for(var g=0;g<h.length;++g)if(u[h[g]])p.addDependency(u[h[g]]);else{var b=new r.GlslLibRoutineNode(h[g]);u[h[g]]=b,p.addDependency(b)}}}}return _createClass(t,[{key:"preprocess",value:function(){var t=this.context.programInfo,e=t.shaderSource;return this.context.programInfo.hasMain||(e="".concat(e,"\n      ").concat((0,a.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length))),e=(0,o.replaceInlines)(e),"".concat((0,a.getFragShaderPreamble)(this.context.glContext.version),"\n    ").concat(this.getUniforms(t.inputNames,t.variables),"\n    ").concat(this.getImports(e),"\n    ").concat(e)}},{key:"getImports",value:function(t){var e=this.selectGlslLibRoutinesToBeIncluded(t);if(0===e.length)return"";for(var n="",r=0;r<e.length;++r){if(!e[r].routineBody)throw new Error("Missing body for the Glsl Library routine: ".concat(e[r].name));n+=e[r].routineBody+"\n"}return n}},{key:"selectGlslLibRoutinesToBeIncluded",value:function(t){var e=this,n=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach((function(r){var o=r.split(".")[1];-1!==t.indexOf(o)&&n.push(e.glslLibRoutineDependencyGraph[r])})),r.TopologicalSortGlslRoutines.returnOrderedNodes(n)}},{key:"getUniforms",value:function(t,e){var n=[];if(t){var r,o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;n.push("uniform sampler2D ".concat(i,";"))}}catch(c){o.e(c)}finally{o.f()}}if(e){var a,s=_createForOfIteratorHelper(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;n.push("uniform ".concat(u.type," ").concat(u.name).concat(u.arrayLength?"[".concat(u.arrayLength,"]"):"",";"))}}catch(c){s.e(c)}finally{s.f()}}return n.join("\n")}}]),t}()},5483:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.glslRegistry=void 0;var r=n(5107),o=n(7341),i=n(9894),a=n(2655),s=n(3891);e.glslRegistry={encoding:o.EncodingGlslLib,fragcolor:i.FragColorGlslLib,vec:s.VecGlslLib,shapeUtils:a.ShapeUtilsGlslLib,coordinates:r.CoordsGlslLib}},2655:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeUtilsGlslLib=void 0;var r=n(8520),o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"getFunctions",value:function(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}},{key:"getCustomTypes",value:function(){return{}}},{key:"bcastIndex",value:function(){var t=this,e=this.context.outputTextureLayout.shape.length,n={};return this.context.programInfo.inputNames.forEach((function(o,i){var a=t.context.inputTextureLayouts[i].unpackedShape;if(a.length<=e){for(var s=a.length,u=e-s,c="bcastIndices_".concat(o),l="",f=0;f<s;++f)l+="\n          realIndices[".concat(f,"] = int( mod(float(bcastedIndices[").concat(u+f,"]), ").concat(a[f],".0) );\n          ");var d="\n        void ".concat(c," (int bcastedIndices[").concat(e,"], out int realIndices[").concat(s,"]) {\n          ").concat(l,"\n        }\n        ");n[c]=new r.GlslLibRoutine(d)}})),n}},{key:"bcastMatmulIndex",value:function(){var t=this,e=this.context.outputTextureLayout.shape.length,n={};return this.context.programInfo.inputNames.forEach((function(o,i){var a=t.context.inputTextureLayouts[i].shape;if(!(a.length<2||a.length>e)){for(var s=a.length,u=e-s,c="bcastMatmulIndices_".concat(o),l="",f=0;f<s-2;++f)l+="\n          realIndices[".concat(f,"] = int( mod(float(bcastedIndices[").concat(u+f,"]), ").concat(a[f],".0) );\n          ");var d="\n        void ".concat(c,"(int bcastedIndices[").concat(e,"], out int realIndices[").concat(s,"]) {\n          ").concat(l,"\n          realIndices[").concat(s-1,"] = bcastedIndices[").concat(e-1,"];\n          realIndices[").concat(s-2,"] = bcastedIndices[").concat(e-2,"];\n        }\n        ");n[c]=new r.GlslLibRoutine(d)}})),n}},{key:"indicesToOffset",value:function(){var t=this,e={};return this.context.programInfo.inputNames.forEach((function(o,i){var a=t.context.inputTextureLayouts[i].shape,s=t.context.inputTextureLayouts[i].strides,u=a.length,c="indicesToOffset_".concat(o);e[c]=new r.GlslLibRoutine(n.indexToOffsetSingle(c,u,s)),c="indicesToOffset_".concat(o,"_T"),e[c]=new r.GlslLibRoutine(n.indexToOffsetSingle(c,u,s.slice().reverse()))})),e}},{key:"offsetToIndices",value:function(){var t=this,e={};return this.context.programInfo.inputNames.forEach((function(o,i){var a=t.context.inputTextureLayouts[i].shape,s=t.context.inputTextureLayouts[i].strides,u=a.length,c="offsetToIndices_".concat(o);e[c]=new r.GlslLibRoutine(n.offsetToIndicesSingle(c,u,s)),c="offsetToIndices_".concat(o,"_T"),e[c]=new r.GlslLibRoutine(n.offsetToIndicesSingle(c,u,s.slice().reverse()))})),e}},{key:"incrementIndices",value:function(){var t=this,e={};return this.context.programInfo.inputNames.forEach((function(n,o){for(var i=t.context.inputTextureLayouts[o].shape,a=i.length,s="incrementIndices_".concat(n),u="",c=0;c<a;++c)u+="\n        shape[".concat(c,"] = ").concat(i[c],";");var l="\n        void ".concat(s,"(int axis, out int indices[").concat(a,"]) {\n          int shape[").concat(a,"];\n          ").concat(u,";\n          for(int i = ").concat(a," -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        ");e[s]=new r.GlslLibRoutine(l)})),e}}],[{key:"indexToOffsetSingle",value:function(t,e,n){for(var r="",o=e-1;o>=0;--o)r+="\n        offset += indices[".concat(o,"] * ").concat(n[o],";\n        ");return"\n      int ".concat(t,"(int indices[").concat(e,"]) {\n        int offset = 0;\n        ").concat(r,"\n        return offset;\n      }\n      ")}},{key:"offsetToIndicesSingle",value:function(t,e,n){for(var r=[],o=0;o<e-1;++o)r.push("\n      indices[".concat(o,"] = offset / ").concat(n[o],";")),r.push("\n        offset -= indices[".concat(o,"] * ").concat(n[o],";"));return r.push("\n      indices[".concat(e-1,"] = offset;")),"\n      void ".concat(t,"(int offset, out int indices[").concat(e,"]) {\n        ").concat(r.join(""),"\n      }\n      ")}}]),n}(r.GlslLib);e.ShapeUtilsGlslLib=o},5060:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultFragShaderMain=e.getFragShaderPreamble=e.getVertexShaderSource=e.getGlsl=void 0;var n={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},r={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function o(t){return 1===t?n:r}e.getGlsl=o,e.getVertexShaderSource=function(t){var e=o(t);return"".concat(e.version,"\n      precision highp float;\n      ").concat(e.attribute," vec3 position;\n      ").concat(e.attribute," vec2 textureCoord;\n\n      ").concat(e.varyingVertex," vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }")},e.getFragShaderPreamble=function(t){var e=o(t);return"".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFrag," vec2 TexCoords;\n    ").concat(e.outputDeclaration,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    // Custom vector types to handle higher dimenalities.\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    ")},e.getDefaultFragShaderMain=function(t,e){return"\n  void main() {\n    int indices[".concat(e,"];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    ").concat(o(t).output," = result;\n  }\n  ")}},3891:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VecGlslLib=void 0;var r=n(8520),o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"getCustomTypes",value:function(){return{}}},{key:"getFunctions",value:function(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}},{key:"binaryVecFunctions",value:function(){var t=this.context.outputTextureLayout.shape.length,e={add:"+=",sub:"-=",mul:"*=",div:"/="},n={};for(var o in e){for(var i="".concat(o,"Vec"),a="",s=0;s<t;++s)a+="\n          dest[".concat(s,"] ").concat(e[o]," src[").concat(s,"];\n          ");var u="\n        void ".concat(i,"(int src[").concat(t,"], out int dest[").concat(t,"]) {\n          ").concat(a,"\n        }\n        ");n[i]=new r.GlslLibRoutine(u)}return n}},{key:"copyVec",value:function(){for(var t=this.context.outputTextureLayout.shape.length,e="",n=0;n<t;++n)e+="\n        dest[".concat(n,"] = src[").concat(n,"];\n        ");var o="\n      void copyVec(int src[".concat(t,"], out int dest[").concat(t,"]) {\n        ").concat(e,"\n      }\n      ");return{copyVec:new r.GlslLibRoutine(o)}}},{key:"setVecItem",value:function(){for(var t=this.context.outputTextureLayout.shape.length,e="\n        if(index < 0)\n            index =".concat(t," + index;\n        if (index == 0)\n            m[0] = value;\n        "),n=1;n<t-1;++n)e+="\n        else if (index == ".concat(n,")\n            m[").concat(n,"] = value;\n            ");e+="\n        else\n            m[".concat(t-1,"] = value;\n        ");var o="\n      void setVecItem(out int m[".concat(t,"], int index, int value) {\n        ").concat(e,"\n      }\n        ");return{setVecItem:new r.GlslLibRoutine(o)}}},{key:"getVecItem",value:function(){for(var t=this.context.outputTextureLayout.shape.length,e="\n        if(index < 0)\n            index = ".concat(t," + index;\n        if (index == 0)\n            return m[0];\n      "),n=1;n<t-1;++n)e+="\n        else if (index == ".concat(n,")\n            return m[").concat(n,"];\n      ");e+="\n        else\n            return m[".concat(t-1,"];\n        ");var o="\n      int getVecItem(int m[".concat(t,"], int index) {\n        ").concat(e,"\n      }\n    ");return{getVecItem:new r.GlslLibRoutine(o)}}}]),n}(r.GlslLib);e.VecGlslLib=o},8316:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLInferenceHandler=void 0;var r=n(6231),o=n(9162),i=n(2517),a=n(2403),s=n(7019),u=n(8710),c=n(5611),l=n(4057),f=n(2039);e.WebGLInferenceHandler=function(){function t(e){_classCallCheck(this,t),this.session=e,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}return _createClass(t,[{key:"calculateTextureWidthAndHeight",value:function(t,e){return(0,l.calculateTextureWidthAndHeight)(this.session.layoutStrategy,t,e)}},{key:"executeProgram",value:function(t,e){if(e.length<t.inputNames.length)throw new Error("Input size mustn't be less than ".concat(t.inputNames.length,"."));if(t.inputNames.length!==t.inputTypes.length)throw new Error("input names size does not match input types");for(var n=[],r=0;r<t.inputNames.length;++r)n[r]=this.getOrCreateTextureData(e[r],t.inputTypes[r]);var o=function(t,e){var n=e.map((function(t){return"".concat(t.unpackedShape.join(","),";").concat(t.width,"x").concat(t.height)})).join("_"),r=t.name;return t.cacheHint&&(r+="["+t.cacheHint+"]"),r+=":"+n}(t,n),i=this.session.programManager.getArtifact(o),a=i?i.programInfo:"function"==typeof t.get?t.get():t,s=(0,l.createTextureLayoutFromTextureType)(this.session.layoutStrategy,a.output.dims,a.output.textureType),u=this.createTextureData(s,a.output.type);return i||(i=this.session.programManager.build(a,n,u),this.session.programManager.setArtifact(o,i)),this.runProgram(i,n,u),u}},{key:"run",value:function(t,e){return this.executeProgram(t,e).tensor}},{key:"runProgram",value:function(t,e,n){for(var r=0;r<e.length;++r)if(!!e[r].isPacked!=(t.programInfo.inputTypes[r]===f.TextureType.packed))throw new Error("input[".concat(r,"] property packed inconsistent"));if(!!n.isPacked!=(t.programInfo.output.textureType===f.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(t,e,n)}},{key:"getOrCreateTextureData",value:function(t,e){var n=this.getTextureData(t.dataId,e===f.TextureType.packed);if(!n&&(n=this.getTextureData(t.dataId,e!==f.TextureType.packed)))return e===f.TextureType.packed?this.pack(n):this.unpack(n);if(!n){var r=(0,l.createTextureLayoutFromTextureType)(this.session.layoutStrategy,t.dims,e);if(e===f.TextureType.packedLastDimension){var o=t.dims;if(4===o.length){var i=[o[0],Math.ceil(o[1]*o[2]*o[3]/4)],a=(0,l.createTextureLayoutFromTextureType)(this.session.layoutStrategy,i,e),s=t.numberData;if(o[1]*o[2]*o[3]%4!=0){var u=o[0],c=o[1]*o[2]*o[3],d=4*Math.ceil(1*c/4);s=new Float32Array(u*d);for(var p=0;p<u;++p){var h=p*c,g=p*d+p%1*c;s.set(t.numberData.subarray(h,h+c),g)}}return this.createTextureData(a,t.type,s,t,1)}}if(e===f.TextureType.packed){var b=(0,l.createTextureLayoutFromShape)(this.session.layoutStrategy,t.dims,1,[],{reverseWH:!0}),v=this.createTextureData(b,t.type,t.numberData,t,1);n=this.pack(v)}else n=this.createTextureData(r,t.type,t.numberData,t,1)}return n}},{key:"createTextureDataFromLayoutBindTensor",value:function(t,e,n,r){return this.createTextureData(t,e,n,r,1)}},{key:"createTextureData",value:function(t,e,n,o,i){r.Logger.verbose("InferenceHandler","Creating TextureData: layout:[".concat(JSON.stringify(t),"]"));var a=this.session.textureManager.createTextureFromLayout(e,t,n,i);return this.createTextureDataFromTexture(t,e,a,o)}},{key:"reshapeUnpacked",value:function(t,e){var n=this.getOrCreateTextureData(t,f.TextureType.unpacked),r={channels:n.channels,height:n.height,width:n.width,shape:0!==e.length?e:[1],strides:i.ShapeUtil.computeStrides(e),unpackedShape:e};return this.createTextureDataFromTexture(r,t.type,n.texture).tensor}},{key:"reshapePacked",value:function(t,e){var n=this.getOrCreateTextureData(t,f.TextureType.packed);if((0,s.isReshapeCheap)(t.dims,e)){var r={channels:n.channels,height:n.height,width:n.width,shape:0!==e.length?e:[1],strides:i.ShapeUtil.computeStrides(e),unpackedShape:e,isPacked:!0};return this.createTextureDataFromTexture(r,t.type,n.texture).tensor}var o=(0,s.processDims3D)(t.dims),a=(0,s.processDims3D)(e),u=this.reshapePacked(t,o),c=this.run((0,s.createPackedReshape3DProgramInfoLoader)(this,u,a),[u]);return this.reshapePacked(c,e)}},{key:"cast",value:function(t,e){var n=this.getOrCreateTextureData(t,f.TextureType.unpacked);return this.createTextureDataFromTexture(n,e,n.texture).tensor}},{key:"createTextureDataFromTexture",value:function(t,e,n,r,i){var a=this,s=Object.assign(Object.assign({},t),{tensor:r||new o.Tensor(t.unpackedShape,e,(function(t){return a.readTexture(s)}),function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a.readTextureAsync(s));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),void 0,i),texture:n});return this.setTextureData(s.tensor.dataId,s,t.isPacked),s}},{key:"getTextureData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.session.isInitializer(t)?this.session.getTextureData(t,e):e?this.packedTextureDataCache.get(t):this.unpackedTextureDataCache.get(t)}},{key:"setTextureData",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.session.isInitializer(t)?this.session.setTextureData(t,e,n):(n?this.packedTextureDataCache:this.unpackedTextureDataCache).set(t,e)}},{key:"isTextureLayoutCached",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!this.getTextureData(t.dataId,e)}},{key:"dispose",value:function(){var t=this;this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((function(e){return t.session.textureManager.releaseTexture(e)})),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((function(e){return t.session.textureManager.releaseTexture(e)})),this.unpackedTextureDataCache=new Map}},{key:"readTexture",value:function(t){return t.isPacked?this.readTexture(this.unpack(t)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(t,t.tensor.type,t.channels):this.session.textureManager.readUint8TextureAsFloat((0,u.encodeAsUint8)(this,t))}},{key:"readTextureAsync",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.isPacked?this.readTextureAsync(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,u.encodeAsUint8)(this,e)));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"pack",value:function(t){return this.executeProgram((0,a.createPackProgramInfoLoader)(this,t.tensor),[t.tensor])}},{key:"unpack",value:function(t){return this.executeProgram((0,c.createUnpackProgramInfoLoader)(this,t.tensor),[t.tensor])}}]),t}()},1640:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.WEBGL_OP_RESOLVE_RULES=void 0;var a=n(2898),s=i(n(7839)),u=n(4196),c=n(2069),l=n(8138),f=n(9663),d=n(5193),p=n(7992),h=n(1253),g=n(4776),b=n(6572),v=n(3346),y=n(5623),m=n(2870),_=n(2143),w=n(4939),x=n(718),T=n(2268),k=n(8117),S=n(2278),O=n(5524),A=n(5975),E=n(3933),I=n(6558),P=n(5723),D=n(3738),C=i(n(4909)),R=n(8428),N=n(9793);e.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",C.abs],["Acos","","7+",C.acos],["Add","","7+",s.add],["And","","7+",s.and],["Asin","","7+",C.asin],["Atan","","7+",C.atan],["AveragePool","","7+",_.averagePool,_.parseAveragePoolAttributes],["BatchNormalization","","7+",a.batchNormalization,a.parseBatchNormalizationAttributes],["Cast","","6+",u.cast,u.parseCastAttributes],["Ceil","","6+",C.ceil],["Clip","","6-10",C.clip,C.parseClipAttributes],["Clip","","11+",C.clipV11],["Concat","","4+",c.concat,c.parseConcatAttributes],["Conv","","1+",l.conv,l.parseConvAttributes],["ConvTranspose","","1+",f.convTranspose,f.parseConvTransposeAttributes],["Cos","","7+",C.cos],["Div","","7+",s.div],["Dropout","","7+",C.identity],["DepthToSpace","","1+",d.depthToSpace,d.parseDepthToSpaceAttributes],["Equal","","7+",s.equal],["Elu","","6+",C.elu,C.parseEluAttributes],["Exp","","6+",C.exp],["Flatten","","1+",p.flatten,p.parseFlattenAttributes],["Floor","","6+",C.floor],["FusedConv","com.microsoft","1+",l.conv,l.parseConvAttributes],["Gather","","1+",h.gather,h.parseGatherAttributes],["Gemm","","7-10",g.gemm,g.parseGemmAttributesV7],["Gemm","","11+",g.gemm,g.parseGemmAttributesV11],["GlobalAveragePool","","1+",_.globalAveragePool,_.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",_.globalMaxPool],["Greater","","7+",s.greater],["Identity","","1+",C.identity],["ImageScaler","","1+",b.imageScaler,b.parseImageScalerAttributes],["InstanceNormalization","","6+",v.instanceNormalization,v.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",C.leakyRelu,C.parseLeakyReluAttributes],["Less","","7+",s.less],["Log","","6+",C.log],["MatMul","","1+",y.matMul,y.parseMatMulAttributes],["MaxPool","","1+",_.maxPool,_.parseMaxPoolAttributes],["Mul","","7+",s.mul],["Neg","","6+",C.neg],["Not","","1+",C.not],["Or","","7+",s.or],["Pad","","2-10",m.padV2,m.parsePadAttributesV2],["Pad","","11+",m.padV11,m.parsePadAttributesV11],["Pow","","7+",s.pow],["PRelu","","7+",s.pRelu],["ReduceLogSum","","1+",w.reduceLogSum,w.parseReduceAttributes],["ReduceMax","","1+",w.reduceMax,w.parseReduceAttributes],["ReduceMean","","1+",w.reduceMean,w.parseReduceAttributes],["ReduceMin","","1+",w.reduceMin,w.parseReduceAttributes],["ReduceProd","","1+",w.reduceProd,w.parseReduceAttributes],["ReduceSum","","1-12",w.reduceSum,w.parseReduceAttributes],["ReduceSumSquare","","1+",w.reduceLogSumSquare,w.parseReduceAttributes],["Relu","","6+",C.relu],["Reshape","","5+",x.reshape],["Resize","","10",T.resize,T.parseResizeAttributesV10],["Resize","","11+",T.resize,T.parseResizeAttributesV11],["Shape","","1+",k.shape],["Sigmoid","","6+",C.sigmoid],["Sin","","7+",C.sin],["Slice","","10+",S.sliceV10],["Slice","","1-9",S.slice,S.parseSliceAttributes],["Softmax","","1-12",O.softmax,O.parseSoftmaxAttributes],["Softmax","","13+",O.softmaxV13,O.parseSoftmaxAttributesV13],["Split","","2-12",A.split,A.parseSplitAttributes],["Sqrt","","6+",C.sqrt],["Squeeze","","1-12",E.squeeze,E.parseSqueezeAttributes],["Squeeze","","13+",E.squeezeV13],["Sub","","7+",s.sub],["Sum","","6+",I.sum],["Tan","","7+",C.tan],["Tanh","","6+",C.tanh],["Tile","","6+",P.tile],["Transpose","","1+",D.transpose,D.parseTransposeAttributes],["Upsample","","7-8",N.upsample,N.parseUpsampleAttributesV7],["Upsample","","9",N.upsample,N.parseUpsampleAttributesV9],["Unsqueeze","","1-12",R.unsqueeze,R.parseUnsqueezeAttributes],["Unsqueeze","","13+",R.unsqueezeV13],["Xor","","7+",s.xor]]},2898:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseBatchNormalizationAttributes=e.batchNormalization=void 0;var r=n(246),o=n(5060),i=n(2039),a={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]};e.batchNormalization=function(t,e,n){return u(e),[t.run(Object.assign(Object.assign({},a),{cacheHint:n.cacheKey,get:function(){return s(t,e,n)}}),e)]},e.parseBatchNormalizationAttributes=function(t){var e=t.attributes.getFloat("epsilon",1e-5),n=t.attributes.getFloat("momentum",.9),o=t.attributes.getInt("spatial",1);return(0,r.createAttributeWithCacheKey)({epsilon:e,momentum:n,spatial:o})};var s=function(t,e,n){var r=(0,o.getGlsl)(t.session.backend.glContext.version),s=e[0].dims.length,u=t.calculateTextureWidthAndHeight(e[1].dims,i.TextureType.unpacked),c=_slicedToArray(u,2),l=c[0],f=c[1],d="\n  float process(int[".concat(s,"] indices) {\n    vec2 position = offsetToCoords(indices[1], ").concat(l,", ").concat(f,");\n    float scale = getColorAsFloat(").concat(r.texture2D,"(Scale, position));\n    float mean = getColorAsFloat(").concat(r.texture2D,"(Mean, position));\n    float variance = getColorAsFloat(").concat(r.texture2D,"(Variance, position));\n    float b = getColorAsFloat(").concat(r.texture2D,"(B, position));\n\n    return scale * ( (_A(indices) - mean) / sqrt(variance + float(").concat(n.epsilon,")) ) + b;\n  }");return Object.assign(Object.assign({},a),{output:{dims:e[0].dims,type:e[0].type,textureType:i.TextureType.unpacked},shaderSource:d})},u=function(t){if(!t||5!==t.length)throw new Error("BatchNormalization requires 5 inputs.");var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4];if(e.dims.length<3||1!==n.dims.length||1!==r.dims.length||1!==o.dims.length||1!==i.dims.length)throw new Error("invalid input shape.");if(n.dims[0]!==e.dims[1]||r.dims[0]!==e.dims[1]||o.dims[0]!==e.dims[1]||i.dims[0]!==e.dims[1])throw new Error("invalid input shape.");if("float32"!==e.type&&"float64"!==e.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type||"float32"!==o.type&&"float64"!==o.type||"float32"!==i.type&&"float64"!==i.type)throw new Error("invalid input tensor types.")}},7839:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.xor=e.sub=e.pRelu=e.pow=e.or=e.mul=e.less=e.greater=e.equal=e.div=e.and=e.add=e.glslPRelu=e.glslPow=e.glslXor=e.glslOr=e.glslAnd=e.glslLess=e.glslGreater=e.glslEqual=e.glslSub=e.glslMul=e.glslDiv=e.glslAdd=void 0;var r=n(2517),o=n(8520),i=n(5060),a=n(2039);function s(){var t="add_";return{body:"\n  float ".concat(t,"(float a, float b) {\n    return a + b;\n  }\n  vec4 ").concat(t,"(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  "),name:t,type:o.FunctionType.ValueBased}}function u(){var t="div_";return{body:"\n  float ".concat(t,"(float a, float b) {\n    return a / b;\n  }\n  vec4 ").concat(t,"(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  "),name:t,type:o.FunctionType.ValueBased}}function c(){var t="mul_";return{body:"\n  float ".concat(t,"(float a, float b) {\n    return a * b;\n  }\n  vec4 ").concat(t,"(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  "),name:t,type:o.FunctionType.ValueBased}}function l(){var t="sub_";return{body:"\n  float ".concat(t,"(float a, float b) {\n    return a - b;\n  }\n  vec4 ").concat(t,"(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  "),name:t,type:o.FunctionType.ValueBased}}function f(){var t="equal_";return{body:"\n  float ".concat(t,"(float a, float b) {\n    return float(a == b);\n  }\n  vec4 ").concat(t,"(vec4 v1, vec4 v2) {\n    return vec4(equal(v1, v2));\n  }\n  "),name:t,type:o.FunctionType.ValueBased}}function d(){var t="greater_";return{body:"\n  float ".concat(t,"(float a, float b) {\n    return float(a > b);\n  }\n  vec4 ").concat(t,"(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  "),name:t,type:o.FunctionType.ValueBased}}function p(){var t="less_";return{body:"\n  float ".concat(t,"(float a, float b) {\n    return float(a < b);\n  }\n  vec4 ").concat(t,"(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  "),name:t,type:o.FunctionType.ValueBased}}function h(){var t="and_";return{body:"\n  float ".concat(t,"(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 ").concat(t,"(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  "),name:t,type:o.FunctionType.ValueBased}}function g(){var t="or_";return{body:"\n  float ".concat(t,"(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 ").concat(t,"(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  "),name:t,type:o.FunctionType.ValueBased}}function b(){var t="xor_";return{body:"\n  float ".concat(t,"(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 ").concat(t,"(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  "),name:t,type:o.FunctionType.ValueBased}}function v(){return function(t){var e="".concat(t,"_");return{body:"\n  float ".concat(e,"(float a, float b) {\n    return ").concat(t,"(a, b);\n  }\n  vec4 ").concat(e,"(vec4 v1, vec4 v2) {\n    return ").concat(t,"(v1, v2);\n  }\n  "),name:e,type:o.FunctionType.ValueBased}}("pow")}function y(){var t="prelu_";return{body:"\n  float ".concat(t,"(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 ").concat(t,"(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  "),name:t,type:o.FunctionType.ValueBased}}e.glslAdd=s,e.glslDiv=u,e.glslMul=c,e.glslSub=l,e.glslEqual=f,e.glslGreater=d,e.glslLess=p,e.glslAnd=h,e.glslOr=g,e.glslXor=b,e.glslPow=v,e.glslPRelu=y;var m=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e[0].type,o=arguments.length>4?arguments[4]:void 0,i=t.session.pack?a.TextureType.packed:a.TextureType.unpacked;return{name:n.name,inputNames:["A","B"],inputTypes:[i,i],cacheHint:o,get:function(){return _(t,e,n,r)}}},_=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e[0].type,s=t.session.pack?a.TextureType.packed:a.TextureType.unpacked,u=!r.ShapeUtil.areEqual(e[0].dims,e[1].dims),c=e[0].dims,l=t.session.pack;if(u){var f=r.BroadcastUtil.calcShape(e[0].dims,e[1].dims,!1);if(!f)throw new Error("Can't perform binary op on the given tensors");var d=(c=f).length,p=0!==e[0].dims.length?e[0].dims.length:1,h=0!==e[1].dims.length?e[1].dims.length:1,g=0!==e[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",b=0!==e[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",v=(0,i.getGlsl)(t.session.backend.glContext.version),y=l?"\n      ".concat(n.body,"\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n        vec4 result = ").concat(n.name,"(a, b);\n        ").concat(v.output," = result;\n      }"):"\n      ".concat(n.body,"\n      float process(int indices[").concat(d,"]) {\n        int aindices[").concat(p,"];\n        int bindices[").concat(h,"];\n        ").concat(g,"\n        ").concat(b,"\n        return ").concat(n.name,"(_A(aindices), _B(bindices));\n      }");return{name:n.name,inputNames:["A","B"],inputTypes:[s,s],output:{dims:c,type:o,textureType:s},shaderSource:y,hasMain:l}}var m=(0,i.getGlsl)(t.session.backend.glContext.version),_="\n    ".concat(n.body,"\n    void main() {\n      vec4 v1 = ").concat(m.texture2D,"(A, TexCoords);\n      vec4 v2 = ").concat(m.texture2D,"(B, TexCoords);\n      vec4 result = ").concat(n.name,"(v1, v2);\n      ").concat(m.output," = result;\n    }\n    ");return{name:n.name,inputNames:["A","B"],inputTypes:[s,s],output:{dims:e[0].dims,type:o,textureType:s},shaderSource:_,hasMain:!0}};e.add=function(t,e){return[t.run(m(t,e,s()),e)]},e.and=function(t,e){return[t.run(m(t,e,h(),"bool"),e)]},e.div=function(t,e){return[t.run(m(t,e,u()),e)]},e.equal=function(t,e){return[t.run(m(t,e,f(),"bool"),e)]},e.greater=function(t,e){return[t.run(m(t,e,d(),"bool"),e)]},e.less=function(t,e){return[t.run(m(t,e,p(),"bool"),e)]},e.mul=function(t,e){return[t.run(m(t,e,c()),e)]},e.or=function(t,e){return[t.run(m(t,e,g(),"bool"),e)]},e.pow=function(t,e){return[t.run(m(t,e,v()),e)]},e.pRelu=function(t,e){return[t.run(m(t,e,y()),e)]},e.sub=function(t,e){return[t.run(m(t,e,l()),e)]},e.xor=function(t,e){return[t.run(m(t,e,b(),"bool"),e)]}},4196:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseCastAttributes=e.cast=void 0;var r=n(2517);e.cast=function(t,e,n){return o(e),[t.cast(e[0],n)]},e.parseCastAttributes=function(t){return r.ProtoUtil.tensorDataTypeFromProto(t.attributes.getInt("to"))};var o=function(t){if(!t||1!==t.length)throw new Error("Cast requires 1 input.");if("string"===t[0].type)throw new Error("Invalid input type.")}},1163:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createPackedConcatProgramInfoLoader=void 0;var r=n(5060),o=n(2039),i=n(9390),a=n(2827);e.createPackedConcatProgramInfoLoader=function(t,e,n){var u,c,l=(u=e.length,c=n.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:u},(function(t,e){return"X".concat(e)})),inputTypes:Array(u).fill(o.TextureType.packed),cacheHint:c});return Object.assign(Object.assign({},l),{get:function(){return function(t,e,n,u){var c=n[0].dims.slice();if(u>=c.length||u<-1*c.length)throw new Error("axis specified for concat doesn't match input dimensionality");u<0&&(u=c.length+u);for(var l=c.slice(0),f=1;f<n.length;f++)for(var d=n[f].dims.slice(),p=0;p<c.length;p++)if(p===u)l[u]+=d[p];else if(c[p]!==d[p])throw new Error("non concat dimensions must match");var h=l.length,g=(0,a.getChannels)("coords",h),b=(0,i.getCoordsDataType)(h),v=(0,a.unpackFromChannel)(),y=n.map((function(t){return t.dims})),m=(0,i.getGlChannels)(h),_=new Array(y.length-1);_[0]=y[0][u];for(var w=1;w<_.length;w++)_[w]=_[w-1]+y[w][u];for(var x=m[u],T=m.slice(-2),k=m.join(),S="if (".concat(x," < ").concat(_[0],") {\n        return getChannel(\n            getX0(").concat(k,"), vec2(").concat(T.join(),"));\n        }"),O=1;O<_.length;O++){var A=_[O-1];S+="\n            if (".concat(x," < ").concat(_[O],"  && ").concat(x," >= ").concat(_[O-1],") {\n              return getChannel(\n                getX").concat(O,"(").concat(s(m,x,A),"),\n                vec2(").concat(s(T,x,A),"));\n            }")}var E=_.length,I=_[_.length-1];S+="\n            return getChannel(\n              getX".concat(E,"(").concat(s(m,x,I),"),\n              vec2(").concat(s(T,x,I),"));");var P=(0,r.getGlsl)(t.session.backend.glContext.version),D="\n          ".concat(v,"\n          float getValue(").concat(m.map((function(t){return"int "+t})),") {\n            ").concat(S,"\n          }\n\n          void main() {\n            ").concat(b," coords = getOutputCoords();\n            int lastDim = coords.").concat(m[h-1],";\n            coords.").concat(m[h-1]," = coords.").concat(m[h-2],";\n            coords.").concat(m[h-2]," = lastDim;\n\n            vec4 result = vec4(getValue(").concat(g,"), 0., 0., 0.);\n\n            ").concat(g[h-1]," = ").concat(g[h-1]," + 1;\n            if (").concat(g[h-1]," < ").concat(l[h-1],") {\n              result.g = getValue(").concat(g,");\n            }\n\n            ").concat(g[h-2]," = ").concat(g[h-2]," + 1;\n            if (").concat(g[h-2]," < ").concat(l[h-2],") {\n              result.a = getValue(").concat(g,");\n            }\n\n            ").concat(g[h-1]," = ").concat(g[h-1]," - 1;\n            if (").concat(g[h-2]," < ").concat(l[h-2]," &&\n                ").concat(g[h-1]," < ").concat(l[h-1],") {\n              result.b = getValue(").concat(g,");\n            }\n            ").concat(P.output," = result;\n          }\n        ");return Object.assign(Object.assign({},e),{output:{dims:l,type:n[0].type,textureType:o.TextureType.packed},shaderSource:D,hasMain:!0})}(t,l,e,n.axis)}})};var s=function(t,e,n){var r=t.indexOf(e);return t.map((function(t,e){return e===r?"".concat(t," - ").concat(n):t})).join()}},2069:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseConcatAttributes=e.concat=void 0;var r=n(246),o=n(2039),i=n(1163);e.concat=function(t,e,n){return f(e),t.session.pack&&e[0].dims.length>1?[t.run((0,i.createPackedConcatProgramInfoLoader)(t,e,n),e)]:[t.run(a(t,e,n),e)]};var a=function(t,e,n){var r,i,a=(r=e.length,i=n.cacheKey,{name:"Concat",inputNames:Array.from({length:r},(function(t,e){return"X".concat(e)})),inputTypes:Array(r).fill(o.TextureType.unpacked),cacheHint:i});return Object.assign(Object.assign({},a),{get:function(){return function(t,e,n,r){var i,a=n[0].dims.slice();if(r>=a.length||r<-1*a.length)throw new Error("axis specified for concat doesn't match input dimensionality");r<0&&(r=a.length+r);for(var f=a.slice(0),d=1;d<n.length;d++)for(var p=n[d].dims.slice(),h=0;h<a.length;h++)if(h===r)f[r]+=p[h];else if(a[h]!==p[h])throw new Error("non concat dimensions must match");for(var g=f.length,b=new Array(n.length),v=0,y=0;y<b.length;++y)v+=n[y].dims[r],b[y]=v;i=n.length<5?s(b):u(b);var m="\n        ".concat(c(n.length,g),"\n        ").concat(l(b),"\n        ").concat(i,"\n        float process(int indices[").concat(g,"]) {\n          int textureIndex = getTextureWhereDataResides (indices[").concat(r,"]);\n\n          if(textureIndex != 0) {\n            indices[").concat(r,"] = indices[").concat(r,"] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));\n          }\n\n          return fetchDataFromCorrectTexture(textureIndex, indices);\n        }");return Object.assign(Object.assign({},e),{output:{dims:f,type:n[0].type,textureType:o.TextureType.unpacked},shaderSource:m})}(0,a,e,n.axis)}})},s=function(t){return"int getTextureWhereDataResides(int index) {\n      ".concat(t.map((function(t,e){return"if(index<".concat(t,") {return ").concat(e,";}\n")})).join(""),"\n    }")},u=function(t){return s(t)},c=function(t,e){for(var n=["float fetchDataFromCorrectTexture(int textureIndex, int indices[".concat(e,"]) {")],r=0;r<t;++r)0===r?n.push("\tif (textureIndex == ".concat(r,") { return _X").concat(r,"(indices); }")):r===t-1?n.push("\telse { return _X".concat(r,"(indices); }")):n.push("\telse if (textureIndex == ".concat(r,") { return _X").concat(r,"(indices); }"));return n.push("\t}"),n.join("\n")},l=function(t){for(var e=["int getSizeInConcatAxisValueFromIndex(int index) {"],n=0;n<t.length;++n)0===n?e.push("\tif (index == ".concat(n,") { return ").concat(t[n],"; }")):n===t.length-1?e.push("\telse { return ".concat(t[n],"; }")):e.push("\telse if (index == ".concat(n,") { return ").concat(t[n],"; }"));return e.push("\t}"),e.join("\n")};e.parseConcatAttributes=function(t){return(0,r.createAttributeWithCacheKey)({axis:t.attributes.getInt("axis")})};var f=function(t){if(!t||t.length<1)throw new Error("too few inputs");var e=t[0].type,n=t[0].dims.length;if("string"===e)throw new Error("string tensor is not supported yet");var r,o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.type!==e)throw new Error("input tensors should be one type");if(i.dims.length!==n)throw new Error("input tensors should have the same shape")}}catch(a){o.e(a)}finally{o.f()}}},4770:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createUnpackedGroupedConvProgramInfoLoader=void 0;var r=n(6231),o=n(5060),i=n(2039),a=n(8138),s=n(2823);e.createUnpackedGroupedConvProgramInfoLoader=function(t,e,n){var u,c,l=(u=e.length>2,c=n.cacheKey,{name:"GroupedConv",inputNames:u?["X","W","Bias"]:["X","W"],inputTypes:u?[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.unpacked],cacheHint:c});return Object.assign(Object.assign({},l),{get:function(){return function(t,e,n,u){var c=e.length>2?"value += getBias(output_channel);":"",l=e[0].dims.slice(),f=e[1].dims.slice(),d=f[0]/u.group;r.Logger.verbose("GroupedConv","autpPad:".concat(u.autoPad,", dilations:").concat(u.dilations,", group:").concat(u.group,", kernelShape:").concat(u.kernelShape,", pads:").concat(u.pads,", strides:").concat(u.strides));var p=(0,a.calculateOutputShape)(l,f,u.dilations,u.pads,u.strides),h=(0,o.getGlsl)(t.session.backend.glContext.version),g=(0,s.getActivationSnippet)(u),b=g.activationFunction,v=g.applyActivation,y="\n  const ivec2 strides = ivec2(".concat(u.strides[0],", ").concat(u.strides[1],");\n  const ivec2 pads = ivec2(").concat(u.pads[0],", ").concat(u.pads[1],");\n  ").concat(b,"\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n    ivec2 xRCCorner = coords.zw * strides - pads;\n    int group_id = output_channel / ").concat(d,";\n\n    float value = 0.0;\n    for (int wInChannel = 0; wInChannel < ").concat(f[1],"; wInChannel++) {\n      int input_channel = group_id * ").concat(f[1]," + wInChannel;\n      for (int wHeight = 0; wHeight < ").concat(f[2],"; wHeight++) {\n        int xHeight = xRCCorner.x + wHeight * ").concat(u.dilations[0],";\n\n        if (xHeight < 0 || xHeight >= ").concat(l[2],") {\n          continue;\n        }\n\n        for (int wWidth = 0; wWidth < ").concat(f[3],"; wWidth++) {\n          int xWidth = xRCCorner.y + wWidth * ").concat(u.dilations[1],";\n          if (xWidth < 0 || xWidth >= ").concat(l[3],") {\n            continue;\n          }\n\n          float xVal = getX(batch, input_channel, xWidth, xHeight);\n          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);\n          value += xVal*wVal;\n        }\n      }\n    }\n    ").concat(c,"\n    ").concat(v,"\n    ").concat(h.output," = vec4(value, .0, .0, .0);\n  }\n");return Object.assign(Object.assign({},n),{output:{dims:p,type:e[0].type,textureType:i.TextureType.unpacked},shaderSource:y,hasMain:!0})}(t,e,l,n)}})}},1386:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.conv2DPacked=e.conv2DPackedPointwise=void 0;var r=n(8138),o=n(8555),i=n(708);e.conv2DPackedPointwise=function(t,e,n){var o=e[0].dims,a=e[1].dims,s=(0,r.calculateOutputShape)(o,a,n.dilations,n.pads,n.strides),u=t.reshapePacked(e[0],[o[1],o[2]*o[3]]),c=t.reshapePacked(e[1],[a[0],a[1]]),l=e.length>2?[c,u,e[2]]:[c,u],f=t.run((0,i.createPackedMatmulProgramInfoLoader)(t,l,n),l);return t.reshapePacked(f,s)},e.conv2DPacked=function(t,e,n){var a=e[0].dims,s=e[1].dims,u=(0,r.calculateOutputShape)(a,s,n.dilations,n.pads,n.strides),c=t.run((0,o.createPackedIm2ColProgramInfoLoader)(t,e[0],e[1],u,n),[e[0]]),l=t.reshapePacked(e[1],[s[0],s[1]*s[2]*s[3]]),f=3===e.length?[l,c,e[2]]:[l,c],d=t.run((0,i.createPackedMatmulProgramInfoLoader)(t,f,n),f);return t.reshapePacked(d,u)}},9663:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseConvTransposeAttributes=e.convTranspose=void 0;var r=n(246),o=n(5060),i=n(2039),a=n(2823),s=function(t,e,n,r,o,i){return(t-1)*e+n+(r-1)*o+1-i},u=function(t,e,n,r,o){var i=Math.floor(t/2);"SAME_UPPER"===e?(n[r]=i,n[o]=t-i):"SAME_LOWER"===e&&(n[r]=t-i,n[o]=i)};e.convTranspose=function(t,e,n){return d(e,n),c(t,e,n)};var c=function(t,e,n){var r=f(n,e);return[l(t,e,r)]},l=function(t,e,n){return t.run(function(t,e,n){var r,s,u=(r=e.length>2,s=n.cacheKey,{name:"ConvTranspose",inputNames:r?["X","W","B"]:["X","W"],inputTypes:r?[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.unpacked],cacheHint:s});return Object.assign(Object.assign({},u),{get:function(){return function(t,e,n,r){var s=e.length>2?"getB(output_channel)":"0.0",u=e[0].dims,c=e[1].dims,l=c[1],f=c[0]/r.group,d=[e[0].dims[0],e[1].dims[1]*r.group].concat(_toConsumableArray(r.outputShape)),p=(0,o.getGlsl)(t.session.backend.glContext.version),h=(0,a.getActivationSnippet)(r),g=h.activationFunction,b=h.applyActivation,v="\n  const ivec2 strides = ivec2(".concat(r.strides[0],", ").concat(r.strides[1],");\n  const ivec2 pads = ivec2(").concat(r.pads[0],", ").concat(r.pads[1],");\n  ").concat(g,"\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n\n    ivec2 loc = coords.zw + pads;\n\n    int group_id = output_channel / ").concat(l,";\n    int wOutChannel = output_channel - group_id * ").concat(l,";\n\n    float value = ").concat(s,";\n    for (int inChannelOffset = 0; inChannelOffset < ").concat(f,"; inChannelOffset++) {\n      int input_channel = group_id * ").concat(f," + inChannelOffset;\n      for (int wWOff = 0; wWOff < ").concat(c[2],"; wWOff++) {\n        for (int wHOff = 0; wHOff < ").concat(c[3],"; wHOff++) {\n          ivec2 wOff = ivec2(wWOff * ").concat(r.dilations[0],", wHOff * ").concat(r.dilations[1],");\n          ivec2 wLoc = loc - wOff;\n          ivec2 wLocIn = wLoc / strides;\n          if (\n            wLocIn * strides == wLoc &&\n            wLocIn.x >= 0 && wLocIn.x < ").concat(u[2]," &&\n            wLocIn.y >= 0 && wLocIn.y < ").concat(u[3],"\n          ) {\n            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);\n            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);\n            value += xVal * wVal;\n          }\n        }\n      }\n    }\n    ").concat(b,"\n    ").concat(p.output," = vec4(value, .0, .0, .0);\n  }\n");return Object.assign(Object.assign({},n),{output:{dims:d,type:e[0].type,textureType:i.TextureType.unpacked},shaderSource:v,hasMain:!0})}(t,e,u,n)}})}(t,e,n),e)},f=function(t,e){var n=t.kernelShape.slice();if(0===t.kernelShape.length)for(var r=2;r<e[1].dims.length;++r)n.push(e[1].dims[r]);var o=t.pads.slice(),i=t.outputShape.slice();!function(t,e,n,r,o,i,a,c){for(var l=t.length-2,f=0===c.length,d=0;d<l;++d){var p=f?t[d+2]*i[d]:c[d],h=s(t[d+2],i[d],o[d],e[d],n[d],p);u(h,r,o,d,d+l),f&&c.push(i[d]*(t[d+2]-1)+a[d]+(e[d]-1)*n[d]+1-o[d]-o[d+l])}}(e[0].dims,n,t.dilations,t.autoPad,o,t.strides,t.outputPadding,i);var a=Object.assign({},t);return Object.assign(a,{kernelShape:n,pads:o,outputShape:i,cacheKey:t.cacheKey}),a};e.parseConvTransposeAttributes=function(t){var e=t.attributes,n=(0,a.parseInternalActivationAttributes)(e),o=e.getString("auto_pad","NOTSET"),i=e.getInts("dilations",[1,1]),s=e.getInt("group",1),u=e.getInts("kernel_shape",[]),c=e.getInts("output_padding",[0,0]),l=e.getInts("output_shape",[]),f=e.getInts("pads",[0,0,0,0]),d=e.getInts("strides",[1,1]);return(0,r.createAttributeWithCacheKey)(Object.assign({autoPad:o,dilations:i,group:s,kernelShape:u,outputPadding:c,outputShape:l,pads:f,strides:d},n))};var d=function(t,e){if(!t||2!==t.length&&3!==t.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==t[0].dims.length||4!==t[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(t[0].dims[1]!==t[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");var n=t[1].dims[1]*e.group;if(3===t.length&&(1!==t[2].dims.length||t[2].dims[0]!==n))throw new Error("invalid bias");var r=t[0].dims.length-2;if(e.dilations.length!==r)throw new Error("dilations should be ".concat(r,"D"));if(e.strides.length!==r)throw new Error("strides should be ".concat(r,"D"));if(e.pads.length!==2*r)throw new Error("pads should be ".concat(2*r,"D"));if(e.outputPadding.length!==r)throw new Error("output_padding should be ".concat(r,"D"));if(0!==e.kernelShape.length&&e.kernelShape.length!==t[1].dims.length-2)throw new Error("invalid kernel shape");if(0!==e.outputShape.length&&e.outputShape.length!==t[0].dims.length-2)throw new Error("invalid output shape");if("float32"!==t[0].type||"float32"!==t[1].type)throw new Error("ConvTranspose input(X,W) should be float tensor");if(3===t.length&&"float32"!==t[2].type)throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseConvAttributes=e.conv=e.calculateOutputShape=void 0;var r=n(246),o=n(2517),i=n(4770),a=n(1386),s=n(9828),u=n(2823),c=n(3248),l=n(5623);e.calculateOutputShape=function(t,e,n,r,o){var i,a=t[0],s=t.slice(2),u=s.length,c=e[0],l=e.slice(2).map((function(t,e){return t+(t-1)*(n[e]-1)})),f=s.map((function(t,e){return t+r[e]+r[e+u]})).map((function(t,e){return Math.floor((t-l[e]+o[e])/o[e])}));return(i=[a,c]).concat.apply(i,_toConsumableArray(f))},e.conv=function(t,e,n){return g(e,n),f(t,e,n)};var f=function(t,e,n){var r=h(n,e),o=t.session.pack,s=1===r.kernelShape[0]&&1===r.kernelShape[1];return r.group>1?[t.run((0,i.createUnpackedGroupedConvProgramInfoLoader)(t,e,r),e)]:s&&o?[d(t,e,r)]:o&&4===e[0].dims.length&&1===e[0].dims[0]&&!s?[(0,a.conv2DPacked)(t,e,r)]:[p(t,e,r)]},d=function(t,n,r){var o=n[0].dims,i=n[1].dims,a=(0,e.calculateOutputShape)(o,i,r.dilations,r.pads,r.strides),s=t.reshapeUnpacked(n[0],[o[1],o[2]*o[3]]),u=t.reshapeUnpacked(n[1],[i[0],i[1]]),c=n.length>2?[u,s,n[2]]:[u,s],f=t.run((0,l.createMatmulProgramInfoLoader)(c,r),c);return t.reshapeUnpacked(f,a)},p=function(t,n,r){var o=n[0].dims,i=n[1].dims,a=(0,e.calculateOutputShape)(o,i,r.dilations,r.pads,r.strides),u=t.run((0,c.createIm2ColProgramInfoLoader)(t,n[0],n[1],a,r),[n[0]]),l=3===n.length?[u,n[1],n[2]]:[u,n[1]];return t.run((0,s.createDotProductProgramInfoLoader)(t,n,a,r),l)},h=function(t,e){var n=t.kernelShape.slice();if(0===t.kernelShape.length)for(var r=2;r<e[1].dims.length;++r)n.push(e[1].dims[r]);var i=t.pads.slice();o.PoolConvUtil.adjustPadsBasedOnAutoPad(e[0].dims,t.strides,t.dilations,n,i,t.autoPad);var a=Object.assign({},t);return Object.assign(a,{kernelShape:n,pads:i,cacheKey:t.cacheKey}),a};e.parseConvAttributes=function(t){var e=t.attributes,n=(0,u.parseInternalActivationAttributes)(e),o=e.getString("auto_pad","NOTSET"),i=e.getInts("dilations",[1,1]),a=e.getInt("group",1),s=e.getInts("kernel_shape",[]),c=e.getInts("pads",[0,0,0,0]),l=e.getInts("strides",[1,1]);return(0,r.createAttributeWithCacheKey)(Object.assign({autoPad:o,dilations:i,group:a,kernelShape:s,pads:c,strides:l},n))};var g=function(t,e){if(!t||2!==t.length&&3!==t.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==t[0].dims.length||4!==t[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(t[0].dims[1]!==t[1].dims[1]*e.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===t.length&&(1!==t[2].dims.length||t[1].dims[0]!==t[2].dims[0]))throw new Error("invalid bias");var n=t[0].dims.length-2;if(e.dilations.length!==n)throw new Error("dilations should be ".concat(n,"D"));if(e.strides.length!==n)throw new Error("strides should be ".concat(n,"D"));if(e.pads.length!==2*n)throw new Error("pads should be ".concat(2*n,"D"));if(0!==e.kernelShape.length&&e.kernelShape.length!==t[1].dims.length-2)throw new Error("invalid kernel shape");if("float32"!==t[0].type||"float32"!==t[1].type)throw new Error("Conv input(X,W) should be float tensor");if(3===t.length&&"float32"!==t[2].type)throw new Error("Conv input(bias) should be float tensor")}},5193:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDepthToSpaceAttributes=e.depthToSpace=void 0;var r=n(3738);e.depthToSpace=function(t,e,n){o(e);var i=n.blocksize,a=i*i,s="DCR"===n.mode?[0,3,4,1,5,2]:[0,1,4,2,5,3],u="DCR"===n.mode?[e[0].dims[0],i,i,e[0].dims[1]/a,e[0].dims[2],e[0].dims[3]]:[e[0].dims[0],e[0].dims[1]/a,i,i,e[0].dims[2],e[0].dims[3]],c=t.reshapeUnpacked(e[0],u),l={perm:s,cacheKey:"".concat(s)},f=(0,r.transpose)(t,[c],l),d=_slicedToArray(f,1)[0],p=[e[0].dims[0],e[0].dims[1]/a,e[0].dims[2]*i,e[0].dims[3]*i];return[t.reshapeUnpacked(d,p)]},e.parseDepthToSpaceAttributes=function(t){var e=t.attributes.getInt("blocksize");if(e<1)throw new Error("blocksize must be >= 1, but got : ".concat(e," for DepthToSpace"));var n=t.attributes.getString("mode","DCR");if("DCR"!==n&&"CRD"!==n)throw new Error("unrecognized mode: ".concat(n," for DepthToSpace"));return{mode:n,blocksize:e}};var o=function(t){if(1!==t.length)throw new Error("DepthToSpace expect 1 inputs, but got ".concat(t.length));if("string"===t[0].type||4!==t[0].dims.length)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDotProductProgramInfoLoader=void 0;var r=n(2517),o=n(5060),i=n(2039),a=n(2823),s=n(3248);e.createDotProductProgramInfoLoader=function(t,e,n,u){var c=function(t,e){return{name:"ConvDotProduct",inputNames:t?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:t?[i.TextureType.unpacked,i.TextureType.packedLastDimension,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.packedLastDimension],cacheKey:e.activationCacheKey}}(e.length>2,u);return Object.assign(Object.assign({},c),{get:function(){return function(t,e,n,u,c){var l=n[0].dims,f=n[1].dims,d=[f[0],Math.ceil(l[1]*f[2]*f[3]/4)],p=(0,s.calculateIm2ColDims)(l,f,u),h=t.calculateTextureWidthAndHeight(d,i.TextureType.packedLastDimension),g=_slicedToArray(h,2),b=g[0],v=g[1],y=r.ShapeUtil.computeStrides(p),m=t.calculateTextureWidthAndHeight(p,i.TextureType.packedLastDimension),_=_slicedToArray(m,2),w=_[0],x=_[1],T=u.length,k=n.length<3?"0.0":"_B(b)",S=Math.ceil(l[1]*f[2]*f[3]/4),O=(0,a.getActivationSnippet)(c),A=O.activationFunction,E=O.applyActivation,I=(0,o.getGlsl)(t.session.backend.glContext.version),P="\n".concat(A,"\nfloat process(int indices[").concat(T,"]) {\n  int b[1];\n  b[0] = indices[1];\n  int im2col[4];\n  im2col[0] = indices[0];\n  im2col[1] = indices[2];\n  im2col[2] = indices[3];\n  int im2colOffset = im2col[0] * ").concat(y[0]," + im2col[1] * ").concat(y[1]," + im2col[2] * ").concat(y[2],";\n  int kernelOffset = indices[1] * ").concat(d[1],";\n  float value = ").concat(k,";\n  for (int i = 0; i < ").concat(S,"; ++i) {\n    vec2 im2colCoords = offsetToCoords(im2colOffset, ").concat(w,", ").concat(x,");\n    vec2 kernelCoords = offsetToCoords(kernelOffset, ").concat(b,", ").concat(v,");\n    value += dot(").concat(I.texture2D,"(Im2Col, im2colCoords), ").concat(I.texture2D,"(K, kernelCoords));\n    ++im2colOffset;\n    ++kernelOffset;\n  }\n  ").concat(E,"\n  return value;\n}");return Object.assign(Object.assign({},e),{output:{dims:u,type:n[0].type,textureType:i.TextureType.unpacked},shaderSource:P})}(t,c,e,n,u)}})}},7992:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseFlattenAttributes=e.flatten=void 0;var r=n(2517);e.flatten=function(t,e,n){o(e,n);var i=r.ShapeUtil.flattenShape(e[0].dims,n);return[t.reshapeUnpacked(e[0],i)]},e.parseFlattenAttributes=function(t){return t.attributes.getInt("axis",1)};var o=function(t,e){if(!t||1!==t.length)throw new Error("Flatten requires 1 input.");var n=t[0].dims.length;if(0===n)throw new Error("scalar tensor is not supported.");if(e<-n||e>n)throw new Error("Invalid axis");if("string"===t[0].type)throw new Error("string tensor is not supported.")}},2823:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseInternalActivationAttributes=e.getActivationSnippet=void 0;var r=n(2517),o=n(4909);e.getActivationSnippet=function(t){var e;switch(t.activation){case"Relu":e=(0,o.glslRelu)();break;case"Sigmoid":e=(0,o.glslSigmoid)();break;case"Clip":e=(0,o.glslClip)(t.clipMin,t.clipMax);break;default:return{activationFunction:"",applyActivation:""}}var n=e.name;return{activationFunction:e.body,applyActivation:"value = ".concat(n,"_(value);")}},e.parseInternalActivationAttributes=function(t){var e=t.getString("activation","");if("Clip"===e){var n=t.getFloats("activation_params",[r.MIN_CLIP,r.MAX_CLIP]),o=_slicedToArray(n,2),i=o[0],a=o[1];return{activation:e,clipMax:a,clipMin:i,activationCacheKey:"".concat(e,":").concat(i,",").concat(a)}}return{activation:e,activationCacheKey:e}}},1253:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseGatherAttributes=e.gather=void 0;var r=n(246),o=n(782),i=n(2517),a=n(2039);e.gather=function(t,e,n){return c(e,n.axis),[t.run(u(t,e,n),e)]},e.parseGatherAttributes=function(t){return(0,r.createAttributeWithCacheKey)({axis:t.attributes.getInt("axis",0)})};var s={name:"Gather",inputNames:["A","B"],inputTypes:[a.TextureType.unpacked,a.TextureType.unpacked]},u=function(t,e,n){var r=Object.assign(Object.assign({},s),{cacheHint:n.cacheKey});return Object.assign(Object.assign({},r),{get:function(){return function(t,e,n,r){var o=n[0].dims.slice(),s=n[1].dims.slice(),u=new Array(o.length+s.length-1);r=i.ShapeUtil.normalizeAxis(r,o.length);for(var c=[],l=0;l<u.length;l++)l<r?(u[l]=o[l],c.push("inputIdx[".concat(l,"] = outputIdx[").concat(l,"];"))):l<r+s.length?(u[l]=s[l-r],c.push("indexDataIdx[".concat(l-r,"] = outputIdx[").concat(l,"];"))):(u[l]=o[l-s.length+1],c.push("inputIdx[".concat(l-s.length+1,"] = outputIdx[").concat(l,"];")));var f="\n      float process(int outputIdx[".concat(u.length||1,"]) {\n        int inputIdx[").concat(o.length,"];\n        int indexDataIdx[").concat(s.length||1,"];\n        indexDataIdx[0] = 0;\n        ").concat(c.join("\n        "),"\n        int idx = int(_B(indexDataIdx));\n        inputIdx[").concat(r,"] = idx < 0 ? idx + ").concat(o[r]," : idx;\n        return _A(inputIdx);\n      }");return Object.assign(Object.assign({},e),{output:{dims:u,type:n[0].type,textureType:a.TextureType.unpacked},shaderSource:f})}(0,r,e,n.axis)}})},c=function(t,e){if(!t||2!==t.length)throw new Error("Gather requires 2 inputs.");var n=t[0].dims.length;if(n<1)throw new Error("Invalid input shape.");if(e<-n||e>n-1)throw new Error("Invalid axis.");if(-1===o.NUMBER_TYPES.indexOf(t[0].type))throw new Error("Invaid input type.");if("int32"!==t[1].type&&"int16"!==t[1].type)throw new Error("Invaid input type.")}},4776:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseGemmAttributesV11=e.parseGemmAttributesV7=e.gemm=void 0;var r=n(246),o=n(2517),i=n(2039);e.gemm=function(t,e,n){return c(e,n),[t.run(s(e,n),e)]};var a=function(t,e){var n=0!==t.attributes.getInt("transA",0),o=0!==t.attributes.getInt("transB",0),i=t.attributes.getFloat("alpha",1),a=t.attributes.getFloat("beta",1);return(0,r.createAttributeWithCacheKey)({transA:n,transB:o,alpha:i,beta:a,isOptionalC:e})};e.parseGemmAttributesV7=function(t){return a(t,!1)},e.parseGemmAttributesV11=function(t){return a(t,!0)};var s=function(t,e){var n={name:"Gemm",inputNames:3===t.length?["A","B","C"]:["A","B"],inputTypes:3===t.length?[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.unpacked],key:e.cacheKey};return Object.assign(Object.assign({},n),{get:function(){return u(n,t,e)}})},u=function(t,e,n){var r=e[0].dims.slice(),a=e[1].dims.slice(),s=o.GemmUtil.getShapeOfGemmResult(r,n.transA,a,n.transB,3===e.length?e[2].dims:void 0),u=_slicedToArray(s,2),c=u[0],l=u[1],f=[c,l];if(!f)throw new Error("Can't use gemm on the given tensors");var d=r[r.length-1],p="";n.transA&&(d=r[0]),n.transA&&n.transB?p="value += _A_T(a) * _B_T(b);":n.transA&&!n.transB?p="value += _A_T(a) * _B(b);":!n.transA&&n.transB?p="value += _A(a) * _B_T(b);":n.transA||n.transB||(p="value += _A(a) * _B(b);");var h=f.length,g="\n      float process(int indices[".concat(h,"]) {\n          int a[").concat(h,"];\n          int b[").concat(h,"];\n          ").concat(3===e.length?"int c[".concat(e[2].dims.length,"];"):"","\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          ").concat(3===e.length?"bcastIndices_C(indices, c);":"","\n\n          float value = 0.0;\n          for (int k=0; k<").concat(d,"; ++k) {\n              a[").concat(h-1,"] = k;\n              b[").concat(h-2,"] = k;\n              ").concat(p,"\n          }\n\n          value = value * alpha;\n          ").concat(3===e.length?"value += beta * _C(c);":"","\n          return value;\n      }");return Object.assign(Object.assign({},t),{output:{dims:f,type:e[0].type,textureType:i.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:n.alpha},{name:"beta",type:"float",data:n.beta}],shaderSource:g})},c=function(t,e){if(!t)throw new Error("Input is missing");if(e.isOptionalC&&(t.length<2||t.length>3))throw new Error("Invaid input shape.");if(!e.isOptionalC&&3!==t.length)throw new Error("Gemm requires 3 inputs");if(3===t.length&&1!==t[2].dims.length&&2!==t[2].dims.length)throw new Error("Invalid input shape of C");if("float32"!==t[0].type&&"float64"!==t[0].type||"float32"!==t[1].type&&"float64"!==t[1].type||3===t.length&&"float32"!==t[2].type&&"float64"!==t[2].type)throw new Error("Invalid input type.");if(t[0].type!==t[1].type||3===t.length&&t[0].type!==t[2].type)throw new Error("Input types are mismatched")}},8555:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createPackedIm2ColProgramInfoLoader=void 0;var r=n(5060),o=n(2039),i=n(2827);e.createPackedIm2ColProgramInfoLoader=function(t,e,n,a,s){var u,c=(u=s.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[o.TextureType.packed],cacheHint:u});return Object.assign(Object.assign({},c),{get:function(){return function(t,e,n,a,s,u){for(var c=n.dims,l=a.dims,f=s.length,d=[l[1]*l[2]*l[3],s[2]*s[3]],p=l[2]*l[3],h=(0,i.unpackFromChannel)(),g=(0,r.getGlsl)(t.session.backend.glContext.version),b="",v=0;v<=1;v++)for(var y=0;y<=1;y++)b+="\n            blockIndex = rc.x + ".concat(y,";\n            pos = rc.y + ").concat(v,";\n\n            if(blockIndex < ").concat(d[1]," && pos < ").concat(d[0],") {\n              offsetY = int(blockIndex / (").concat(s[f-1],")) * ").concat(u.strides[0]," -\n                ").concat(u.pads[0],";\n              d0 = offsetY + ").concat(u.dilations[0]," * (imod(pos, ").concat(p,") / ").concat(l[2],");\n\n              if(d0 < ").concat(c[2]," && d0 >= 0) {\n                offsetX = imod(blockIndex, ").concat(s[f-1],") * ").concat(u.strides[1]," -\n                  ").concat(u.pads[1],";\n                d1 = offsetX + ").concat(u.dilations[1]," * imod(imod(pos, ").concat(p,"), ").concat(l[2],");\n\n                if(d1 < ").concat(c[3]," && d1 >= 0) {\n\n                  ch = int(float(pos)/ ").concat(p,".);\n                    innerDims = vec2(d0, d1);\n                    result[").concat(2*v+y,"] = getChannel(\n                      getA(0, ch, int(innerDims.x),\n                      int(innerDims.y)), innerDims);\n                }\n              }\n            }\n\n          ");var m="\n      ".concat(h,"\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n          vec4 result = vec4(0.0);\n          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n          vec2 innerDims;\n          ").concat(b,"\n          ").concat(g.output," = result;\n      }\n            ");return Object.assign(Object.assign({},e),{output:{dims:d,type:n.type,textureType:o.TextureType.packed},shaderSource:m,hasMain:!0})}(t,c,e,n,a,s)}})}},3248:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateIm2ColDims=e.createIm2ColProgramInfoLoader=void 0;var r=n(2039);e.createIm2ColProgramInfoLoader=function(t,n,o,i,a){var s,u=(s=a.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[r.TextureType.unpacked],cacheHint:s});return Object.assign(Object.assign({},u),{get:function(){return function(t,n,o,i,a,s){var u=o.dims,c=i.dims,l=a.length,f=(0,e.calculateIm2ColDims)(u,c,a,4),d="\n        const int XC = ".concat(u[1],";\n        const int XH = ").concat(u[2],";\n        const int XW = ").concat(u[3],";\n        const int KH = ").concat(s.kernelShape[0],";\n        const int KW = ").concat(s.kernelShape[1],";\n        const int dilationH = ").concat(s.dilations[0],";\n        const int dilationW = ").concat(s.dilations[1],";\n        const int strideH = ").concat(s.strides[0],";\n        const int strideW = ").concat(s.strides[1],";\n        const int padH = ").concat(s.pads[0],";\n        const int padW = ").concat(s.pads[1],";\n        const int KHKW = KH*KW;\n        const int XCKHKW = XC * KHKW;\n        const int outputChannels = 4;\n        vec4 process(int indices[").concat(l,"]) {\n          int b  = indices[0]; // batch size\n          int oh = indices[1] * strideH - padH; //output height\n          int ow = indices[2] * strideW - padW; //output width\n          int p = indices[3] * outputChannels; //patch\n          vec4 value = vec4(0.0);\n          for(int i=0; i < outputChannels; ++i) {\n            if(p < XCKHKW) {\n              int patchC = p / KHKW;\n              int patchH = (p - patchC*KHKW) / KW;\n              int patchW = (p - patchC*KHKW) - patchH * KW;\n              int xh2 = oh + patchH * dilationH;\n              int xw2 = ow + patchW * dilationW;\n              int x[").concat(u.length,"];\n              x[0] = b;\n              x[1] = patchC;\n              x[2] = xh2;\n              x[3] = xw2;\n              if(xh2 >= 0 &&\n                  xh2 < XH &&\n                  xw2 >= 0 &&\n                  xw2 < XW) {\n                value[i] = _X(x);\n              }\n            }\n            ++p;\n          }\n          return value;\n        }\n        ");return Object.assign(Object.assign({},n),{output:{dims:f,type:o.type,textureType:r.TextureType.packedLastDimension},shaderSource:d})}(0,u,n,o,i,a)}})},e.calculateIm2ColDims=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;return[n[0],n[2],n[3],Math.ceil(t[1]*e[2]*e[3]/r)]}},6572:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseImageScalerAttributes=e.imageScaler=void 0;var r=n(246),o=n(2039);e.imageScaler=function(t,e,n){return u(e),[t.run(a(t,e,n),e)]},e.parseImageScalerAttributes=function(t){var e=t.attributes.getFloat("scale"),n=t.attributes.getFloats("bias");return(0,r.createAttributeWithCacheKey)({scale:e,bias:n})};var i={name:"ImageScaler",inputNames:["X"],inputTypes:[o.TextureType.unpacked]},a=function(t,e,n){var r=Object.assign(Object.assign({},i),{cacheHint:n.cacheKey});return Object.assign(Object.assign({},r),{get:function(){return function(t,e,n,r){var i=n[0].dims.slice(),a=i.length,u="\n      ".concat(s(r.bias.length),"\n      float process(int indices[").concat(a,"]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }");return Object.assign(Object.assign({},e),{output:{dims:i,type:n[0].type,textureType:o.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:r.bias.length,data:r.bias},{name:"scale",type:"float",data:r.scale}],shaderSource:u})}(0,r,e,n)}})},s=function(t){for(var e=["float getBias(float bias[".concat(t,"], int channel) {")],n=0;n<t;++n)0===n?e.push("\tif (channel == ".concat(n,") { return bias[").concat(n,"]; }")):n===t-1?e.push("\telse { return bias[".concat(n,"]; }")):e.push("\telse if (channel == ".concat(n,") { return bias[").concat(n,"]; }"));return e.push("\t}"),e.join("\n")},u=function(t){if(!t||1!==t.length)throw new Error("ImageScaler requires 1 input.");if(4!==t[0].dims.length)throw new Error("Invalid input shape.");if("float32"!==t[0].type&&"float64"!==t[0].type)throw new Error("Invalid input type.")}},3346:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseInstanceNormalizationAttributes=e.instanceNormalization=void 0;var r=n(5060),o=n(2039);e.instanceNormalization=function(t,e,n){c(e);var r=t.run(a(e[0]),e);return[t.run(u(t,e[0],n,r.dims),[e[0],r,e[1],e[2]])]},e.parseInstanceNormalizationAttributes=function(t){return t.attributes.getFloat("epsilon",1e-5)};var i={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[o.TextureType.unpacked]},a=function(t){return Object.assign(Object.assign({},i),{get:function(){return function(t,e){var n=e.dims.slice(),r=n[1],i=n[2]*n[3],a=[n[0],r],s="\n      vec4 process(int[2] indices) {\n        vec4 v = vec4(0.0);\n        int a[4];\n        a[0] = indices[0];\n        a[1] = indices[1];\n        float temp = 0.0;\n        for(int a2=0; a2<".concat(n[2],"; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<").concat(n[3],"; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += x;\n          }\n        }\n        float mean = temp / float(").concat(i,");\n        temp = 0.0;\n        for(int a2=0; a2<").concat(n[2],"; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<").concat(n[3],"; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += (x - mean) * (x - mean);\n          }\n        }\n        v.r = mean;\n        v.g = temp / float(").concat(i,");\n\n        return v;\n      }");return Object.assign(Object.assign({},t),{output:{dims:a,type:e.type,textureType:o.TextureType.packedLastDimension},shaderSource:s})}(i,t)}})},s={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[o.TextureType.unpacked,o.TextureType.packedLastDimension,o.TextureType.unpacked,o.TextureType.unpacked]},u=function(t,e,n,i){var a=Object.assign(Object.assign({},s),{cacheHint:"".concat(n)});return Object.assign(Object.assign({},a),{get:function(){return function(t,e,n,i,a){var s=(0,r.getGlsl)(t.session.backend.glContext.version),u=t.calculateTextureWidthAndHeight(a,o.TextureType.packedLastDimension),c=_slicedToArray(u,2),l=c[0],f=c[1],d="\n      vec4 get_MeanAndVariance(int[2] mv) {\n        int offset = indicesToOffset_MeanAndVariance(mv);\n        vec2 coords = offsetToCoords(offset, ".concat(l/4,", ").concat(f,");\n        return ").concat(s.texture2D,"(MeanAndVariance, coords);\n      }\n\n      float process(int[4] indices) {\n        int mv[2];\n        mv[0] = indices[0];\n        mv[1] = indices[1];\n        vec4 mean_and_variance = get_MeanAndVariance(mv);\n        float mean = mean_and_variance.r;\n        float variance = mean_and_variance.g;\n\n        int sb[1];\n        sb[0] = indices[1];\n        float scale = _Scale(sb);\n        float b = _B(sb);\n\n        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;\n      }");return Object.assign(Object.assign({},e),{output:{dims:n.dims,type:n.type,textureType:o.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:i}],shaderSource:d})}(t,a,e,n,i)}})},c=function(t){if(!t||3!==t.length)throw new Error("InstanceNormalization requires 3 inputs.");var e=t[0],n=t[1],r=t[2];if(e.dims.length<3||1!==n.dims.length||1!==r.dims.length)throw new Error("Invalid input shape.");if(n.dims[0]!==e.dims[1]||r.dims[0]!==e.dims[1])throw new Error("Input shapes are mismatched.");if("float32"!==e.type&&"float64"!==e.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type)throw new Error("Invalid input type.");if(4!==t[0].dims.length)throw new Error("Only support 4-D input shape.")}},708:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createPackedMatmulProgramInfoLoader=void 0;var r=n(2517),o=n(5060),i=n(2039),a=n(9390),s=n(2823),u=n(5623);e.createPackedMatmulProgramInfoLoader=function(t,e,n){var c,l,f=(c=e.length>2,l=n.activationCacheKey,{name:"MatMul (packed)",inputNames:c?["A","B","Bias"]:["A","B"],inputTypes:c?[i.TextureType.packed,i.TextureType.packed,i.TextureType.packed]:[i.TextureType.packed,i.TextureType.packed],cacheHint:l});return Object.assign(Object.assign({},f),{get:function(){return function(t,e,n,c){var l=n.length>2,f=l?"value += getBiasForMatmul();":"",d=n[0].dims,p=n[1].dims,h=r.BroadcastUtil.calcShape(d,p,!0),g=!r.ShapeUtil.areEqual(n[0].dims,n[1].dims);if(!h)throw new Error("Can't use matmul on the given tensors");var b=d[d.length-1],v=Math.ceil(b/2),y=d.length,m=p.length,_=(0,o.getGlsl)(t.session.backend.glContext.version),w=(0,a.getCoordsDataType)(h.length),x=h.length,T=(0,a.getGlChannels)(),k=(0,s.getActivationSnippet)(c),S=k.activationFunction,O=k.applyActivation,A=l?"".concat((0,u.getBiasForMatmul)(w,T,n[2].dims,h,!0)):"",E=g?"".concat(function(t,e,n,o){var i=[],a=[],s=n[0].dims,u=n[1].dims,c=s.length,l=u.length,f=o.length,d=f-c,p=f-l;i=s.map((function(t,n){return"coords.".concat(e[n+d])})),i[c-1]="i*2",i.join(", "),a=u.map((function(t,n){return"coords.".concat(e[n+p])})),a[l-2]="i*2",a.join(", ");var h=r.BroadcastUtil.getBroadcastDims(s,o),g=r.BroadcastUtil.getBroadcastDims(u,o),b=h.map((function(t){return"coords.".concat(e[t+d]," = 0;")})).join("\n"),v=g.map((function(t){return"coords.".concat(e[t+p]," = 0;")})).join("\n"),y="int lastDim = coords.".concat(e[f-1],";\n  coords.").concat(e[f-1]," = coords.").concat(e[f-2],";\n  coords.").concat(e[f-2]," = lastDim;");return"\nvec4 getAAtOutCoordsMatmul(int i) {\n  ".concat(t," coords = getOutputCoords();\n  ").concat(y,"\n  ").concat(b,"\n  vec4 outputValue = getA(").concat(i,");\n  return outputValue;\n}\n\nvec4 getBAtOutCoordsMatmul(int i) {\n  ").concat(t," coords = getOutputCoords();\n  ").concat(y,"\n  ").concat(v,"\n  vec4 outputValue = getB(").concat(a,");\n  return outputValue;\n}")}(w,T,n,h)):"",I=g?"getAAtOutCoordsMatmul(i)":"getA(".concat(function(t,e){for(var n="",r=0;r<e-2;r++)n+="rc.".concat(t[r],", ");return n+="rc.".concat(t[e-2],", i*2")}(T,y),")"),P=g?"getBAtOutCoordsMatmul(i)":"getB(".concat(function(t,e){for(var n="",r=0;r<e-2;r++)n+="rc.".concat(t[r],", ");return n+="i*2, rc.".concat(t[e-1])}(T,m),")"),D="\n            ".concat(E,"\n            ").concat(A,"\n            ").concat(S,"\n            void main() {\n              ").concat(g?"":"".concat(w," rc =\n          getOutputCoords(); int lastDim = rc.").concat(T[x-1],"; rc.").concat(T[x-1]," =\n          rc.").concat(T[x-2],"; rc.").concat(T[x-2]," = lastDim;\n      "),"\n\n              vec4 value = vec4(0);\n              for (int i = 0; i < ").concat(v,"; i++) {\n                vec4 a = ").concat(I,";\n                vec4 b = ").concat(P,";\n\n                value += (a.rrbb * b.rgrg);\n                value += (a.ggaa * b.baba);\n              }\n              ").concat(f,"\n              ").concat(O,"\n              ").concat(_.output," = value;\n            }");return Object.assign(Object.assign({},e),{output:{dims:h,type:n[0].type,textureType:i.TextureType.packed},shaderSource:D,hasMain:!0})}(t,f,e,n)}})}},5623:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBiasForMatmul=e.createMatmulProgramInfoLoader=e.parseMatMulAttributes=e.matMul=void 0;var r=n(2517),o=n(2039),i=n(9390),a=n(2823),s=n(708);function u(t,e){var n,s,u=(n=t.length>2,s=e.activationCacheKey,{name:"MatMul",inputNames:n?["A","B","Bias"]:["A","B"],inputTypes:n?[o.TextureType.unpacked,o.TextureType.unpacked,o.TextureType.unpacked]:[o.TextureType.unpacked,o.TextureType.unpacked],cacheHint:s});return Object.assign(Object.assign({},u),{get:function(){return function(t,e,n){var s=e[0].dims,u=e[1].dims,c=r.BroadcastUtil.calcShape(s,u,!0);if(!c)throw new Error("Can't use matmul on the given tensors");var f=(0,i.getCoordsDataType)(c.length),d=(0,i.getGlChannels)(),p=(0,a.getActivationSnippet)(n),h=p.activationFunction,g=p.applyActivation,b=e.length>2,v=b?"value += getBiasForMatmul();":"",y=b?"".concat(l(f,d,e[2].dims,c,!1)):"",m=c.length,_=s.length,w=u.length,x="\n    ".concat(h,"\n    ").concat(y,"\n    float process(int indices[").concat(m,"]) {\n        int a[").concat(_,"];\n        int b[").concat(w,"];\n        bcastMatmulIndices_A(indices, a);\n        bcastMatmulIndices_B(indices, b);\n\n        float value;\n        for (int k=0; k<").concat(s[s.length-1],"; ++k) {\n            a[").concat(_-1,"] = k;\n            b[").concat(w-2,"] = k;\n            value += _A(a) * _B(b);\n        }\n        ").concat(v,"\n        ").concat(g,"\n        return value;\n    }");return Object.assign(Object.assign({},t),{output:{dims:c,type:e[0].type,textureType:o.TextureType.unpacked},shaderSource:x})}(u,t,e)}})}e.matMul=function(t,e,n){return c(e),t.session.pack?[t.run((0,s.createPackedMatmulProgramInfoLoader)(t,e,n),e)]:[t.run(u(e,n),e)]},e.parseMatMulAttributes=function(t){return(0,a.parseInternalActivationAttributes)(t.attributes)},e.createMatmulProgramInfoLoader=u;var c=function(t){if(!t||2!==t.length)throw new Error("MatMul requires 2 inputs.");if(t[0].dims[t[0].dims.length-1]!==t[1].dims[t[1].dims.length-2])throw new Error("shared dimension does not match.");if("float32"!==t[0].type&&"float64"!==t[0].type||"float32"!==t[1].type&&"float64"!==t[1].type)throw new Error("inputs should be float type");if(t[0].type!==t[1].type)throw new Error("inputs types should match")};function l(t,e,n,o,i){var a,s=n.length,u=o.length,c=u-s;a=u<2&&s>0?"coords":n.map((function(t,n){return"coords.".concat(e[n+c])})).join(", ");var l=r.BroadcastUtil.getBroadcastDims(n,o).map((function(t){return"coords.".concat(e[t+c]," = 0;")})).join("\n"),f="vec4(outputValue.xx, outputValue.yy)";return 1===r.ShapeUtil.size(n)&&(f="vec4(outputValue.x)"),i?"\nvec4 getBiasForMatmul() {\n  ".concat(t," coords = getOutputCoords();\n  ").concat(l,"\n  vec4 outputValue = getBias(").concat(a,");\n  return ").concat(f,";\n}"):"\nfloat getBiasForMatmul() {\n  ".concat(t," coords = getOutputCoords();\n  ").concat(l,"\n  return getBias(coords.x);\n}")}e.getBiasForMatmul=l},2403:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createPackProgramInfoLoader=void 0;var r=n(5060),o=n(2039),i=n(9390),a=n(2827),s={name:"pack",inputNames:["A"],inputTypes:[o.TextureType.unpackedReversed]};e.createPackProgramInfoLoader=function(t,e){return Object.assign(Object.assign({},s),{get:function(){return function(t,e){var n,u,c,l,f=(0,r.getGlsl)(t.session.backend.glContext.version),d=e.dims,p=d.length,h=e.dims.length,g=(0,i.getCoordsDataType)(h),b=(0,a.getChannels)("rc",h),v=(n=h,u=b,c=d[d.length-2],l=d[d.length-1],0===n||1===n?"":"\n    int r = ".concat(u[n-2],";\n    int c = ").concat(u[n-1],";\n    int rp1 = ").concat(u[n-2]," + 1;\n    int cp1 = ").concat(u[n-1]," + 1;\n    bool rEdge = rp1 >= ").concat(l,";\n    bool cEdge = cp1 >= ").concat(c,";\n    ")),y=function(t,e,n){if(0===t)return"false";if(1===t)return"rc > ".concat(e[0]);for(var r="",o=t-2;o<t;o++)r+="".concat(n[o]," >= ").concat(e[o-t+2]),o<t-1&&(r+="||");return r}(h,0===p?[1,1]:1===p?[d[0],1]:[d[h-1],d[h-2]],b),m=function(t,e){var n=t.length;if(0===n)return"getA(), 0, 0, 0";if(1===n)return"getA(rc),\n            rc + 1 >= ".concat(t[0]," ? 0. : getA(rc + 1),\n            0, 0");var r="";if(n>2)for(var o=0;o<n-2;++o)r+="".concat(e[o],",");return"getA(".concat(r,"r, c),\n          rEdge ? 0. : getA(").concat(r,"rp1, c),\n          cEdge ? 0. : getA(").concat(r,"r, cp1),\n          rEdge || cEdge ? 0. : getA(").concat(r,"rp1, cp1)")}(d,b),_="\n        void main() {\n          ".concat(g," rc = getOutputCoords();\n\n          if(").concat(y,") {\n            ").concat(f.output," = vec4(0);\n          } else {\n            ").concat(v,"\n\n            ").concat(f.output," = vec4(").concat(m,");\n          }\n        }\n      ");return Object.assign(Object.assign({},s),{hasMain:!0,output:{dims:e.dims,type:e.type,textureType:o.TextureType.packed},shaderSource:_})}(t,e)}})}},2827:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unpackFromChannel=e.getChannels=e.getVecChannels=void 0;var r=n(9390);function o(t,e){return(0,r.getGlChannels)(e).map((function(e){return"".concat(t,".").concat(e)}))}e.getVecChannels=o,e.getChannels=function(t,e){return 1===e?[t]:o(t,e)},e.unpackFromChannel=function(){return"\n    float getChannel(vec4 frag, int dim) {\n      int modCoord = imod(dim, 2);\n      return modCoord == 0 ? frag.r : frag.g;\n    }\n\n    float getChannel(vec4 frag, vec2 innerDims) {\n      vec2 modCoord = mod(innerDims, 2.);\n      return modCoord.x == 0. ?\n        (modCoord.y == 0. ? frag.r : frag.g) :\n        (modCoord.y == 0. ? frag.b : frag.a);\n    }\n  "}},2870:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parsePadAttributesV11=e.padV11=e.parsePadAttributesV2=e.padV2=void 0;var r=n(246),o=n(2517),i=n(5060),a=n(2039),s={name:"Pad",inputNames:["A"],inputTypes:[a.TextureType.unpacked]};e.padV2=function(t,e,n){return l(e),[t.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:function(){return c(t,e[0],n)}}),e)]},e.parsePadAttributesV2=function(t){var e=t.attributes.getString("mode","constant"),n=t.attributes.getFloat("value",0),o=t.attributes.getInts("pads");return(0,r.createAttributeWithCacheKey)({mode:e,value:n,pads:o})},e.padV11=function(t,n,r){f(n);var o=u(t,n,r);return(0,e.padV2)(t,[n[0]],o)},e.parsePadAttributesV11=function(t){return t.attributes.getString("mode","constant")};var u=function(t,e,n){if(!t.session.isInitializer(e[1].dataId)||e.length>=3&&!t.session.isInitializer(e[2].dataId))throw new Error("dynamic pad attributes are not allowed");var o=Array.from(e[1].integerData),i=e.length>=3?e[2].floatData[0]:0;return(0,r.createAttributeWithCacheKey)({mode:n,pads:o,value:i})},c=function(t,e,n){var r=o.ShapeUtil.padShape(e.dims.slice(),n.pads),i=r.length,s="\n      ".concat(d(t,e,n),"\n      float process(int[").concat(i,"] indices) {\n          return padA(indices);\n      }");return{name:"Pad",inputNames:["A"],inputTypes:[a.TextureType.unpacked],output:{dims:r,type:e.type,textureType:a.TextureType.unpacked},shaderSource:s}},l=function(t){if(!t||1!==t.length)throw new Error("Pad requires 1 input");if("float32"!==t[0].type&&"float64"!==t[0].type)throw new Error("Invalid input type.")},f=function(t){if(!t||2!==t.length&&3!==t.length)throw new Error("Pad requires 2 or 3 inputs");if("int32"!==t[1].type)throw new Error("Invalid input type.");if(t.length>=3&&"string"===t[2].type)throw new Error("Invalid input type.")},d=function(t,e,n){var r=(0,i.getGlsl)(t.session.backend.glContext.version),s=t.calculateTextureWidthAndHeight(e.dims,a.TextureType.unpacked),u=_slicedToArray(s,2),c=u[0],l=u[1],f=o.ShapeUtil.computeStrides(e.dims);switch(n.mode){case"constant":return p(r,e.dims,f,c,l,n.pads,n.value);case"reflect":return h(r,e.dims,f,c,l,n.pads);case"edge":return g(r,e.dims,f,c,l,n.pads);default:throw new Error("Invalid mode")}},p=function(t,e,n,r,o,i,a){for(var s=e.length,u="",c=s-1;c>=0;--c)u+="\n        k = m[".concat(c,"] - ").concat(i[c],";\n        if (k < 0)  return constant;\n        if (k >= ").concat(e[c],") return constant;\n        offset += k * ").concat(n[c],";\n        ");return"\n      float padA(int m[".concat(s,"]) {\n        const float constant = float(").concat(a,");\n        int offset = 0;\n        int k = 0;\n        ").concat(u,"\n        vec2 coords = offsetToCoords(offset, ").concat(r,", ").concat(o,");\n        float value = getColorAsFloat(").concat(t.texture2D,"(A, coords));\n        return value;\n      }\n      ")},h=function(t,e,n,r,o,i){for(var a=e.length,s="",u=a-1;u>=0;--u)s+="\n        k = m[".concat(u,"] - ").concat(i[u],";\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = ").concat(2*(e[u]-1),";\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= ").concat(e[u],") { k = _2n_1 - k; }\n        }\n        offset += k * ").concat(n[u],";\n        ");return"\n      float padA(int m[".concat(a,"]) {\n        int offset = 0;\n        int k = 0;\n        ").concat(s,"\n        vec2 coords = offsetToCoords(offset, ").concat(r,", ").concat(o,");\n        float value = getColorAsFloat(").concat(t.texture2D,"(A, coords));\n        return value;\n      }\n      ")},g=function(t,e,n,r,o,i){for(var a=e.length,s="",u=a-1;u>=0;--u)s+="\n        k = m[".concat(u,"] - ").concat(i[u],";\n        if (k < 0)  k = 0;\n        if (k >= ").concat(e[u],") k = ").concat(e[u]-1,";\n        offset += k * ").concat(n[u],";\n      ");return"\n      float padA(int m[".concat(a,"]) {\n        int offset = 0;\n        int k = 0;\n        ").concat(s,"\n        vec2 coords = offsetToCoords(offset, ").concat(r,", ").concat(o,");\n        float value = getColorAsFloat(").concat(t.texture2D,"(A, coords));\n        return value;\n      }\n      ")}},2143:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.globalMaxPool=e.parseMaxPoolAttributes=e.maxPool=e.parseGlobalAveragePoolAttributes=e.globalAveragePool=e.parseAveragePoolAttributes=e.averagePool=void 0;var r=n(246),o=n(2517),i=n(2039);e.averagePool=function(t,e,n){f(e);var r={name:"AveragePool",inputNames:["X"],inputTypes:[i.TextureType.unpacked],cacheHint:n.cacheKey};return[t.run(Object.assign(Object.assign({},r),{get:function(){return a(e,r,!1,n)}}),e)]},e.parseAveragePoolAttributes=function(t){var e=t.attributes.getString("auto_pad","NOTSET"),n=t.attributes.getInt("ceil_mode",0),o=0!==t.attributes.getInt("count_include_pad",0),i=t.attributes.getInts("kernel_shape"),a=t.attributes.getInts("strides",[]),s=t.attributes.getInts("pads",[]);if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,r.createAttributeWithCacheKey)({autoPad:e,ceilMode:n,countIncludePad:o,kernelShape:i,strides:a,pads:s})};var a=function(t,e,n,r){var a=u(t,r,n),s=_slicedToArray(a,2),c=s[0],l=s[1],f=o.ShapeUtil.size(c.kernelShape),p="";c.countIncludePad?p+="value /= float(".concat(f,");"):p+="value /= float(".concat(f," - pad);");var h="\n        ".concat(d(t[0].dims,c,"value += _X(x);",p,"0.0"),"\n      ");return Object.assign(Object.assign({},e),{output:{dims:l,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:h})};e.globalAveragePool=function(t,e,n){f(e);var r={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[i.TextureType.unpacked],cacheHint:"".concat(n.countIncludePad)};return[t.run(Object.assign(Object.assign({},r),{get:function(){return a(e,r,!0,n)}}),e)]},e.parseGlobalAveragePoolAttributes=function(t){var e=0!==t.attributes.getInt("count_include_pad",0);return(0,r.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:e,kernelShape:[],strides:[],pads:[]})},e.maxPool=function(t,e,n){f(e);var r={name:"MaxPool",inputNames:["X"],inputTypes:[i.TextureType.unpacked],cacheHint:n.cacheKey};return[t.run(Object.assign(Object.assign({},r),{get:function(){return s(e,r,!1,n)}}),e)]},e.parseMaxPoolAttributes=function(t){var e=t.attributes.getString("auto_pad","NOTSET"),n=t.attributes.getInt("ceil_mode",0),o=t.attributes.getInts("kernel_shape"),i=t.attributes.getInts("strides",[]),a=t.attributes.getInts("pads",[]),s=t.attributes.getInt("storage_order",0),u=t.attributes.getInts("dilations",[]);if(0!==s)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,r.createAttributeWithCacheKey)({autoPad:e,ceilMode:n,countIncludePad:!1,kernelShape:o,strides:i,pads:a,storageOrder:s,dilations:u})};var s=function(t,e,n,r){var o=u(t,r,n),a=_slicedToArray(o,2),s=a[0],c=a[1],l="\n      ".concat(d(t[0].dims,s,"\n      value = max(_X(x), value);\n    ","","-1e5"),"\n    ");return Object.assign(Object.assign({},e),{output:{dims:c,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:l})},u=function(t,e,n){var r=t[0].dims.slice(),i=Object.hasOwnProperty.call(e,"dilations"),a=e.kernelShape.slice(),s=e.strides.slice(),u=i?e.dilations.slice():[],c=e.pads.slice();o.PoolConvUtil.adjustPoolAttributes(n,r,a,s,u,c);var l=o.PoolConvUtil.computePoolOutputShape(n,r,s,u,a,c,e.autoPad),f=Object.assign({},e);return i?Object.assign(f,{kernelShape:a,strides:s,pads:c,dilations:u,cacheKey:e.cacheKey}):Object.assign(f,{kernelShape:a,strides:s,pads:c,cacheKey:e.cacheKey}),[f,l]},c={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},l={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[i.TextureType.unpacked]};e.globalMaxPool=function(t,e){return f(e),[t.run(Object.assign(Object.assign({},l),{get:function(){return s(e,l,!0,c)}}),e)]};var f=function(t){if(!t||1!==t.length)throw new Error("Pool ops requires 1 input.");if("float32"!==t[0].type&&"float64"!==t[0].type)throw new Error("Invalid input type.")},d=function(t,e,n,r,i){var a=t.length;if(e.kernelShape.length<=2){var s,u=e.kernelShape[e.kernelShape.length-1],c=e.strides[e.strides.length-1],l=e.pads[e.pads.length/2-1],f=e.pads[e.pads.length-1],d=t[a-1],g="",b="";if(s=l+f!==0?"\n          for (int i = 0; i < ".concat(u,"; i++) {\n            x[").concat(a," - 1] = indices[").concat(a," - 1] * ").concat(c," - ").concat(l," + i;\n            if (x[").concat(a," - 1] < 0 || x[").concat(a," - 1] >= ").concat(d,") {\n              pad++;\n              continue;\n            }\n            ").concat(n,"\n          }"):"\n          for (int i = 0; i < ".concat(u,"; i++) {\n            x[").concat(a," - 1] = indices[").concat(a," - 1] * ").concat(c," - ").concat(l," + i;\n            ").concat(n,"\n          }"),2===e.kernelShape.length){var v=e.kernelShape[e.kernelShape.length-2],y=e.strides[e.strides.length-2],m=e.pads[e.pads.length/2-2],_=e.pads[e.pads.length-2],w=t[a-2];g=m+_!==0?"\n            for (int j = 0; j < ".concat(v,"; j++) {\n              x[").concat(a," - 2] = indices[").concat(a," - 2] * ").concat(y," - ").concat(m," + j;\n              if (x[").concat(a," - 2] < 0 || x[").concat(a," - 2] >= ").concat(w,") {\n                pad+= ").concat(u,";\n                continue;\n              }\n          "):"\n            for (int j = 0; j < ".concat(v,"; j++) {\n              x[").concat(a," - 2] = indices[").concat(a," - 2] * ").concat(y," - ").concat(m," + j;\n            "),b="\n          }\n        "}return"\n        float process(int indices[".concat(a,"]) {\n          int x[").concat(a,"];\n          copyVec(indices, x);\n\n          float value = ").concat(i,";\n          int pad = 0;\n          ").concat(g,"\n          ").concat(s,"\n          ").concat(b,"\n          ").concat(r,"\n          return value;\n        }\n      ")}var x,T=o.ShapeUtil.size(e.kernelShape),k=o.ShapeUtil.computeStrides(e.kernelShape),S=k.length,O=e.pads.length,A=h(S),E=p(t,"inputDims"),I=p(e.pads,"pads"),P=p(k,"kernelStrides"),D=p(e.strides,"strides");return x=e.pads.reduce((function(t,e){return t+e}))?"\n            if (x[j] >= inputDims[j] || x[j] < 0) {\n              pad++;\n              isPad = true;\n              break;\n            }\n          }\n          if (!isPad) {\n            ".concat(n,"\n          }"):"\n          }\n          ".concat(n,"\n        "),"\n        ".concat(A,"\n        float process(int indices[").concat(a,"]) {\n          int x[").concat(a,"];\n          copyVec(indices, x);\n          int offset[").concat(S,"];\n          int pads[").concat(O,"];\n          int inputDims[").concat(a,"];\n          int kernelStrides[").concat(S,"];\n          int strides[").concat(S,"];\n          ").concat(I,"\n          ").concat(E,"\n          ").concat(D,"\n          ").concat(P,"\n\n          float value = ").concat(i,";\n          int pad = 0;\n          bool isPad = false;\n          for (int i = 0; i < ").concat(T,"; i++) {\n            offsetToIndices(i, kernelStrides, offset);\n            isPad = false;\n            for (int j = ").concat(a," - ").concat(S,"; j < ").concat(a,"; j++) {\n              x[j] = indices[j] * strides[j - ").concat(a," + ").concat(S,"]\n                + offset[j - ").concat(a," + ").concat(S,"] - pads[j - 2];\n              ").concat(x,"\n          }\n          ").concat(r,"\n\n          return value;\n        }\n      ")},p=function(t,e){for(var n="",r=0;r<t.length;r++)n+="\n      ".concat(e,"[").concat(r,"] = ").concat(t[r],";\n    ");return n},h=function(t){return"\n  void offsetToIndices(int offset, int[".concat(t,"] strides, out int[").concat(t,"] indices) {\n    if (").concat(t," == 0) {\n      return;\n    }\n    for (int i = 0; i < ").concat(t," - 1; ++i) {\n      indices[i] = offset / strides[i];\n      offset -= indices[i] * strides[i];\n    }\n    indices[").concat(t," - 1] = offset;\n  }")}},4939:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reduceLogSumSquare=e.reduceLogSum=e.reduceProd=e.reduceMin=e.reduceMax=e.reduceMean=e.reduceSum=e.parseReduceAttributes=void 0;var r=n(246),o=n(782),i=n(2517),a=n(2039),s=function(t,e,n,r,o){c(e);var i={name:r,inputNames:["A"],inputTypes:[a.TextureType.unpacked]};return[t.run(Object.assign(Object.assign({},i),{cacheHint:n.cacheKey,get:function(){return u(t,e,n,r,o,i)}}),e)]};e.parseReduceAttributes=function(t){var e=t.attributes.getInts("axes",[]),n=1===t.attributes.getInt("keepdims",1);return(0,r.createAttributeWithCacheKey)({axes:e,keepDims:n})};var u=function(t,e,n,r,o,s){for(var u=[],c=e[0].dims.length||1,l=[],f=i.ShapeUtil.normalizeAxes(n.axes,e[0].dims.length),d=o(e,f),p=d[1],h=0;h<e[0].dims.length;h++)f.indexOf(h)>=0||0===f.length?(n.keepDims&&u.push(1),p="\n          for(int j".concat(h," = 0; j").concat(h," < ").concat(e[0].dims[h],"; j").concat(h,"++) {\n            inputIdx[").concat(h,"] = j").concat(h,";\n            ").concat(p,"\n          }")):(l.push("inputIdx[".concat(h,"] = outputIdx[").concat(u.length,"];")),u.push(e[0].dims[h]));var g="\n      float process(int outputIdx[".concat(u.length||1,"]) {\n        float value;                 // final result\n        int inputIdx[").concat(c,"];      // addressing input data\n        ").concat(l.join("\n"),"\n        ").concat(d[0],"       // init ops for reduce max/min\n        ").concat(p,"\n        ").concat(d[2],"       // final computation for reduce mean\n        return value;\n      }");return Object.assign(Object.assign({},s),{output:{dims:u,type:e[0].type,textureType:a.TextureType.unpacked},shaderSource:g})},c=function(t){if(!t||1!==t.length)throw new Error("Reduce op requires 1 input.");if(-1===o.NUMBER_TYPES.indexOf(t[0].type))throw new Error("Invalid input type.")};e.reduceSum=function(t,e,n){return s(t,e,n,"ReduceSum",(function(){return["value = 0.0;","value += _A(inputIdx);",""]}))},e.reduceMean=function(t,e,n){return s(t,e,n,"ReduceMean",(function(t,e){for(var n=1,r=0;r<t[0].dims.length;r++)(e.indexOf(r)>=0||0===e.length)&&(n*=t[0].dims[r]);return["value = 0.0;","value += _A(inputIdx);","value /= ".concat(n,".;")]}))},e.reduceMax=function(t,e,n){return s(t,e,n,"ReduceMax",(function(t,e){for(var n=[],r=0;r<t[0].dims.length;r++)(e.indexOf(r)>=0||0===e.length)&&n.push("inputIdx[".concat(r,"] = 0;"));return["".concat(n.join("\n"),"\nvalue = _A(inputIdx);"),"value = max(value, _A(inputIdx));",""]}))},e.reduceMin=function(t,e,n){return s(t,e,n,"ReduceMin",(function(t,e){for(var n=[],r=0;r<t[0].dims.length;r++)(e.indexOf(r)>=0||0===e.length)&&n.push("inputIdx[".concat(r,"] = 0;"));return["".concat(n.join("\n"),"\nvalue = _A(inputIdx);"),"value = min(value, _A(inputIdx));",""]}))},e.reduceProd=function(t,e,n){return s(t,e,n,"ReduceProd",(function(){return["value = 1.0;","value *= _A(inputIdx);",""]}))},e.reduceLogSum=function(t,e,n){return s(t,e,n,"ReduceLogSum",(function(){return["value = 0.0;","value += _A(inputIdx);","value = log(value);"]}))},e.reduceLogSumSquare=function(t,e,n){return s(t,e,n,"ReduceLogSumSquare",(function(){return["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""]}))}},7019:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isReshapeCheap=e.processDims3D=e.createPackedReshape3DProgramInfoLoader=void 0;var r=n(2517),o=n(5060),i=n(2039),a=n(2827);e.createPackedReshape3DProgramInfoLoader=function(t,e,n){var s=function(t){return{name:"Reshape (packed)",inputTypes:[i.TextureType.packed],inputNames:["A"],cacheHint:"".concat(t)}}(n);return Object.assign(Object.assign({},s),{get:function(){return function(t,e,n,s){for(var u=e.dims,c=s,l="",f=0;f<4;f++){var d="";switch(f){case 0:d="outputCoords = rc;";break;case 1:d="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:d="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:d="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}l+="\n        ".concat(d,"\n        ").concat(f>0?"if(outputCoords.y < rows && outputCoords.z < cols){":"","\n          int flattenedIndex = getFlattenedIndex(outputCoords);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);\n          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(f,"] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);\n\n        ").concat(f>0?"}":"","\n      ")}var p=(0,o.getGlsl)(t.session.backend.glContext.version),h="\n      ".concat(function(t){var e=r.ShapeUtil.computeStrides(t),n=["b","r","c"],o="index";return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(e.map((function(t,r){return"int ".concat(n[r]," = ").concat(o," / ").concat(t,"; ").concat(r===e.length-1?"int ".concat(n[r+1]," = ").concat(o," - ").concat(n[r]," * ").concat(t):"index -= ".concat(n[r]," * ").concat(t),";")})).join(""),"\n      return ivec3(b, r, c);\n    }\n  ")}(u),"\n      ").concat(function(t){var e=r.ShapeUtil.computeStrides(t);return"\n  int getFlattenedIndex(ivec3 coords) {\n    // reverse y, z order\n    return coords.x * ".concat(e[0]," + coords.z * ").concat(e[1]," + coords.y;\n  }\n")}(c),"\n      ").concat((0,a.unpackFromChannel)(),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.0);\n\n        ivec3 outputCoords;\n        int rows = ").concat(c[2],";\n        int cols = ").concat(c[1],";\n\n        ").concat(l,"\n        ").concat(p.output," = result;\n      }\n    ");return Object.assign(Object.assign({},n),{output:{dims:c,type:e.type,textureType:i.TextureType.packed},shaderSource:h,hasMain:!0})}(t,e,s,n)}})},e.processDims3D=function(t){if(0===t.length)return[1,1,1];for(var e=1,n=0;n<t.length-2;++n)e*=t[n];return[e,t.length>1?t[t.length-2]:1,t[t.length-1]]},e.isReshapeCheap=function(t,e){return 0===t.length||0===e.length||(t.length<2||e.length<2?t[t.length-1]===e[e.length-1]:t[t.length-1]===e[e.length-1]&&t[t.length-2]===e[e.length-2])}},718:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reshape=void 0;var r=n(2517);e.reshape=function(t,e){var n=r.ShapeUtil.calculateReshapedDims(e[0].dims,e[1].integerData);return t.session.pack?[t.reshapePacked(e[0],n)]:[t.reshapeUnpacked(e[0],n)]}},2268:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseResizeAttributesV11=e.parseResizeAttributesV10=e.resize=void 0;var r=n(5060),o=n(2039),i=n(9390),a=n(2827),s=n(9793),u={name:"Resize",inputNames:["A"],inputTypes:[o.TextureType.packed]};e.resize=function(t,e,n){return(0,s.validateInputs)(e,n),[t.run(Object.assign(Object.assign({},u),{cacheHint:n.cacheKey,get:function(){return c(t,e,n)}}),e)]},e.parseResizeAttributesV10=function(t){return(0,s.parseUpsampleAttributes)(t,10)},e.parseResizeAttributesV11=function(t){return(0,s.parseUpsampleAttributes)(t,11)};var c=function(t,e,n){var s=(0,r.getGlsl)(t.session.backend.glContext.version),c=l(e,n),f=_slicedToArray(c,2),d=f[0],p=f[1];if(d.every((function(t){return 1===t}))&&"tf_crop_and_resize"!==n.coordinateTransformMode)return Object.assign(Object.assign({},u),{output:{dims:p,type:e[0].type,textureType:o.TextureType.packed},hasMain:!0,shaderSource:"void main() {\n                    vec4 v = ".concat(s.texture2D,"(X, TexCoords);\n                    ").concat(s.output," = v;\n                }")});var h=p.length;if(h<2)throw new Error("output dimension should be at least 2, but got ".concat(h));var g=p[h-2],b=p[h-1],v=e[0].dims;if(h!==v.length)throw new Error("output dimension should match input ".concat(v.length,", but got ").concat(h));var y=v[h-2],m=v[h-1],_=d[h-2],w=d[h-1],x="";if("linear"!==n.mode)throw new Error("resize (packed) does not support mode: '".concat(n.mode,"'"));switch(n.coordinateTransformMode){case"asymmetric":x="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return vec4(coords) / scaleWHWH;\n                    }\n                ";break;case"half_pixel":x="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;\n                    }\n                ";break;case"pytorch_half_pixel":x="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 fcoords = vec4(coords);\n                        return vec4(\n                            ".concat(b,".0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,\n                            ").concat(g,".0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,\n                            ").concat(b,".0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,\n                            ").concat(g,".0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0\n                          );\n                    }\n                ");break;case"align_corners":x="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 resized = vec4(".concat(b,".0 - 1.0, ").concat(g,".0 - 1.0, ").concat(b,".0 - 1.0,\n                            ").concat(g,".0 - 1.0);\n                        vec4 original = vec4(").concat(m,".0 - 1.0, ").concat(y,".0 - 1.0, ").concat(m,".0 - 1.0,\n                            ").concat(y,".0 - 1.0);\n                        vec4 new_scale = original / resized;\n                        return vec4(coords) * new_scale;\n                    }\n                ");break;default:throw new Error("resize (packed) does not support coordinateTransformMode:                                 '".concat(n.coordinateTransformMode,"'"))}var T=(0,i.getCoordsDataType)(h),k="\n            const vec2 inputWH = vec2(".concat(y,".0, ").concat(m,".0);\n            const vec4 scaleWHWH = vec4(float(").concat(_,"), float(").concat(w,"), float(").concat(_,"), float(").concat(w,"));\n            ").concat((0,a.unpackFromChannel)(),"\n            ").concat(x,"\n            float getAValue(int x10, int r, int c, int d) {\n                return getChannel(getA(x10, r, c, d), vec2(c, d));\n            }\n            void main() {\n                ").concat(T," rc = getOutputCoords();\n\n                int batch = rc[0];\n                int depth = rc[1];\n\n                // retrieve the 4 coordinates that is used in the 4 packed output values.\n                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);\n\n                // calculate the source index in fraction\n                vec4 sourceFrac = getSourceFracIndex(coords);\n\n                // get the lower and upper bound of the 4 values that will be packed into one texel.\n                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));\n                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));\n                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));\n                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));\n\n                bool hasNextRow = rc.w < ").concat(g-1,";\n                bool hasNextCol = rc.z < ").concat(b-1,";\n\n                // pack x00, x01, x10, x11's top-left corner into one vec4 structure\n                vec4 topLeft = vec4(\n                    getAValue(batch, depth, x00.x, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's top-right corner into one vec4 structure\n                vec4 topRight = vec4(\n                    getAValue(batch, depth, x00.x, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure\n                vec4 bottomLeft = vec4(\n                    getAValue(batch, depth, x00.z, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure\n                vec4 bottomRight = vec4(\n                    getAValue(batch, depth, x00.z, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);\n\n                // calculate the interpolation fraction on u and v direction\n                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);\n                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));\n\n                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);\n                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);\n                vec4 newValue = mix(top, bottom, clampFrac.xxzz);\n\n                ").concat(s.output," = vec4(newValue);\n            }\n        ");return Object.assign(Object.assign({},u),{output:{dims:p,type:e[0].type,textureType:o.TextureType.packed},hasMain:!0,shaderSource:k})},l=function(t,e){var n,r=t[0].dims,o=e.scales;if(0===o.length){var i=t[e.scalesInputIdx];if(i&&0!==i.size){if(t[e.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");o=f(i,e.mode,e.isResize)}else{var a=t[e.sizesInputIdx];if(!a||0===a.size)throw new Error("Either scales or sizes MUST be provided as input.");n=Array.from(a.integerData),o=d(n,r,e.mode,e.isResize)}}else if(t[e.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");var s=n||r.map((function(t,e){return Math.floor(t*o[e])}));return[o,s]},f=function(t,e,n){var r=Array.from(t.floatData);return(0,s.scalesValidation)(r,e,n),r},d=function(t,e,n,r){for(var o=e.length,i=new Array(o),a=0,u=o;a<u;a++)if(0===e[a]){if(0!==t[a])throw new Error("Input dim is zero but required output dim is non-zero.");i[a]=1}else i[a]=t[a]/e[a];return(0,s.scalesValidation)(i,n,r),i}},8117:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shape=void 0;var r=n(9162);e.shape=function(t,e){return o(e),[new r.Tensor([e[0].dims.length],"int32",void 0,void 0,new Int32Array(e[0].dims))]};var o=function(t){if(!t||1!==t.length)throw new Error("Shape requires 1 input.")}},2278:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sliceV10=e.parseSliceAttributes=e.slice=void 0;var r=n(246),o=n(782),i=n(2517),a=n(2039),s={name:"Slice",inputNames:["A"],inputTypes:[a.TextureType.unpacked]};e.slice=function(t,e,n){return c(e),[t.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:function(){return u(t,e[0],n)}}),e)]},e.parseSliceAttributes=function(t){var e=t.attributes.getInts("starts"),n=t.attributes.getInts("ends"),o=t.attributes.getInts("axes",[]);return(0,r.createAttributeWithCacheKey)({starts:e,ends:n,axes:o})};var u=function(t,e,n){for(var r=0===n.axes.length?e.dims.slice(0).map((function(t,e){return e})):n.axes,o=i.ShapeUtil.normalizeAxes(r,e.dims.length),u=n.starts.map((function(t,n){return t>e.dims[o[n]]-1?e.dims[o[n]]:i.ShapeUtil.normalizeAxis(t,e.dims[o[n]])})),c=n.ends.map((function(t,n){return t>e.dims[o[n]]-1?e.dims[o[n]]:i.ShapeUtil.normalizeAxis(t,e.dims[o[n]])})),l=e.dims.slice(),f=[],d=0;d<o.length;d++)l[o[d]]=c[d]-u[d],u[d]>0&&f.push("outputIdx[".concat(o[d],"] += ").concat(u[d],";"));var p="\n      float process(int outputIdx[".concat(l.length,"]) {\n        ").concat(f.join("\n      "),"\n        return _A(outputIdx);\n      }");return Object.assign(Object.assign({},s),{output:{dims:l,type:e.type,textureType:a.TextureType.unpacked},shaderSource:p})},c=function(t){if(!t||1!==t.length)throw new Error("Slice requires 1 input.");if(-1===o.NUMBER_TYPES.indexOf(t[0].type))throw new Error("Invalid input type.")};e.sliceV10=function(t,e){f(e);var n=l(t,e);return[t.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:function(){return u(t,e[0],n)}}),[e[0]])]};var l=function(t,e){if(!t.session.isInitializer(e[1].dataId)||!t.session.isInitializer(e[2].dataId)||e.length>=4&&!t.session.isInitializer(e[3].dataId)||e.length>=5&&!t.session.isInitializer(e[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(e.length>=5&&e[4].integerData.some((function(t){return 1!==t})))throw new Error("currently non-1 steps is not supported for Slice");var n=Array.from(e[1].integerData),r=Array.from(e[2].integerData),o=e.length>=4?Array.from(e[3].integerData):[];return{starts:n,ends:r,axes:o,cacheKey:"".concat(o,";").concat(n,";").concat(r)}},f=function(t){if(!t||t.length<3||t.length>5)throw new Error("Invalid input number.");if("int32"!==t[1].type||1!==t[1].dims.length)throw new Error("Invalid input type.");if("int32"!==t[2].type||1!==t[2].dims.length)throw new Error("Invalid input type.");if(t.length>=4&&("int32"!==t[3].type||1!==t[3].dims.length))throw new Error("Invalid input type.");if(t.length>=5&&("int32"!==t[4].type||1!==t[4].dims.length))throw new Error("Invalid input type.")}},5524:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.softmaxV13=e.parseSoftmaxAttributesV13=e.parseSoftmaxAttributes=e.softmax=void 0;var r=n(246),o=n(2517),i=n(5060),a=n(2039),s=n(3738),u={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[a.TextureType.unpacked]},c={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[a.TextureType.unpacked,a.TextureType.unpacked]},l={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked]};e.softmax=function(t,e,n){g(e);var r=e[0].dims.slice(),i=o.ShapeUtil.normalizeAxis(n.axis,r.length),a=o.ShapeUtil.sizeToDimension(r,i),s=o.ShapeUtil.sizeFromDimension(r,i);return f(t,e,n,a,s)},e.parseSoftmaxAttributes=function(t){return(0,r.createAttributeWithCacheKey)({axis:t.attributes.getInt("axis",1)})},e.parseSoftmaxAttributesV13=function(t){return(0,r.createAttributeWithCacheKey)({axis:t.attributes.getInt("axis",-1)})},e.softmaxV13=function(t,e,n){g(e);var i,a=e[0].dims.slice(),u=o.ShapeUtil.normalizeAxis(n.axis,a.length),c=a.length,l=u!==c-1,d=[],p=[],h=[];l&&(p=Array.from({length:c}).map((function(t,e){return e})),p[u]=c-1,p[c-1]=u,p.map((function(t){return d.push(a[t])})),i=(0,r.createAttributeWithCacheKey)({perm:p}),h=(0,s.transpose)(t,e,i));var b=l?o.ShapeUtil.sizeToDimension(d,c-1):o.ShapeUtil.sizeToDimension(a,c-1),v=l?o.ShapeUtil.sizeFromDimension(d,c-1):o.ShapeUtil.sizeFromDimension(a,c-1),y=f(t,l?h:e,n,b,v);return l?(0,s.transpose)(t,y,i):y};var f=function(t,e,n,r,o){var i=d(t,e[0],r,o,[r]),a=t.run(Object.assign(Object.assign({},u),{cacheHint:n.cacheKey,get:function(){return i}}),e),s=p(t,e[0],r,o,i.output.dims,[r]),f=t.run(Object.assign(Object.assign({},c),{cacheHint:n.cacheKey,get:function(){return s}}),[e[0],a]),g=h(t,e[0],r,o,i.output.dims,s.output.dims);return[t.run(Object.assign(Object.assign({},l),{cacheHint:n.cacheKey,get:function(){return g}}),[e[0],a,f])]},d=function(t,e,n,r,o){var s=t.calculateTextureWidthAndHeight(e.dims,a.TextureType.unpacked),c=_slicedToArray(s,2),l=c[0],f=c[1],d=o.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==o.length)throw new Error("Dimensionality of the output should be 1");if(o[0]!==n)throw new Error("Shape of the output should be equal to logical row count");var p=(0,i.getGlsl)(t.session.backend.glContext.version),h="\n      float process(int[".concat(d,"] indices) {\n        int logical_row_start_offset = indices[0] * ").concat(r,";\n\n        float max = getColorAsFloat(").concat(p.texture2D,"(A, offsetToCoords(logical_row_start_offset, ").concat(l,",\n        ").concat(f," )));\n        for(int i=1; i<").concat(r,"; ++i)\n        {\n          float current = getColorAsFloat(").concat(p.texture2D,"(A, offsetToCoords(logical_row_start_offset + i,\n            ").concat(l,", ").concat(f,")));\n          if(current > max)\n          max = current;\n        }\n\n        return max;\n      }");return Object.assign(Object.assign({},u),{output:{dims:o,type:e.type,textureType:a.TextureType.unpacked},shaderSource:h})},p=function(t,e,n,r,o,s){var u=t.calculateTextureWidthAndHeight(e.dims,a.TextureType.unpacked),l=_slicedToArray(u,2),f=l[0],d=l[1],p=s.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==s.length)throw new Error("Dimensionality of the output should be 1");if(s[0]!==n)throw new Error("Shape of the output should be equal to logical row count");if(1!==o.length)throw new Error("Dimensionality of the intermediate results should be 1");if(o[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");var h="\n      float process(int[".concat(p,"] indices) {\n        int logical_row_start_offset = indices[0] * ").concat(r,";\n\n        float norm_factor = 0.0;\n        float max = _Max(indices);\n        for(int i=0; i<").concat(r,"; ++i)\n        {\n          norm_factor += exp(getColorAsFloat(").concat((0,i.getGlsl)(t.session.backend.glContext.version).texture2D,"(A, offsetToCoords(logical_row_start_offset + i,\n            ").concat(f,", ").concat(d,"))) - max);\n        }\n\n        return norm_factor;\n      }");return Object.assign(Object.assign({},c),{output:{dims:s,type:e.type,textureType:a.TextureType.unpacked},shaderSource:h})},h=function(t,e,n,r,o,i){var s=t.calculateTextureWidthAndHeight(e.dims,a.TextureType.unpacked),u=_slicedToArray(s,2),c=u[0],f=u[1],d=e.dims.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==o.length||1!==i.length)throw new Error("Dimensionality of the intermediate results should be 1");if(o[0]!==n||i[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");var p="\n      float process(int[".concat(d,"] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, ").concat(c,", ").concat(f,");\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / ").concat(r,";\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }");return Object.assign(Object.assign({},l),{output:{dims:e.dims,type:e.type,textureType:a.TextureType.unpacked},shaderSource:p})},g=function(t){if(!t||1!==t.length)throw new Error("Softmax requires 1 input.");if("float32"!==t[0].type&&"float64"!==t[0].type)throw new Error("Invalid input type")}},5975:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseSplitAttributes=e.split=void 0;var r=n(246),o=n(2517),i=n(2039),a={name:"Split",inputNames:["A"],inputTypes:[i.TextureType.unpacked]};e.split=function(t,e,n){c(e);for(var r=o.ShapeUtil.normalizeAxis(n.axis,e[0].dims.length),i=s(t,e,r,n),l=[],f=function(o){l.push(t.run(Object.assign(Object.assign({},a),{cacheHint:"".concat(n.cacheKey,";").concat(o),get:function(){return u(t,e[0],n,r,o)}}),e))},d=0;d<i;++d)f(d);return l},e.parseSplitAttributes=function(t){var e=t.attributes.getInt("axis",0),n=t.attributes.getInts("split",[]),o=t.outputs.length;return(0,r.createAttributeWithCacheKey)({axis:e,split:n,numOutputs:o})};var s=function(t,e,n,r){var i=o.SplitUtil.splitShape(e[0].dims,n,r.split,r.numOutputs);return _slicedToArray(i,2)[1].length},u=function(t,e,n,r,s){var u=o.SplitUtil.splitShape(e.dims,r,n.split,n.numOutputs),c=_slicedToArray(u,2),l=c[0],f=c[1][s],d=l[s],p="\n      float process(int indices[".concat(d.length,"]) {\n        indices[").concat(r,"] += ").concat(f,";\n        return _A(indices);\n      }\n    ");return Object.assign(Object.assign({},a),{cacheHint:"".concat(n.cacheKey,":").concat(s),output:{dims:d,type:e.type,textureType:i.TextureType.unpacked},shaderSource:p})},c=function(t){if(!t||1!==t.length)throw new Error("Split requires one input.");if("int8"!==t[0].type&&"uint8"!==t[0].type&&"int16"!==t[0].type&&"uint16"!==t[0].type&&"int32"!==t[0].type&&"uint32"!==t[0].type&&"float32"!==t[0].type&&"float64"!==t[0].type&&"bool"!==t[0].type)throw new Error("Invalid input type.")}},3933:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseSqueezeAttributes=e.squeezeV13=e.squeeze=void 0;var r=n(2517);e.squeeze=function(t,e,n){o(e);var i=r.ShapeUtil.squeezeShape(e[0].dims,n);return[t.reshapeUnpacked(e[0],i)]},e.squeezeV13=function(t,n){return i(n),(0,e.squeeze)(t,[n[0]],Array.from(n[1].integerData))},e.parseSqueezeAttributes=function(t){return t.attributes.getInts("axes")};var o=function(t){if(!t||1!==t.length)throw new Error("Squeeze requires 1 input.");if("string"===t[0].type)throw new Error("invalid input tensor types.")},i=function(t){if(!t||2!==t.length)throw new Error("Squeeze requires 2 inputs.");if("int32"!==t[1].type)throw new Error("Invalid input type.")}},6558:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sum=void 0;var r=n(5060),o=n(2039);e.sum=function(t,e){a(e);var n={name:"Sum",inputNames:e.map((function(t,e){return"X".concat(e)})),inputTypes:new Array(e.length).fill(o.TextureType.unpacked)};return[t.run(Object.assign(Object.assign({},n),{get:function(){return i(t,e,n)}}),e)]};var i=function(t,e,n){var i=(0,r.getGlsl)(t.session.backend.glContext.version),a=e[0].dims.slice(),s="\n      void main() {\n        vec4 result = ".concat(e.map((function(t,e){return"".concat(i.texture2D,"(X").concat(e,",TexCoords)")})).join(" + "),";\n        ").concat(i.output," = result;\n      }\n    ");return Object.assign(Object.assign({},n),{output:{dims:a,type:e[0].type,textureType:o.TextureType.unpacked},hasMain:!0,shaderSource:s})},a=function(t){if(!t||0===t.length)throw new Error("Sum requires inputs.");for(var e=t[0].dims.length,n=1;n<t.length;n++){if(e!==t[n].dims.length)throw new Error("Input shapes are mismatched.");for(var r=0;r<e;r++)if(t[0].dims[r]!==t[n].dims[r])throw new Error("Input shapes are not matched.")}if("float32"!==t[0].type&&"float64"!==t[0].type)throw new Error("Invalid input type.");for(var o=1;o<t.length;o++)if(t[0].type!==t[o].type)throw new Error("Input types are not matched.")}},5723:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tile=void 0;var r=n(782),o=n(2039);e.tile=function(t,e){a(e);var n={name:"Tile",inputNames:["A"],inputTypes:[o.TextureType.unpacked]};return[t.run(Object.assign(Object.assign({},n),{get:function(){return i(t,e,n)}}),e)]};var i=function(t,e,n){for(var r=e[0].dims.slice(),i=new Array(r.length),a=[],s=0;s<r.length;s++)i[s]=r[s]*e[1].numberData[s],a.push("inputIdx[".concat(s,"] = int(mod(float(outputIdx[").concat(s,"]), ").concat(r[s],".));"));var u=i.length,c="\n      float process(int outputIdx[".concat(u,"]) {\n        int inputIdx[").concat(u,"];\n        ").concat(a.join("\n"),"\n        return _A(inputIdx);\n      }\n    ");return Object.assign(Object.assign({},n),{output:{dims:i,type:e[0].type,textureType:o.TextureType.unpacked},shaderSource:c})},a=function(t){if(!t||2!==t.length)throw new Error("Tile requires 2 input.");if(1!==t[1].dims.length)throw new Error("The second input shape must 1 dimension.");if(t[1].dims[0]!==t[0].dims.length)throw new Error("Invalid input shape.");if(-1===r.NUMBER_TYPES.indexOf(t[0].type))throw new Error("Invalid input type.");if("int32"!==t[1].type&&"int16"!==t[1].type)throw new Error("Invalid repeat type.")}},3738:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseTransposeAttributes=e.transpose=void 0;var r=n(246),o=n(2517),i=n(2039),a={name:"Transpose",inputNames:["A"],inputTypes:[i.TextureType.unpacked]};e.transpose=function(t,e,n){return f(e),[t.run(Object.assign(Object.assign({},a),{cacheHint:n.cacheKey,get:function(){return s(t,e[0],n.perm)}}),e)]},e.parseTransposeAttributes=function(t){return(0,r.createAttributeWithCacheKey)({perm:t.attributes.getInts("perm",[])})};var s=function(t,e,n){var r=e.dims;n=u(r,n);var o=c(r,n),s=r.length,f="\n      ".concat(l("perm",n,s),"\n      float process(int indices[").concat(s,"]) {\n        int a[").concat(s,"];\n        perm(a, indices);\n        return _A(a);\n      }");return Object.assign(Object.assign({},a),{output:{dims:o,type:e.type,textureType:i.TextureType.unpacked},shaderSource:f})},u=function(t,e){return e&&e.length!==t.length&&(e=_toConsumableArray(t.keys()).reverse()),e},c=function(t,e){return e=u(t,e),o.ShapeUtil.sortBasedOnPerm(t,e)},l=function(t,e,n){var r=[];r.push("void ".concat(t,"(out int a[").concat(n,"], int src[").concat(n,"]) {"));for(var o=0;o<n;++o)r.push("\ta[".concat(e[o],"]=src[").concat(o,"];"));return r.push("\t}"),r.join("\n")},f=function(t){if(!t||1!==t.length)throw new Error("Transpose requires 1 input.");if("float32"!==t[0].type&&"float64"!==t[0].type)throw new Error("input should be float tensor")}},8710:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeAsUint8=void 0;var r=n(5060),o=n(2039);e.encodeAsUint8=function(t,e){var n=e.shape,i=(0,r.getGlsl)(t.session.backend.glContext.version),a="\n    const float FLOAT_MAX = 1.70141184e38;\n    const float FLOAT_MIN = 1.17549435e-38;\n\n    bool isNaN(float val) {\n      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n    }\n\n    highp vec4 encodeAsUint8(highp float v) {\n      if (isNaN(v)) {\n        return vec4(255, 255, 255, 255);\n      }\n\n      highp float av = abs(v);\n\n      if(av < FLOAT_MIN) {\n        return vec4(0.0, 0.0, 0.0, 0.0);\n      } else if(v > FLOAT_MAX) {\n        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n      } else if(v < -FLOAT_MAX) {\n        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n      }\n\n      highp vec4 c = vec4(0,0,0,0);\n\n      highp float e = floor(log2(av));\n      highp float m = exp2(fract(log2(av))) - 1.0;\n\n      c[2] = floor(128.0 * m);\n      m -= c[2] / 128.0;\n      c[1] = floor(32768.0 * m);\n      m -= c[1] / 32768.0;\n      c[0] = floor(8388608.0 * m);\n\n      highp float ebias = e + 127.0;\n      c[3] = floor(ebias / 2.0);\n      ebias -= c[3] * 2.0;\n      c[2] += floor(ebias) * 128.0;\n\n      c[3] += 128.0 * step(0.0, -v);\n\n      return c / 255.0;\n    }\n\n    void main() {\n      float value = ".concat(i.texture2D,"(X,TexCoords).r;\n      ").concat(i.output," = encodeAsUint8(value);\n    }"),s={name:"Uint8Encode",inputTypes:[o.TextureType.unpacked],inputNames:["X"],output:{dims:n,type:e.tensor.type,textureType:o.TextureType.downloadUint8AsFloat},shaderSource:a,hasMain:!0};return t.executeProgram(s,[e.tensor])}},4909:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tanh=e.tan=e.sqrt=e.sin=e.sigmoid=e.relu=e.not=e.neg=e.log=e.parseLeakyReluAttributes=e.leakyRelu=e.identity=e.floor=e.exp=e.parseEluAttributes=e.elu=e.cos=e.ceil=e.clipV11=e.parseClipAttributes=e.clip=e.atan=e.asin=e.acos=e.abs=e.glslTanh=e.glslTan=e.glslSqrt=e.glslSigmoid=e.glslRelu=e.glslSin=e.glslNot=e.glslNeg=e.glslLog=e.glslLeakyRelu=e.glslIdentity=e.glslClip=e.glslFloor=e.glslExp=e.glslElu=e.glslCos=e.glslCeil=e.glslAtan=e.glslAsin=e.glslAcos=e.glslAbs=void 0;var r=n(246),o=n(2517),i=n(8520),a=n(5060),s=n(2039);function u(){return I("abs")}function c(){return I("acos")}function l(){return I("asin")}function f(){return I("atan")}function d(){return I("ceil")}function p(){return I("cos")}function h(t){var e="elu";return{body:"\n  const float alpha = float(".concat(t,");\n\n  float ").concat(e,"_(float a) {\n    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return vec4(").concat(e,"_(v.x), ").concat(e,"_(v.y), ").concat(e,"_(v.z), ").concat(e,"_(v.w));\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function g(){return I("exp")}function b(){return I("floor")}function v(t,e){var n="clip";return{body:"\n  const float min = float(".concat(t,");\n  const float max = float(").concat(e,");\n\n  float ").concat(n,"_(float a) {\n    return clamp(a, min, max);\n  }\n  vec4 ").concat(n,"_(vec4 v) {\n    return clamp(v, min, max);\n  }\n  "),name:n,type:i.FunctionType.ValueBased}}function y(){var t="indentity";return{body:"\n  float ".concat(t,"_(float a) {\n    return a;\n  }\n  vec4 ").concat(t,"_(vec4 v) {\n    return v;\n  }\n  "),name:t,type:i.FunctionType.ValueBased}}function m(t){var e="leakyRelu";return{body:"\n  const float alpha = float(".concat(t,");\n\n  float ").concat(e,"_(float a) {\n    return a < 0.0 ? a * alpha : a;\n  }\n  vec4 ").concat(e,"_(vec4 v) {\n    return vec4(").concat(e,"_(v.x), ").concat(e,"_(v.y), ").concat(e,"_(v.z), ").concat(e,"_(v.w));\n  }\n  "),name:e,type:i.FunctionType.ValueBased}}function _(){return I("log")}function w(){var t="neg";return{body:"\n  float ".concat(t,"_(float a) {\n    return -a;\n  }\n  vec4 ").concat(t,"_(vec4 v) {\n    return -v;\n  }\n  "),name:t,type:i.FunctionType.ValueBased}}function x(){var t="not";return{body:"\n  float ".concat(t,"_(float a) {\n    return float( ! bool(a) );\n  }\n  bool ").concat(t,"_(bool a) {\n    return !a;\n  }\n  vec4 ").concat(t,"_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 ").concat(t,"_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  "),name:t,type:i.FunctionType.ValueBased}}function T(){return I("sin")}function k(){var t="relu";return{body:"\n  float ".concat(t,"_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 ").concat(t,"_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  "),name:t,type:i.FunctionType.ValueBased}}function S(){var t="sigmoid";return{body:"\n  float ".concat(t,"_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 ").concat(t,"_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  "),name:t,type:i.FunctionType.ValueBased}}function O(){return I("sqrt")}function A(){return I("tan")}function E(){var t="tanh";return{body:"\n  float ".concat(t,"_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 ").concat(t,"_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  "),name:t,type:i.FunctionType.ValueBased}}function I(t){return{body:"\n  float ".concat(t,"_(float a) {\n    return ").concat(t,"(a);\n  }\n  vec4 ").concat(t,"_(vec4 v) {\n    return ").concat(t,"(v);\n  }\n  "),name:t,type:i.FunctionType.ValueBased}}e.glslAbs=u,e.glslAcos=c,e.glslAsin=l,e.glslAtan=f,e.glslCeil=d,e.glslCos=p,e.glslElu=h,e.glslExp=g,e.glslFloor=b,e.glslClip=v,e.glslIdentity=y,e.glslLeakyRelu=m,e.glslLog=_,e.glslNeg=w,e.glslNot=x,e.glslSin=T,e.glslRelu=k,e.glslSigmoid=S,e.glslSqrt=O,e.glslTan=A,e.glslTanh=E;var P=function(t,e,n,r){var o=t.session.pack?s.TextureType.packed:s.TextureType.unpacked,i={name:n.name,inputTypes:[o],inputNames:["A"],cacheHint:r};return Object.assign(Object.assign({},i),{get:function(){return function(t,e,n,r){var o=t.session.pack?s.TextureType.packed:s.TextureType.unpacked,i=(0,a.getGlsl)(t.session.backend.glContext.version);return Object.assign(Object.assign({},e),{output:{dims:n.dims,type:n.type,textureType:o},shaderSource:"\n     ".concat(r.body,"\n     void main() {\n       vec4 v = ").concat(i.texture2D,"(A, TexCoords);\n       v = ").concat(r.name,"_(v);\n       ").concat(i.output," = v;\n     }\n     "),hasMain:!0})}(t,i,e,n)}})};e.abs=function(t,e){return[t.run(P(t,e[0],u()),e)]},e.acos=function(t,e){return[t.run(P(t,e[0],c()),e)]},e.asin=function(t,e){return[t.run(P(t,e[0],l()),e)]},e.atan=function(t,e){return[t.run(P(t,e[0],f()),e)]},e.clip=function(t,e,n){return[t.run(P(t,e[0],v(n.min,n.max),n.cacheKey),e)]},e.parseClipAttributes=function(t){return(0,r.createAttributeWithCacheKey)({min:t.attributes.getFloat("min",o.MIN_CLIP),max:t.attributes.getFloat("max",o.MAX_CLIP)})},e.clipV11=function(t,n){var r=D(t,n);return(0,e.clip)(t,[n[0]],r)};var D=function(t,e){if(e.length>=3&&(!t.session.isInitializer(e[1].dataId)||!t.session.isInitializer(e[2].dataId)))throw new Error("dynamic clip attributes are not allowed");var n=e.length>=3?e[1].numberData[0]:o.MIN_CLIP,i=e.length>=3?e[2].numberData[0]:o.MAX_CLIP;return(0,r.createAttributeWithCacheKey)({min:n,max:i})};e.ceil=function(t,e){return[t.run(P(t,e[0],d()),e)]},e.cos=function(t,e){return[t.run(P(t,e[0],p()),e)]},e.elu=function(t,e,n){return[t.run(P(t,e[0],h(n.alpha),n.cacheKey),e)]},e.parseEluAttributes=function(t){return(0,r.createAttributeWithCacheKey)({alpha:t.attributes.getFloat("alpha",1)})},e.exp=function(t,e){return[t.run(P(t,e[0],g()),e)]},e.floor=function(t,e){return[t.run(P(t,e[0],b()),e)]},e.identity=function(t,e){return[t.run(P(t,e[0],y()),e)]},e.leakyRelu=function(t,e,n){return[t.run(P(t,e[0],m(n.alpha),n.cacheKey),e)]},e.parseLeakyReluAttributes=function(t){return(0,r.createAttributeWithCacheKey)({alpha:t.attributes.getFloat("alpha",.01)})},e.log=function(t,e){return[t.run(P(t,e[0],_()),e)]},e.neg=function(t,e){return[t.run(P(t,e[0],w()),e)]},e.not=function(t,e){return[t.run(P(t,e[0],x()),e)]},e.relu=function(t,e){return[t.run(P(t,e[0],k()),e)]},e.sigmoid=function(t,e){return[t.run(P(t,e[0],S()),e)]},e.sin=function(t,e){return[t.run(P(t,e[0],T()),e)]},e.sqrt=function(t,e){return[t.run(P(t,e[0],O()),e)]},e.tan=function(t,e){return[t.run(P(t,e[0],A()),e)]},e.tanh=function(t,e){return[t.run(P(t,e[0],E()),e)]}},5611:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createUnpackProgramInfoLoader=e.createUnpackProgramInfo=void 0;var r=n(5060),o=n(2039),i=n(9390),a=n(2827),s={name:"unpack",inputNames:["A"],inputTypes:[o.TextureType.packed]};e.createUnpackProgramInfo=function(t,e){var n=e.dims.length,u=(0,a.getChannels)("rc",n),c=u.slice(-2),l=(0,i.getCoordsDataType)(n),f=(0,a.unpackFromChannel)(),d=0===e.dims.length?"":function(t,e){if(1===t)return"rc";for(var n="",r=0;r<t;r++)n+=e[r],r<t-1&&(n+=",");return n}(n,u),p=n<=1?"rc":"vec2(".concat(c.join(","),")"),h="\n    ".concat(f,"\n    void main() {\n      ").concat(l," rc = getOutputCoords();\n\n       // Sample the texture with the coords to get the rgba channel value.\n       vec4 packedInput = getA(").concat(d,");\n\n       ").concat((0,r.getGlsl)(t.session.backend.glContext.version).output," = vec4(getChannel(packedInput, ").concat(p,"), 0, 0, 0);\n     }\n   ");return Object.assign(Object.assign({},s),{hasMain:!0,output:{dims:e.dims,type:e.type,textureType:o.TextureType.unpacked},shaderSource:h})},e.createUnpackProgramInfoLoader=function(t,n){return Object.assign(Object.assign({},s),{get:function(){return(0,e.createUnpackProgramInfo)(t,n)}})}},8428:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseUnsqueezeAttributes=e.unsqueezeV13=e.unsqueeze=void 0;var r=n(2517);e.unsqueeze=function(t,e,n){o(e);var i=r.ShapeUtil.unsqueezeShape(e[0].dims,n);return[t.reshapeUnpacked(e[0],i)]},e.unsqueezeV13=function(t,n){return i(n),(0,e.unsqueeze)(t,[n[0]],Array.from(n[1].integerData))},e.parseUnsqueezeAttributes=function(t){return t.attributes.getInts("axes")};var o=function(t){if(!t||1!==t.length)throw new Error("Unsqueeze requires 1 input.");if("string"===t[0].type)throw new Error("invalid input tensor types.")},i=function(t){if(!t||2!==t.length)throw new Error("Unsqueeze requires 2 inputs.");if("int32"!==t[1].type)throw new Error("Invalid input type.")}},9793:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scalesValidation=e.validateInputs=e.parseUpsampleAttributes=e.parseUpsampleAttributesV9=e.parseUpsampleAttributesV7=e.upsample=void 0;var r=n(246),o=n(5060),i=n(2039),a={name:"Upsample",inputNames:["X"],inputTypes:[i.TextureType.unpacked]};e.upsample=function(t,n,r){return(0,e.validateInputs)(n,r),[t.run(Object.assign(Object.assign({},a),{cacheHint:r.cacheKey,get:function(){return s(t,n,r)}}),n)]},e.parseUpsampleAttributesV7=function(t){return(0,e.parseUpsampleAttributes)(t,7)},e.parseUpsampleAttributesV9=function(t){return(0,e.parseUpsampleAttributes)(t,9)},e.parseUpsampleAttributes=function(t,n){var o=n>=10,i=t.attributes.getString("mode","nearest");if("nearest"!==i&&"linear"!==i&&(n<11||"cubic"!==i))throw new Error("unrecognized mode: ".concat(i));var a=[];n<9&&(a=t.attributes.getFloats("scales"),(0,e.scalesValidation)(a,i,o));var s=t.attributes.getFloat("extrapolation_value",0),u=n>10?t.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(-1===["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(u))throw new Error("coordinate_transform_mode '".concat(u,"' is not supported"));var c="tf_crop_and_resize"===u,l=c,f="nearest"===i&&n>=11?t.attributes.getString("nearest_mode","round_prefer_floor"):"";if(-1===["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(f))throw new Error("nearest_mode '".concat(f,"' is not supported"));var d=t.attributes.getFloat("cubic_coeff_a",-.75),p=0!==t.attributes.getInt("exclude_outside",0);if(p&&"cubic"!==i)throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");var h=n<11||"nearest"===i&&"asymmetric"===u&&"floor"===f,g=0,b=0,v=0;return n>10?t.inputs.length>2?(g=1,b=2,v=3):(b=1,v=2):9===n&&(b=1),(0,r.createAttributeWithCacheKey)({opset:n,isResize:o,mode:i,scales:a,extrapolationValue:s,coordinateTransformMode:u,useExtrapolation:l,needRoiInput:c,nearestMode:f,cubicCoefficientA:d,excludeOutside:p,useNearest2xOptimization:h,roiInputIdx:g,scalesInputIdx:b,sizesInputIdx:v})};var s=function(t,e,n){for(var r=(0,o.getGlsl)(t.session.backend.glContext.version),s=t.calculateTextureWidthAndHeight(e[0].dims,i.TextureType.unpacked),u=_slicedToArray(s,2),c=u[0],l=u[1],f=e[0].dims.map((function(t,e){return Math.floor(t*n.scales[e])})),d=t.calculateTextureWidthAndHeight(f,i.TextureType.unpacked),p=_slicedToArray(d,2),h=p[0],g=p[1],b=f.length,v=new Array(b),y=new Array(b),m="\n      int output_pitches[".concat(b,"];\n      int input_pitches[").concat(b,"];\n      "),_=b-1;_>=0;_--)v[_]=_===b-1?1:v[_+1]*f[_+1],y[_]=_===b-1?1:y[_+1]*e[0].dims[_+1],m+="\n        output_pitches[".concat(_,"] = ").concat(v[_],";\n        input_pitches[").concat(_,"] = ").concat(y[_],";\n        ");var w="\n      float getInputFloat(int index) {\n        vec2 coords = offsetToCoords(index, ".concat(c,", ").concat(l,");\n        float value = getColorAsFloat(").concat(r.texture2D,"(X, coords));\n        return value;\n      }\n      "),x="nearest"===n.mode?"\n    ".concat(w,"\n    float process(int indices[").concat(b,"]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ").concat(h,", ").concat(g,");\n\n      ").concat(m,"\n\n      int d, m;\n      for (int dim = 0; dim < ").concat(b,"; ++dim) {\n        d = output_index / output_pitches[dim];\n        m = output_index - d * output_pitches[dim];\n        output_index = m;\n\n        if (scales[dim] != 1 && d > 0) {\n          int d2 = d / scales[dim];\n          m = d - d2 * scales[dim];\n          d = d2;\n        }\n        input_index += input_pitches[dim] * d;\n      }\n\n      return getInputFloat(input_index);\n    }"):4===b?"\n    ".concat(w,"\n    float process(int indices[4]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ").concat(h,", ").concat(g,");\n\n      ").concat(m,"\n\n      int m;\n      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m / output_pitches[1];\n      m = m - index_of_dim1 * output_pitches[1];\n      index_of_dim2 = m / output_pitches[2];\n      m = m - index_of_dim2 * output_pitches[2];\n      index_of_dim3 = m;\n\n      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;\n      index_of_input_dim2 = index_of_dim2 / scales[2];\n      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];\n      index_of_input_dim3 = index_of_dim3 / scales[3];\n      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];\n\n      input_index = index_of_dim0 * input_pitches[0] +\n            index_of_dim1 * input_pitches[1] +\n            index_of_input_dim2 * input_pitches[2] +\n            index_of_input_dim3;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim2 = false;\n      if (index_of_input_dim2 == (").concat(e[0].dims[2]," - 1)) {\n        // It's the end in dimension 2\n        x01 = x00;\n        end_of_dim2 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[2]);\n      }\n\n      if (index_of_input_dim3 == (input_pitches[2] - 1)) {\n        // It's the end in dimension 3\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);\n    }"):"\n    ".concat(w,"\n    float process(int indices[2]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ").concat(h,", ").concat(g,");\n\n      ").concat(m,"\n\n      int m;\n      int index_of_dim0, index_of_dim1;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m;\n\n      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;\n      index_of_input_dim0 = index_of_dim0 / scales[0];\n      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];\n      index_of_input_dim1 = index_of_dim1 / scales[1];\n      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];\n\n      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim0 = false;\n      if (index_of_input_dim0 == (").concat(e[0].dims[0]," - 1)) {\n        // It's the end in dimension 0\n        x01 = x00;\n        end_of_dim0 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[0]);\n      }\n\n      if (index_of_input_dim1 == (input_pitches[0] - 1)) {\n        // It's the end in dimension 1\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);\n    }");return Object.assign(Object.assign({},a),{output:{dims:f,type:e[0].type,textureType:i.TextureType.unpacked},shaderSource:x,variables:[{name:"scales",type:"int",arrayLength:n.scales.length,data:n.scales.map((function(t){return Math.ceil(t)}))}]})};e.validateInputs=function(t,e){if(!t||e.opset<9&&1!==t.length||e.opset>=9&&e.opset<11&&2!==t.length||e.opset>=11&&t.length<2)throw new Error("invalid inputs.");if(e.scales.length>0&&t[0].dims.length!==e.scales.length)throw new Error("Invalid input shape.");if("string"===t[0].type)throw new Error("Invalid input tensor types.")},e.scalesValidation=function(t,e,n){if(n){var r,o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;)if(r.value<=0)throw new Error("Scale value should be greater than 0.")}catch(s){o.e(s)}finally{o.f()}}else{var i,a=_createForOfIteratorHelper(t);try{for(a.s();!(i=a.n()).done;)if(i.value<1)throw new Error("Scale value should be greater than or equal to 1.")}catch(s){a.e(s)}finally{a.f()}}if(!("linear"!==e&&"cubic"!==e||2===t.length||4===t.length&&1===t[0]&&1===t[1]))throw new Error("'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ".concat(n?"Resize":"Upsample"," opeartor."))}},1958:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgramManager=void 0;var r=n(1670),o=n(6231),i=n(8879),a=n(5060);e.ProgramManager=function(){function t(e,n,r){_classCallCheck(this,t),this.profiler=e,this.glContext=n,this.textureLayoutStrategy=r,this.repo=new Map,this.attributesBound=!1}return _createClass(t,[{key:"getArtifact",value:function(t){return this.repo.get(t)}},{key:"setArtifact",value:function(t,e){this.repo.set(t,e)}},{key:"run",value:function(t,e,n){var r,i=this;this.profiler.event("op","ProgramManager.run ".concat(null!==(r=t.programInfo.name)&&void 0!==r?r:"unknown kernel"),(function(){var r,a=i.glContext.gl,s=t.program;a.useProgram(s);try{i.bindOutput(n),i.attributesBound||i.bindAttributes(t.attribLocations),i.bindUniforms(t.uniformLocations,null!==(r=t.programInfo.variables)&&void 0!==r?r:[],e)}catch(e){throw o.Logger.error("ProgramManager",t.programInfo.shaderSource),e}i.profiler.event("backend","GlContext.draw()",(function(){i.glContext.draw()}))}),this.glContext)}},{key:"dispose",value:function(){var t=this;this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach((function(e){return t.glContext.deleteProgram(e.program)}))}},{key:"build",value:function(t,e,n){var r=this;return this.profiler.event("backend","ProgramManager.build",(function(){var o=new i.GlslPreprocessor(r.glContext,t,e,n),a=o.preprocess(),s=r.compile(a);return{programInfo:t,program:s,uniformLocations:r.getUniformLocations(s,o.context.programInfo.inputNames,o.context.programInfo.variables),attribLocations:r.getAttribLocations(s)}}))}},{key:"compile",value:function(t){if(!this.vertexShader){o.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");var e=(0,a.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(e,this.glContext.gl.VERTEX_SHADER)}r.env.debug&&o.Logger.verbose("ProrgramManager","FragShader:\n".concat(t,"\n"));var n=this.glContext.compileShader(t,this.glContext.gl.FRAGMENT_SHADER),i=this.glContext.createProgram(this.vertexShader,n);return this.glContext.deleteShader(n),i}},{key:"bindOutput",value:function(t){var e=t.width,n=t.height;o.Logger.verbose("ProrgramManager","Binding output texture to Framebuffer: w/h=".concat(e,"/").concat(n,", shape=").concat(t.shape,", type=").concat(t.tensor.type)),this.glContext.attachFramebuffer(t.texture,e,n)}},{key:"bindAttributes",value:function(t){var e=t.position,n=t.textureCoord;this.glContext.setVertexAttributes(e,n),this.attributesBound=!0}},{key:"bindUniforms",value:function(t,e,n){var r,o,i=this,a=this.glContext.gl,s=0,u=_createForOfIteratorHelper(t);try{var c=function(){var t=o.value,u=t.name,c=t.type,l=t.location,f=t.arrayLength,d=null===(r=e.find((function(t){return t.name===u})))||void 0===r?void 0:r.data;if("sampler2D"!==c&&!d)throw new Error("variable '".concat(u,"' does not have data defined in program info"));switch(c){case"sampler2D":i.bindTexture(n[s],l,s),s++;break;case"float":f?a.uniform1fv(l,d):a.uniform1f(l,d);break;case"int":f?a.uniform1iv(l,d):a.uniform1i(l,d);break;default:throw new Error("Uniform not implemented: ".concat(c))}};for(u.s();!(o=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}}},{key:"bindTexture",value:function(t,e,n){this.glContext.bindTextureToUniform(t.texture,n,e)}},{key:"getAttribLocations",value:function(t){return{position:this.getAttribLocation(t,"position"),textureCoord:this.getAttribLocation(t,"textureCoord")}}},{key:"getUniformLocations",value:function(t,e,n){var r=[];if(e){var o,i=_createForOfIteratorHelper(e);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.push({name:a,type:"sampler2D",location:this.getUniformLocation(t,a)})}}catch(l){i.e(l)}finally{i.f()}}if(n){var s,u=_createForOfIteratorHelper(n);try{for(u.s();!(s=u.n()).done;){var c=s.value;r.push(Object.assign(Object.assign({},c),{location:this.getUniformLocation(t,c.name)}))}}catch(l){u.e(l)}finally{u.f()}}return r}},{key:"getUniformLocation",value:function(t,e){var n=this.glContext.gl.getUniformLocation(t,e);if(null===n)throw new Error("Uniform ".concat(e," not found."));return n}},{key:"getAttribLocation",value:function(t,e){return this.glContext.gl.getAttribLocation(t,e)}}]),t}()},6416:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLSessionHandler=void 0;var r=n(6231),o=n(1047),i=n(8316),a=n(1640),s=n(1958),u=n(7859),c=n(5702);e.WebGLSessionHandler=function(){function t(e,n){_classCallCheck(this,t),this.backend=e,this.context=n,this.layoutStrategy=new u.PreferLogicalStrategy(e.glContext.maxTextureSize),this.programManager=new s.ProgramManager(this.context.profiler,e.glContext,this.layoutStrategy),this.textureManager=new c.TextureManager(e.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===e.textureCacheMode}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=e.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}return _createClass(t,[{key:"createInferenceHandler",value:function(){return new i.WebGLInferenceHandler(this)}},{key:"onGraphInitialized",value:function(t){var e=t.getValues().filter((function(t){return-1===t.from&&t.tensor})).map((function(t){return t.tensor.dataId}));this.initializers=new Set(e)}},{key:"isInitializer",value:function(t){return!!this.initializers&&this.initializers.has(t)}},{key:"addInitializer",value:function(t){this.initializers.add(t)}},{key:"getTextureData",value:function(t,e){return e?this.packedTextureDataCache.get(t):this.unpackedTextureDataCache.get(t)}},{key:"setTextureData",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),n?this.packedTextureDataCache.set(t,e):this.unpackedTextureDataCache.set(t,e)}},{key:"dispose",value:function(){var t=this;this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((function(e){return t.textureManager.releaseTexture(e,!0)})),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((function(e){return t.textureManager.releaseTexture(e,!0)})),this.unpackedTextureDataCache=new Map}},{key:"resolve",value:function(t,e,n){var r=(0,o.resolveOperator)(t,e,a.WEBGL_OP_RESOLVE_RULES);return{impl:r.opImpl,context:r.opInit?r.opInit(t,n):t}}}]),t}()},7769:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Uint8DataEncoder=e.RGBAFloatDataEncoder=e.RedFloat32DataEncoder=void 0;var r=n(6231);e.RedFloat32DataEncoder=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(_classCallCheck(this,t),1===n)this.internalFormat=e.R32F,this.format=e.RED,this.textureType=e.FLOAT,this.channelSize=n;else{if(4!==n)throw new Error("Invalid number of channels: ".concat(n));this.internalFormat=e.RGBA32F,this.format=e.RGBA,this.textureType=e.FLOAT,this.channelSize=n}}return _createClass(t,[{key:"encode",value:function(t,e){var n,o;return t.constructor!==Float32Array&&(r.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),o=new Float32Array(t)),e*this.channelSize>t.length?(r.Logger.warning("Encoder","Source data too small. Allocating larger array"),o=t,n=this.allocate(e*this.channelSize),o.forEach((function(t,e){return n[e]=t}))):n=o=t,n}},{key:"allocate",value:function(t){return new Float32Array(4*t)}},{key:"decode",value:function(t,e){return 1===this.channelSize?t.filter((function(t,e){return e%4==0})).subarray(0,e):t.subarray(0,e)}}]),t}(),e.RGBAFloatDataEncoder=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;if(_classCallCheck(this,t),1!==n&&4!==n)throw new Error("Invalid number of channels: ".concat(n));this.internalFormat=e.RGBA,this.format=e.RGBA,this.channelSize=n,this.textureType=r||e.FLOAT}return _createClass(t,[{key:"encode",value:function(t,e){var n=t;return 1===this.channelSize&&(r.Logger.verbose("Encoder","Exploding into a larger array"),n=this.allocate(e),t.forEach((function(t,e){return n[4*e]=t}))),n}},{key:"allocate",value:function(t){return new Float32Array(4*t)}},{key:"decode",value:function(t,e){return 1===this.channelSize?t.filter((function(t,e){return e%4==0})).subarray(0,e):t.subarray(0,e)}}]),t}(),e.Uint8DataEncoder=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(_classCallCheck(this,t),this.channelSize=4,1===n)this.internalFormat=e.ALPHA,this.format=e.ALPHA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=n;else{if(4!==n)throw new Error("Invalid number of channels: ".concat(n));this.internalFormat=e.RGBA,this.format=e.RGBA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=n}}return _createClass(t,[{key:"encode",value:function(t,e){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}},{key:"allocate",value:function(t){return new Uint8Array(t*this.channelSize)}},{key:"decode",value:function(t,e){if(t instanceof Uint8Array)return t.subarray(0,e);throw new Error("Invalid array type: ".concat(t.constructor))}}]),t}()},7859:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBatchDim=e.sizeToSquarishShape=e.getRowsCols=e.sizeFromShape=e.isInt=e.parseAxisParam=e.squeezeShape=e.PreferLogicalStrategy=e.AlwaysKeepOriginalSizeStrategy=void 0;var r=n(6231),o=n(2517);function i(t,e){for(var n=[],r=[],o=null!=e&&Array.isArray(e)&&0===e.length,i=null==e||o?null:a(e,t).sort(),s=0,u=0;u<t.length;++u){if(null!=i){if(i[s]===u&&1!==t[u])throw new Error("Can't squeeze axis ".concat(u," since its dim '").concat(t[u],"' is not 1"));(null==i[s]||i[s]>u)&&1===t[u]&&(n.push(t[u]),r.push(u)),i[s]<=u&&s++}1!==t[u]&&(n.push(t[u]),r.push(u))}return{newShape:n,keptDims:r}}function a(t,e){var n=e.length;return t=null==t?e.map((function(t,e){return e})):[].concat(t),(0,o.assert)(t.every((function(t){return t>=-n&&t<n})),(function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but got axis ").concat(t)})),(0,o.assert)(t.every(s),(function(){return"All values in axis param must be integers but got axis ".concat(t)})),t.map((function(t){return t<0?n+t:t}))}function s(t){return t%1==0}function u(t){if(0===t.length)return 1;for(var e=t[0],n=1;n<t.length;n++)e*=t[n];return e}function c(t){var e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}e.AlwaysKeepOriginalSizeStrategy=function(){function t(e){_classCallCheck(this,t),this.maxTextureSize=e}return _createClass(t,[{key:"computeTextureWH",value:function(t,e){if(0===t.length)return[1,1];var n=this.maxTextureSize;if(e&&void 0!==e.breakAxis){var o=e.breakAxis>=t.length?1:t.slice(e.breakAxis).reduce((function(t,e){return t*e})),i=e.breakAxis<=0?1:t.slice(0,e.breakAxis).reduce((function(t,e){return t*e}));if(!(o>n||i>n))return[o,i];r.Logger.verbose("TextureLayout","Given width/height preferences were unattainable: shape:".concat(t,", breakAxis:").concat(e.breakAxis))}for(var a=t.reduce((function(t,e){return t*e})),s=Math.floor(Math.sqrt(a));s<n&&s<a&&a%s!=0;s++);if(s>=n||a%s!=0)throw new Error("The given dimensions are outside this GPU's boundaries: ".concat(t));return[s,a/s]}}]),t}(),e.PreferLogicalStrategy=function(){function t(e){_classCallCheck(this,t),this.maxTextureSize=e}return _createClass(t,[{key:"computeTextureWH",value:function(t,e){var n=this.computeTexture(t,e);return e&&e.isPacked&&(n[0]/=2,n[1]/=2),e&&e.reverseWH?[n[1],n[0]]:n}},{key:"computeTexture",value:function(t,e){var n=e&&e.isPacked;if(0===t.length)return n?[2,2]:[1,1];var o=this.maxTextureSize;if(e&&void 0!==e.breakAxis){var a=e.breakAxis>=t.length?1:t.slice(e.breakAxis).reduce((function(t,e){return t*e})),s=e.breakAxis<=0?1:t.slice(0,e.breakAxis).reduce((function(t,e){return t*e}));if(!(a>o||s>o))return[a,s];r.Logger.verbose("TextureLayout","Given width/height preferences were unattainable: shape:".concat(t,", breakAxis:").concat(e.breakAxis))}var l=t.slice(0);if(n&&(o*=2,l=l.map((function(t,e){return e>=l.length-2?l[e]%2==0?l[e]:l[e]+1:l[e]})),1===l.length&&(l=[2,l[0]])),2!==l.length){var f=i(l);l=f.newShape}var d=u(l);return l.length<=1&&d<=o?[1,d]:2===l.length&&l[0]<=o&&l[1]<=o?l:3===l.length&&l[0]*l[1]<=o&&l[2]<=o?[l[0]*l[1],l[2]]:3===l.length&&l[0]<=o&&l[1]*l[2]<=o?[l[0],l[1]*l[2]]:4===l.length&&l[0]*l[1]*l[2]<=o&&l[3]<=o?[l[0]*l[1]*l[2],l[3]]:4===l.length&&l[0]<=o&&l[1]*l[2]*l[3]<=o?[l[0],l[1]*l[2]*l[3]]:n?c(d/4).map((function(t){return 2*t})):c(d)}}]),t}(),e.squeezeShape=i,e.parseAxisParam=a,e.isInt=s,e.sizeFromShape=u,e.getRowsCols=function(t){if(0===t.length)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]},e.sizeToSquarishShape=c,e.getBatchDim=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return u(t.slice(0,t.length-e))}},4057:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextureLayoutFromShape=e.calculateTextureWidthAndHeight=e.createTextureLayoutFromTextureType=void 0;var r=n(2517),o=n(2039);e.createTextureLayoutFromTextureType=function(t,n,r){var i=r===o.TextureType.unpacked||r===o.TextureType.unpackedReversed?1:4,a=r===o.TextureType.packed,s=r===o.TextureType.unpackedReversed||r===o.TextureType.packed,u=r===o.TextureType.packedLastDimension?n.length-1:void 0,c=r===o.TextureType.packedLastDimension?n.map((function(t,e){return e===n.length-1?4*t:t})):void 0;return(0,e.createTextureLayoutFromShape)(t,n,i,c,{isPacked:a,reverseWH:s,breakAxis:u})},e.calculateTextureWidthAndHeight=function(t,n,r){var o=(0,e.createTextureLayoutFromTextureType)(t,n,r);return[o.width,o.height]},e.createTextureLayoutFromShape=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=!(!i||!i.isPacked),s=t.computeTextureWH(a&&o||e,i),u=_slicedToArray(s,2),c=u[0],l=u[1],f=e.length,d=e.slice(0);if(0===f&&(d=[1]),1===n)o=e;else if(a){if(4!==n)throw new Error("a packed texture must be 4-channel");o=e,f>0&&(d[f-1]=Math.ceil(d[f-1]/2)),f>1&&(d[f-2]=Math.ceil(d[f-2]/2))}else if(!o)throw new Error("Unpacked shape is needed when using channels > 1");return{width:c,height:l,channels:n,isPacked:a,shape:d,strides:r.ShapeUtil.computeStrides(d),unpackedShape:o,reversedWH:i&&i.reverseWH}}},5702:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextureManager=void 0;var r=n(6231);e.TextureManager=function(){function t(e,n,r,o){_classCallCheck(this,t),this.glContext=e,this.layoutStrategy=n,this.profiler=r,this.config=o,this.pendingRead=new Map,o.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}return _createClass(t,[{key:"createTextureFromLayout",value:function(t,e,n,o){var i=this.toEncoderType(t),a=this.glContext.getEncoder(i,e.channels||1,o);if(e.isPacked&&1===o)throw new Error("not implemented");var s,u,c=e.width,l=e.height;if(this.config.reuseTextures){s="".concat(c,"x").concat(l,"_").concat(a.format,"_").concat(a.internalFormat,"_").concat(a.textureType),(u=this.inUseTextures.get(s))||(u=[],this.inUseTextures.set(s,u));var f=this.idleTextures.get(s);if(f&&f.length>0){var d=f.pop();return u.push(d),1===o&&this.glContext.updateTexture(d,c,l,a,this.toTextureData(t,n)),d}}r.Logger.verbose("TextureManager","Creating new texture of size ".concat(e.width,"x").concat(e.height));var p=this.glContext.allocateTexture(c,l,a,this.toTextureData(t,n));return this.config.reuseTextures&&(u.push(p),this.textureLookup.set(p,s)),p}},{key:"readTexture",value:function(t,e,n){var r=this;return n||(n=1),this.profiler.event("backend","TextureManager.readTexture",(function(){var o=t.shape.reduce((function(t,e){return t*e}))*n,i=r.glContext.readTexture(t.texture,t.width,t.height,o,r.toEncoderType(e),n);return r.toTensorData(e,i)}))}},{key:"readTextureAsync",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e,n,r){var o,i,a=this;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.tensor.dataId,r||(r=1),!this.pendingRead.has(o)){t.next=4;break}return i=this.pendingRead.get(o),t.abrupt("return",new Promise((function(t){return null==i?void 0:i.push(t)})));case 4:return t.abrupt("return",this.profiler.event("backend","TextureManager.readTextureAsync",_asyncToGenerator(_regeneratorRuntime().mark((function t(){var i,s,u,c;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.pendingRead.set(o,[]),i=e.shape.reduce((function(t,e){return t*e}))*r,t.next=4,a.glContext.createAndWaitForFence();case 4:return s=a.glContext.readTexture(e.texture,e.width,e.height,i,a.toEncoderType(n),r),u=a.toTensorData(n,s),c=a.pendingRead.get(o),t.abrupt("return",(a.pendingRead.delete(o),null==c||c.forEach((function(t){return t(u)})),u));case 6:case"end":return t.stop()}}),t)})))));case 5:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"readUint8TextureAsFloat",value:function(t){var e=this;return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",(function(){var n=t.shape.reduce((function(t,e){return t*e})),r=e.glContext.readTexture(t.texture,t.width,t.height,4*n,"byte",4);return new Float32Array(r.buffer,r.byteOffset,n)}))}},{key:"releaseTexture",value:function(t,e){var n;if(this.config.reuseTextures&&(n=this.textureLookup.get(t.texture))){e&&this.textureLookup.delete(n);var o=this.inUseTextures.get(n);if(o){var i=o.indexOf(t.texture);if(-1!==i){o.splice(i,1);var a=this.idleTextures.get(n);a||(a=[],this.idleTextures.set(n,a)),a.push(t.texture)}}}n&&!e||(r.Logger.verbose("TextureManager","Deleting texture of size ".concat(t.width,"x").concat(t.height)),this.glContext.deleteTexture(t.texture))}},{key:"toTensorData",value:function(t,e){switch(t){case"int16":return e instanceof Int16Array?e:Int16Array.from(e);case"int32":return e instanceof Int32Array?e:Int32Array.from(e);case"int8":return e instanceof Int8Array?e:Int8Array.from(e);case"uint16":return e instanceof Uint16Array?e:Uint16Array.from(e);case"uint32":return e instanceof Uint32Array?e:Uint32Array.from(e);case"uint8":case"bool":return e instanceof Uint8Array?e:Uint8Array.from(e);case"float32":return e instanceof Float32Array?e:Float32Array.from(e);case"float64":return e instanceof Float64Array?e:Float64Array.from(e);default:throw new Error("TensorData type ".concat(t," is not supported"))}}},{key:"toTextureData",value:function(t,e){if(e)return e instanceof Float32Array?e:new Float32Array(e)}},{key:"toEncoderType",value:function(t){return"float"}},{key:"clearActiveTextures",value:function(){this.glContext.clearActiveTextures()}}]),t}()},2039:function(t,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.TextureType=void 0,(n=e.TextureType||(e.TextureType={}))[n.unpacked=0]="unpacked",n[n.unpackedReversed=1]="unpackedReversed",n[n.packed=2]="packed",n[n.downloadUint8AsFloat=3]="downloadUint8AsFloat",n[n.packedLastDimension=4]="packedLastDimension"},9390:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getGlChannels=e.getCoordsDataType=e.getSqueezedParams=e.squeezeInputShape=e.generateShaderFuncNameFromInputSamplerNameAtOutCoords=e.generateShaderFuncNameFromInputSamplerName=e.repeatedTry=e.getPackedShape=void 0;var r=n(2517);e.getPackedShape=function(t){var e=t.length;return t.slice(0,e-1).concat(t[e-1]/4)},e.repeatedTry=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e){var n,r,o=arguments;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:function(t){return 0},r=o.length>2?o[2]:void 0,t.abrupt("return",new Promise((function(t,o){var i=0;!function a(){if(e())t();else{i++;var s=n(i);null!=r&&i>=r?o():setTimeout(a,s)}}()})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.generateShaderFuncNameFromInputSamplerName=function(t){return(0,r.assert)(void 0!==t&&0!==t.length,(function(){return"empty string found for sampler name"})),"get"+t.charAt(0).toUpperCase()+t.slice(1)},e.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(t){return(0,r.assert)(void 0!==t&&0!==t.length,(function(){return"empty string found for sampler name"})),"get"+t.charAt(0).toUpperCase()+t.slice(1)+"AtOutCoords"},e.squeezeInputShape=function(t,e){return JSON.parse(JSON.stringify(t)),e},e.getSqueezedParams=function(t,e){return e.map((function(e){return t[e]})).join(", ")},e.getCoordsDataType=function(t){if(t<=1)return"int";if(2===t)return"ivec2";if(3===t)return"ivec3";if(4===t)return"ivec4";if(5===t)return"ivec5";if(6===t)return"ivec6";throw Error("GPU for rank ".concat(t," is not yet supported"))},e.getGlChannels=function(){return["x","y","z","w","u","v"].slice(0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:6)}},7305:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNewWebGLContext=e.createWebGLContext=void 0;var r=n(6231),o=n(1713),i={};function a(t){var e,n=function(){if("undefined"==typeof document){if("undefined"==typeof OffscreenCanvas)throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}var t=document.createElement("canvas");return t.width=1,t.height=1,t}(),i={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!t||"webgl2"===t)&&(e=n.getContext("webgl2",i)))try{return new o.WebGLContext(e,2)}catch(t){r.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl2'. Error: ".concat(t))}if((!t||"webgl"===t)&&(e=n.getContext("webgl",i)||n.getContext("experimental-webgl",i)))try{return new o.WebGLContext(e,1)}catch(t){r.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ".concat(t))}throw new Error("WebGL is not supported")}e.createWebGLContext=function t(e){var n;e&&"webgl2"!==e||!("webgl2"in i)?e&&"webgl"!==e||!("webgl"in i)||(n=i.webgl):n=i.webgl2,n=n||a(e),e=e||1===n.version?"webgl":"webgl2";var r=n.gl;return i[e]=n,r.isContextLost()?(delete i[e],t(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),n)},e.createNewWebGLContext=a},1713:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLContext=e.linearSearchLastTrue=void 0;var a=n(1670),s=i(n(7769)),u=n(9390);function c(t){for(var e=0;e<t.length&&t[e]();++e);return e-1}e.linearSearchLastTrue=c,e.WebGLContext=function(){function t(e,n){_classCallCheck(this,t),this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=e,this.version=n,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}return _createClass(t,[{key:"allocateTexture",value:function(t,e,n,r){var o=this.gl,i=o.createTexture();o.bindTexture(o.TEXTURE_2D,i),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);var a=r?n.encode(r,t*e):null;return o.texImage2D(o.TEXTURE_2D,0,n.internalFormat,t,e,0,n.format,n.textureType,a),this.checkError(),i}},{key:"updateTexture",value:function(t,e,n,r,o){var i=this.gl;i.bindTexture(i.TEXTURE_2D,t);var a=r.encode(o,e*n);i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,n,r.format,r.textureType,a),this.checkError()}},{key:"attachFramebuffer",value:function(t,e,n){var r=this.gl;r.bindTexture(r.TEXTURE_2D,t),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0),this.checkError(),r.viewport(0,0,e,n),r.scissor(0,0,e,n)}},{key:"readTexture",value:function(t,e,n,r,o,i){var a=this.gl;i||(i=1),this.frameBufferBound||this.attachFramebuffer(t,e,n);var s=this.getEncoder(o,i),u=s.allocate(e*n);return a.bindTexture(a.TEXTURE_2D,t),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,t,0),a.readPixels(0,0,e,n,a.RGBA,s.textureType,u),this.checkError(),s.decode(u,r)}},{key:"isFramebufferReady",value:function(){return!0}},{key:"getActiveTexture",value:function(){var t=this.gl;return"TEXTURE"+(t.getParameter(this.gl.ACTIVE_TEXTURE)-t.TEXTURE0)}},{key:"getTextureBinding",value:function(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}},{key:"getFramebufferBinding",value:function(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}},{key:"setVertexAttributes",value:function(t,e){var n=this.gl;n.vertexAttribPointer(t,3,n.FLOAT,!1,20,0),n.enableVertexAttribArray(t),-1!==e&&(n.vertexAttribPointer(e,2,n.FLOAT,!1,20,12),n.enableVertexAttribArray(e)),this.checkError()}},{key:"createProgram",value:function(t,e){var n=this.gl,r=n.createProgram();return n.attachShader(r,t),n.attachShader(r,e),n.linkProgram(r),r}},{key:"compileShader",value:function(t,e){var n=this.gl,r=n.createShader(e);if(!r)throw new Error("createShader() returned null with type ".concat(e));if(n.shaderSource(r,t),n.compileShader(r),!1===n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error("Failed to compile shader: ".concat(n.getShaderInfoLog(r),"\nShader source:\n").concat(t));return r}},{key:"deleteShader",value:function(t){this.gl.deleteShader(t)}},{key:"bindTextureToUniform",value:function(t,e,n){var r=this.gl;r.activeTexture(r.TEXTURE0+e),this.checkError(),r.bindTexture(r.TEXTURE_2D,t),this.checkError(),r.uniform1i(n,e),this.checkError()}},{key:"draw",value:function(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}},{key:"checkError",value:function(){if(a.env.debug){var t=this.gl,e=t.getError(),n="";switch(e){case t.NO_ERROR:return;case t.INVALID_ENUM:n="INVALID_ENUM";break;case t.INVALID_VALUE:n="INVALID_VALUE";break;case t.INVALID_OPERATION:n="INVALID_OPERATION";break;case t.INVALID_FRAMEBUFFER_OPERATION:n="INVALID_FRAMEBUFFER_OPERATION";break;case t.OUT_OF_MEMORY:n="OUT_OF_MEMORY";break;case t.CONTEXT_LOST_WEBGL:n="CONTEXT_LOST_WEBGL";break;default:n="Unknown WebGL Error: ".concat(e.toString(16))}throw new Error(n)}}},{key:"deleteTexture",value:function(t){this.gl.deleteTexture(t)}},{key:"deleteProgram",value:function(t){this.gl.deleteProgram(t)}},{key:"getEncoder",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(2===this.version)return new s.RedFloat32DataEncoder(this.gl,e);switch(t){case"float":return 1===n||this.isRenderFloat32Supported?new s.RGBAFloatDataEncoder(this.gl,e):new s.RGBAFloatDataEncoder(this.gl,e,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new s.Uint8DataEncoder(this.gl,e);default:throw new Error("Invalid dataType: ".concat(t))}}},{key:"clearActiveTextures",value:function(){for(var t=this.gl,e=0;e<this.maxTextureImageUnits;++e)t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,null)}},{key:"dispose",value:function(){if(!this.disposed){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteFramebuffer(this.framebuffer),t.bindBuffer(t.ARRAY_BUFFER,null),t.deleteBuffer(this.vertexbuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.finish(),this.disposed=!0}}},{key:"createDefaultGeometry",value:function(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}},{key:"createVertexbuffer",value:function(){var t=this.gl,e=t.createBuffer();if(!e)throw new Error("createBuffer() returned null");var n=this.createDefaultGeometry();return t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW),this.checkError(),e}},{key:"createFramebuffer",value:function(){var t=this.gl.createFramebuffer();if(!t)throw new Error("createFramebuffer returned null");return t}},{key:"queryVitalParameters",value:function(){var t=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.version}},{key:"getExtensions",value:function(){2===this.version?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}},{key:"checkFloatTextureAttachableToFrameBuffer",value:function(){var t=this.gl,e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);var n=2===this.version?t.RGBA32F:t.RGBA;t.texImage2D(t.TEXTURE_2D,0,n,1,1,0,t.RGBA,t.FLOAT,null);var r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0);var o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(e),t.deleteFramebuffer(r),o}},{key:"checkRenderFloat32",value:function(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}},{key:"checkFloat32Download",value:function(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else{if(!this.textureFloatExtension)return!1;if(!this.gl.getExtension("WEBGL_color_buffer_float"))return!1}return this.isFloatTextureAttachableToFrameBuffer}},{key:"checkFloat32Blend",value:function(){var t,e,n,r,o,i=this.gl;try{t=i.createTexture(),e=i.createFramebuffer(),i.bindTexture(i.TEXTURE_2D,t);var a=2===this.version?i.RGBA32F:i.RGBA;return i.texImage2D(i.TEXTURE_2D,0,a,1,1,0,i.RGBA,i.FLOAT,null),i.bindFramebuffer(i.FRAMEBUFFER,e),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t,0),i.enable(i.BLEND),!!(n=i.createShader(i.VERTEX_SHADER))&&(i.shaderSource(n,"void main(){}"),i.compileShader(n),!!(r=i.createShader(i.FRAGMENT_SHADER))&&(i.shaderSource(r,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),i.compileShader(r),!!(o=i.createProgram())&&(i.attachShader(o,n),i.attachShader(o,r),i.linkProgram(o),i.useProgram(o),i.drawArrays(i.POINTS,0,1),i.getError()===i.NO_ERROR)))}finally{i.disable(i.BLEND),o&&i.deleteProgram(o),n&&i.deleteShader(n),r&&i.deleteShader(r),e&&(i.bindFramebuffer(i.FRAMEBUFFER,null),i.deleteFramebuffer(e)),t&&(i.bindTexture(i.TEXTURE_2D,null),i.deleteTexture(t))}}},{key:"beginTimer",value:function(){if(2===this.version&&this.disjointTimerQueryWebgl2Extension){var t=this.gl,e=this.disjointTimerQueryWebgl2Extension,n=t.createQuery();return t.beginQuery(e.TIME_ELAPSED_EXT,n),n}throw new Error("WebGL1 profiling currently not supported.")}},{key:"endTimer",value:function(){if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");var t=this.gl,e=this.disjointTimerQueryWebgl2Extension;t.endQuery(e.TIME_ELAPSED_EXT)}},{key:"isTimerResultAvailable",value:function(t){var e,n;if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");var r=this.gl,o=this.disjointTimerQueryWebgl2Extension;return e=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE),n=r.getParameter(o.GPU_DISJOINT_EXT),e&&!n}},{key:"getTimerResult",value:function(t){var e;if(2!==this.version)throw new Error("WebGL1 profiling currently not supported");var n=this.gl;return e=n.getQueryParameter(t,n.QUERY_RESULT),n.deleteQuery(t),e/1e6}},{key:"waitForQueryAndGetTime",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e){var n=this;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.repeatedTry)((function(){return n.isTimerResultAvailable(e)}));case 2:return t.abrupt("return",this.getTimerResult(e));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"createAndWaitForFence",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(){var e;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.createFence(this.gl),t.abrupt("return",this.pollFence(e));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"createFence",value:function(t){var e,n=t,r=n.fenceSync(n.SYNC_GPU_COMMANDS_COMPLETE,0);return t.flush(),e=null===r?function(){return!0}:function(){var t=n.clientWaitSync(r,0,0);return t===n.ALREADY_SIGNALED||t===n.CONDITION_SATISFIED},{query:r,isFencePassed:e}}},{key:"pollFence",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e){var n=this;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){n.addItemToPoll((function(){return e.isFencePassed()}),(function(){return t()}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"pollItems",value:function(){for(var t=c(this.itemsToPoll.map((function(t){return t.isDoneFn}))),e=0;e<=t;++e)(0,this.itemsToPoll[e].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(t+1)}},{key:"addItemToPoll",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e,n){var r=this;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),t.t0=this.itemsToPoll.length>1,t.t0){t.next=5;break}return t.next=5,(0,u.repeatedTry)((function(){return r.pollItems(),0===r.itemsToPoll.length}));case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}]),t}()},1036:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExecutionPlan=void 0;var r=n(6231),o=_createClass((function t(e,n){_classCallCheck(this,t),this.op=e,this.node=n}));e.ExecutionPlan=function(){function t(e,n,r){_classCallCheck(this,t),this.graph=e,this.profiler=r,this.initialize(n)}return _createClass(t,[{key:"initialize",value:function(t){var e=this;this.profiler.event("session","ExecutionPlan.initialize",(function(){var n=e.graph.getNodes();if(n.length!==t.length)throw new Error("The size of nodes and OPs do not match.");e._ops=t.map((function(t,e){return new o(t,n[e])})),e.reset(),e._starter=[],e._ops.forEach((function(t,n){var r,o=!0,i=_createForOfIteratorHelper(t.node.inputs);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(!e._values[a]&&-1===e.graph.getInputIndices().indexOf(a)){o=!1;break}}}catch(s){i.e(s)}finally{i.f()}o&&e._starter.push(n)}))}))}},{key:"reset",value:function(){this._values=this.graph.getValues().map((function(t){return t.tensor}))}},{key:"execute",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e,n){var o=this;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.profiler.event("session","ExecutionPlan.execute",_asyncToGenerator(_regeneratorRuntime().mark((function t(){var i,a,s,u,c,l,f,d,p,h,g;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.reset(),i=e.createInferenceHandler(),a=o.graph.getInputIndices(),n.length===a.length){t.next=4;break}throw new Error("number of input tensors don't match the number of inputs to the model: actual: ".concat(n.length," expected: ").concat(a.length));case 4:n.forEach((function(t,e){var n=a[e];o._values[n]=t})),s=o._starter.slice(0),u=o.graph.getValues(),c=o.graph.getNodes(),l=0,f=_regeneratorRuntime().mark((function t(){var e,n,a,f,d,p;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s[l++],n=o._ops[e],a=n.node.inputs.map((function(t){return o._values[t]})),-1===a.indexOf(void 0)){t.next=3;break}throw new Error("unresolved input detected: op: ".concat(n.node));case 3:return f=a,r.Logger.verbose("ExecPlan","Runing op:".concat(n.node.name," (").concat(f.map((function(t,e){return"'".concat(n.node.inputs[e],"': ").concat(t.type,"[").concat(t.dims.join(","),"]")})).join(", "),")")),t.next=7,o.profiler.event("node",n.node.name,_asyncToGenerator(_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n.op.impl(i,f,n.op.context));case 1:case"end":return t.stop()}}),t)}))));case 7:if((d=t.sent).length===n.node.outputs.length){t.next=10;break}throw new Error("the size of output does not match model definition.");case 10:d.forEach((function(t,e){var r=n.node.outputs[e];if(o._values[r])throw new Error("output [".concat(r,"] already has value: op:").concat(n.node.name));o._values[r]=t})),p=new Set,d.forEach((function(t,e){var r,i=n.node.outputs[e],a=_createForOfIteratorHelper(u[i].to);try{for(a.s();!(r=a.n()).done;){var s,l=r.value,f=c[l],d=!0,h=_createForOfIteratorHelper(f.inputs);try{for(h.s();!(s=h.n()).done;){var g=s.value;if(!o._values[g]){d=!1;break}}}catch(b){h.e(b)}finally{h.f()}d&&p.add(l)}}catch(b){a.e(b)}finally{a.f()}})),s.push.apply(s,_toConsumableArray(p));case 13:case"end":return t.stop()}}),t)}));case 8:if(!(l<s.length)){t.next=12;break}return t.delegateYield(f(),"t0",10);case 10:t.next=8;break;case 12:d=[],p=0;case 14:if(!(p<o.graph.getOutputIndices().length)){t.next=28;break}if(h=o.graph.getOutputIndices()[p],void 0!==(g=o._values[h])){t.next=18;break}throw new Error("required output [".concat(h,"] does not have value"));case 18:if(0!==h){t.next=23;break}return t.next=21,g.getData();case 21:t.next=24;break;case 23:g.data;case 24:d.push(g);case 25:p++,t.next=14;break;case 28:return t.abrupt("return",(r.Logger.verbose("ExecPlan","disposing of inferenceHandler"),i.dispose(),d));case 29:case"end":return t.stop()}}),t)})))));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}]),t}()},7070:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=void 0;var r=n(1446),o=n(7778),i=n(9395),a=n(9162),s=n(2517),u=i.onnxruntime.experimental.fbs;e.Graph={from:function(t,e){return new f(t,e)}};var c=function(){function t(e){_classCallCheck(this,t),this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,e&&(this.type=s.ProtoUtil.tensorValueTypeFromProto(e.type.tensorType))}return _createClass(t,[{key:"from",get:function(){return this._from}},{key:"to",get:function(){return this._to}}]),t}(),l=_createClass((function t(e,n){_classCallCheck(this,t),e instanceof r.onnx.NodeProto?(this.name=e.name,this.opType=e.opType,this.attributes=new o.Attribute(e.attribute)):e instanceof u.Node&&(this.name=null!=n?n:e.name(),this.opType=e.opType(),this.attributes=new o.Attribute(s.ProtoUtil.tensorAttributesFromORTFormat(e))),this.inputs=[],this.outputs=[],this.executeNode=!0})),f=function(){function t(e,n){if(_classCallCheck(this,t),!e)throw new TypeError("graph is empty");this.buildGraph(e),this.transformGraph(n),this.checkIsAcyclic()}return _createClass(t,[{key:"getInputIndices",value:function(){return this._allInputIndices}},{key:"getInputNames",value:function(){return this._allInputNames}},{key:"getOutputIndices",value:function(){return this._allOutputIndices}},{key:"getOutputNames",value:function(){return this._allOutputNames}},{key:"getValues",value:function(){return this._allData}},{key:"getNodes",value:function(){return this._nodes}},{key:"buildGraph",value:function(t){if(t instanceof r.onnx.GraphProto)this.buildGraphFromOnnxFormat(t);else{if(!(t instanceof u.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(t)}}},{key:"buildGraphFromOnnxFormat",value:function(t){var e=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];var n=new Map;if(!t.input)throw new Error("missing information in graph: input");var r,o=[],i=_createForOfIteratorHelper(t.input);try{for(i.s();!(r=i.n()).done;){var u=r.value;if(e.has(u.name))throw new Error("duplicated input name: ".concat(u.name));var f=this._allData.push(new c(u))-1;e.set(u.name,f),o.push(u.name)}}catch(V){i.e(V)}finally{i.f()}if(!t.initializer)throw new Error("missing information in graph: initializer");var d,p=_createForOfIteratorHelper(t.initializer);try{for(p.s();!(d=p.n()).done;){var h=d.value,g=e.get(h.name);if(void 0===g){var b=new c;b.type={shape:{dims:s.ProtoUtil.tensorDimsFromProto(h.dims)},tensorType:s.ProtoUtil.tensorDataTypeFromProto(h.dataType)},g=this._allData.push(b)-1,e.set(h.name,g)}this._allData[g]._from=-1,this._allData[g].tensor=a.Tensor.fromProto(h)}}catch(V){p.e(V)}finally{p.f()}for(var v=0;v<this._allData.length;v++)this._allData[v].tensor||(this._allInputIndices.push(v),this._allInputNames.push(o[v]));if(!t.output)throw new Error("missing information in graph: output");var y,m=_createForOfIteratorHelper(t.output);try{for(m.s();!(y=m.n()).done;){var _=y.value;if(e.has(_.name))throw new Error("duplicated output name: ".concat(_.name));var w=this._allData.push(new c(_))-1;e.set(_.name,w),this._allOutputIndices.push(w),this._allOutputNames.push(_.name)}}catch(V){m.e(V)}finally{m.f()}if(!t.node)throw new Error("missing information in graph: node");var x,T=_createForOfIteratorHelper(t.node);try{for(T.s();!(x=T.n()).done;){var k=x.value;if(!k.name)for(var S=0;;S++){var O="unnamed_".concat(k.opType,"_").concat(S);if(!n.has(O)){k.name=O;break}}if(n.has(k.name))throw new Error("duplicated node name: ".concat(k.name));var A=this._nodes.push(new l(k))-1;n.set(k.name,A)}}catch(V){T.e(V)}finally{T.f()}for(var E=0;E<this._nodes.length;E++){var I=this._nodes[E],P=t.node[E];if(!P.output)throw new Error("missing output for node: ".concat(P.name));var D,C=_createForOfIteratorHelper(P.output);try{for(C.s();!(D=C.n()).done;){var R=D.value,N=e.get(R);if(void 0===N&&(N=this._allData.push(new c)-1,e.set(R,N)),I.outputs.push(N),void 0!==this._allData[N]._from)throw new Error("multiple nodes output to one data value: ".concat(N));if(this._allData[N]._from=E,"Constant"===P.opType){if(!P.attribute||1!==P.attribute.length||!P.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!P.output||1!==P.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");I.outputs.pop(),I.executeNode=!1,this._allData[N]._from=-1,this._allData[N].tensor=a.Tensor.fromProto(P.attribute[0].t)}}}catch(V){C.e(V)}finally{C.f()}}for(var F=0;F<this._nodes.length;F++){var L=this._nodes[F],j=t.node[F];if(!j.input)throw new Error("missing input for node: ".concat(j.name));var M,U=_createForOfIteratorHelper(j.input);try{for(U.s();!(M=U.n()).done;){var B=M.value,z=e.get(B);if(void 0===z){if(""===B&&3===j.input.length&&"Resize"===j.opType)continue;throw new Error("unrecognized input '".concat(B,"' for node: ").concat(j.name))}L.inputs.push(z),this._allData[z]._to.push(F)}}catch(V){U.e(V)}finally{U.f()}}return!0}},{key:"buildGraphFromOrtFormat",value:function(t){var e,n,r,o=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];for(var i=new Map,f=[],d=0;d<t.inputsLength();d++){var p=t.inputs(d);if(o.has(p))throw new Error("duplicated input name: ".concat(p));for(var h=0;h<t.nodeArgsLength();h++)if((null===(e=t.nodeArgs(h))||void 0===e?void 0:e.name())===p){var g=new c;if((null===(r=null===(n=t.nodeArgs(h))||void 0===n?void 0:n.type())||void 0===r?void 0:r.valueType())!==u.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");for(var b=t.nodeArgs(h).type().value(new u.TensorTypeAndShape),v=s.ProtoUtil.tensorDataTypeFromProto(b.elemType()),y=b.shape(),m=[],_=0;_<y.dimLength();_++)m.push(s.LongUtil.longToNumber(y.dim(_).value().dimValue()));g.type={shape:{dims:m},tensorType:v};var w=this._allData.push(g)-1;o.set(p,w),f.push(p)}}for(var x=0;x<t.initializersLength();x++){var T=t.initializers(x),k=o.get(T.name());if(void 0===k){var S=new c,O=s.ProtoUtil.tensorDimsFromORTFormat(T),A=s.ProtoUtil.tensorDataTypeFromProto(T.dataType());S.type={shape:{dims:O},tensorType:A},k=this._allData.push(S)-1,o.set(T.name(),k)}this._allData[k]._from=-1,this._allData[k].tensor=a.Tensor.fromOrtTensor(T)}for(var E=0;E<this._allData.length;E++)this._allData[E].tensor||(this._allInputIndices.push(E),this._allInputNames.push(f[E]));for(var I=0;I<t.outputsLength();I++){var P=t.outputs(I);if(o.has(P))throw new Error("duplicated output name: ".concat(P));var D=this._allData.push(new c)-1;o.set(P,D),this._allOutputIndices.push(D),this._allOutputNames.push(P)}if(!t.nodes)throw new Error("missing information in graph: node");for(var C=0;C<t.nodesLength();C++){var R=t.nodes(C),N=R.name();if(!N)for(var F=0;N="unnamed_".concat(R.opType(),"_").concat(F),i.has(N);F++);if(i.has(N))throw new Error("duplicated node name: ".concat(N));var L=this._nodes.push(new l(R,N))-1;i.set(N,L)}for(var j=0;j<this._nodes.length;j++){var M=this._nodes[j],U=t.nodes(j);if(null==U)throw new Error("No node exists at index ".concat(j));if(0===(null==U?void 0:U.outputsLength()))throw new Error("missing output for node: ".concat(U.name));for(var B=0;B<(null==U?void 0:U.outputsLength());B++){var z=null==U?void 0:U.outputs(B),V=o.get(z);if(void 0===V&&(V=this._allData.push(new c)-1,o.set(z,V)),M.outputs.push(V),void 0!==this._allData[V]._from)throw new Error("multiple nodes output to one data value: ".concat(V));if(this._allData[V]._from=j,"Constant"===U.opType()){if(1!==U.attributesLength()||!U.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(1!==U.outputsLength())throw new Error("missing output or incorrect number of outputs for this Constant operator");M.outputs.pop(),M.executeNode=!1,this._allData[V]._from=-1,this._allData[V].tensor=a.Tensor.fromOrtTensor(U.attributes(0).t())}}}for(var G=0;G<this._nodes.length;G++){var H=this._nodes[G],W=t.nodes(G);if(0===W.inputsLength())throw new Error("missing input for node: ".concat(W.name));for(var q=0;q<W.inputsLength();q++){var Z=W.inputs(q),X=o.get(Z);if(void 0===X)throw new Error("unrecognized input '".concat(Z,"' for node: ").concat(W.name()));H.inputs.push(X),this._allData[X]._to.push(G)}}}},{key:"checkIsAcyclic",value:function(){var t=this,e=new Set;this._allInputIndices.forEach((function(n){t._allData[n]._to.forEach((function(t){e.add(t)}))}));for(var n=Array.from(e),r=new Array(this._nodes.length).fill("white"),o=function(){var e=n.pop();"gray"===r[e]?r[e]="black":(n.push(e),r[e]="gray",t._nodes[e].outputs.forEach((function(o){var i=t._allData[o];if(void 0!==i.tensor)throw new Error("node outputs should not be initialized");if(i._from!==e)throw new Error("from property of the Value object doesn't match index of Node being processed");i._to.forEach((function(t){if("gray"===r[t])throw new Error("model graph is cyclic");"white"===r[t]&&n.push(t)}))})))};n.length>0;)o()}},{key:"transformGraph",value:function(t){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),t&&t.transformGraph(this),this.finalizeGraph()}},{key:"finalizeGraph",value:function(){for(var t=this,e=0,n=function(n){t._nodes[n].executeNode?e>0&&(t._nodes[n].inputs.forEach((function(r){var o=t._allData[r]._to.indexOf(n+e);-1!==o&&(t._allData[r]._to[o]=n)})),t._nodes[n].outputs.forEach((function(r){t._allData[r]._from&&t._allData[r]._from===n+e&&(t._allData[r]._from=n)}))):(e++,t._nodes[n].outputs.forEach((function(e){t._allData[e]._from=-2})),t._nodes.splice(n,1),n--),r=n},r=0;r<this._nodes.length;r++)n(r);e=0;for(var o=function(n){if(-2!==t._allData[n].from||-1!==t._allOutputIndices.indexOf(n+e)){if(e>0){var r=-1;void 0!==t._allData[n].from&&-1!==t._allData[n].from?-1!==(r=t._nodes[t._allData[n].from].outputs.indexOf(n+e))&&(t._nodes[t._allData[n].from].outputs[r]=n):-1!==(r=t._allInputIndices.indexOf(n+e))&&(t._allInputIndices[r]=n),t._allData[n].to.forEach((function(o){-1!==(r=t._nodes[o].inputs.indexOf(n+e))&&(t._nodes[o].inputs[r]=n)})),0===t._allData[n].to.length&&-1!==(r=t._allOutputIndices.indexOf(n+e))&&(t._allOutputIndices[r]=n)}}else e++,t._allData.splice(n,1),n--;i=n},i=0;i<this._allData.length;i++)o(i)}},{key:"deleteNode",value:function(t){var e=this._nodes[t];if(e.outputs.length>1)for(var n=1;n<e.outputs.length;n++)if(this._allData[e.outputs[n]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");e.executeNode=!1;var r=e.inputs[0],o=e.outputs[0],i=this._allData[o].to,a=this._allData[r].to.indexOf(t);if(-1===a)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[r].to.splice(a,1),this._allData[o]._to=[];var s=this._allOutputIndices.indexOf(o);if(-1!==s&&(this._allOutputIndices[s]=r),i&&i.length>0){var u,c=_createForOfIteratorHelper(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=this._nodes[l].inputs.indexOf(o);if(-1===f)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[l].inputs[f]=r,this._allData[r].to.push(l)}}catch(d){c.e(d)}finally{c.f()}}}},{key:"removeAllDropoutNodes",value:function(){var t,e=0,n=_createForOfIteratorHelper(this._nodes);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("Dropout"===r.opType){if(1!==r.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==r.outputs.length&&2!==r.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===r.outputs.length&&0!==this._allData[r.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(e)}e++}}catch(o){n.e(o)}finally{n.f()}}},{key:"removeAllIdentityNodes",value:function(){var t,e=0,n=_createForOfIteratorHelper(this._nodes);try{for(n.s();!(t=n.n()).done;)"Identity"===t.value.opType&&this.deleteNode(e),e++}catch(r){n.e(r)}finally{n.f()}}},{key:"isActivation",value:function(t){switch(t.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}},{key:"fuseConvActivationNodes",value:function(){var t,n=_createForOfIteratorHelper(this._nodes);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("Conv"===r.opType){var o=this._allData[r.outputs[0]]._to;if(1===o.length&&this.isActivation(this._nodes[o[0]])){var i=this._nodes[o[0]];if("Clip"===i.opType)if(1===i.inputs.length)try{r.attributes.set("activation_params","floats",[i.attributes.getFloat("min"),i.attributes.getFloat("max")])}catch(e){r.attributes.set("activation_params","floats",[s.MIN_CLIP,s.MAX_CLIP])}else{if(!(i.inputs.length>=3&&void 0!==this._allData[i.inputs[1]].tensor&&void 0!==this._allData[i.inputs[2]].tensor))continue;r.attributes.set("activation_params","floats",[this._allData[i.inputs[1]].tensor.floatData[0],this._allData[i.inputs[2]].tensor.floatData[0]])}r.attributes.set("activation","string",i.opType),this.deleteNode(o[0])}}}}catch(a){n.e(a)}finally{n.f()}}}]),t}()},6231:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.now=e.Profiler=e.Logger=void 0;var n={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},r={none:new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t,e,n){}}]),t}()),console:new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t,e,n){console.log("".concat(this.color(t)," ").concat(n?"\x1b[35m"+n+"\x1b[0m ":"").concat(e))}},{key:"color",value:function(t){switch(t){case"verbose":return"\x1b[34;40mv\x1b[0m";case"info":return"\x1b[32mi\x1b[0m";case"warning":return"\x1b[30;43mw\x1b[0m";case"error":return"\x1b[31;40me\x1b[0m";case"fatal":return"\x1b[101mf\x1b[0m";default:throw new Error("unsupported severity: ".concat(t))}}}]),t}())},o={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1},i={"":o};function a(t,e,n,r){if(void 0===e)return o=t,{verbose:a.verbose.bind(null,o),info:a.info.bind(null,o),warning:a.warning.bind(null,o),error:a.error.bind(null,o),fatal:a.fatal.bind(null,o)};if(void 0===n)s(t,e);else if("number"==typeof n&&void 0===r)s(t,e);else if("string"==typeof n&&void 0===r)s(t,n,0,e);else{if("string"!=typeof n||"number"!=typeof r)throw new TypeError("input is valid");s(t,n,0,e)}var o}function s(t,e,o,a){var s=i[a||""]||i[""];n[t]<n[s.minimalSeverity]||(s.logDateTime&&(e="".concat((new Date).toISOString(),"|").concat(e)),s.logSourceLocation,r[s.provider].log(t,e,a))}!function(t){function e(t){i={},n("",t||{})}function n(t,n){if("*"===t)e(n);else{var r=i[t]||o;i[t]={provider:n.provider||r.provider,minimalSeverity:n.minimalSeverity||r.minimalSeverity,logDateTime:void 0===n.logDateTime?r.logDateTime:n.logDateTime,logSourceLocation:void 0===n.logSourceLocation?r.logSourceLocation:n.logSourceLocation}}}t.verbose=function(e,n){t("verbose",e,n)},t.info=function(e,n){t("info",e,n)},t.warning=function(e,n){t("warning",e,n)},t.error=function(e,n){t("error",e,n)},t.fatal=function(e,n){t("fatal",e,n)},t.reset=e,t.set=n,t.setWithEnv=function(t){var e={};t.logLevel&&(e.minimalSeverity=t.logLevel),n("",e)}}(a||(a={})),e.Logger=a;var u=function(){function t(e,n,r,o,i,a){_classCallCheck(this,t),this.category=e,this.name=n,this.startTime=r,this.endCallback=o,this.timer=i,this.ctx=a}return _createClass(t,[{key:"end",value:function(){return this.endCallback(this)}},{key:"checkTimer",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.ctx&&void 0!==this.timer){t.next=2;break}throw new Error("No webgl timer found");case 2:return t.abrupt("return",(this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),c=_createClass((function t(e,n,r,o){_classCallCheck(this,t),this.category=e,this.name=n,this.startTime=r,this.endTime=o}));e.Profiler=function(){function t(e,n,r){_classCallCheck(this,t),this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===e?1e4:e,this._flushBatchSize=void 0===n?10:n,this._flushIntervalInMilliseconds=void 0===r?5e3:r}return _createClass(t,[{key:"start",value:function(){this._started=!0,this._timingEvents=[],this._flushTime=(0,e.now)(),this._flushPointer=0}},{key:"stop",value:function(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}},{key:"event",value:function(t,e,n,r){var o=this._started?this.begin(t,e,r):void 0,i=!1,a=n();if(a&&"function"==typeof a.then)return i=!0,new Promise((function(t,e){a.then(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=o,!e.t0){e.next=4;break}return e.next=4,o.end();case 4:t(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(n){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=o,!t.t0){t.next=4;break}return t.next=4,o.end();case 4:e(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));if(!i&&o){var s=o.end();if(s&&"function"==typeof s.then)return new Promise((function(t,e){s.then((function(){t(a)}),(function(t){e(t)}))}))}return a}},{key:"begin",value:function(t,n,r){var o=this;if(!this._started)throw new Error("profiler is not started yet");if(void 0===r){var i=(0,e.now)();return this.flush(i),new u(t,n,i,(function(t){return o.endSync(t)}))}var a=r.beginTimer();return new u(t,n,0,function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.end(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a,r)}},{key:"end",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e){var n;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.checkTimer();case 2:n=t.sent,this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new c(e.category,e.name,e.startTime,n)),this.flush(n));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"endSync",value:function(t){var n=(0,e.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new c(t.category,t.name,t.startTime,n)),this.flush(n))}},{key:"logOneEvent",value:function(t){e.Logger.verbose("Profiler.".concat(t.category),"".concat((t.endTime-t.startTime).toFixed(2),"ms on event '").concat(t.name,"' at ").concat(t.endTime.toFixed(2)))}},{key:"flush",value:function(t){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||t-this._flushTime>=this._flushIntervalInMilliseconds){for(var n=this._flushPointer;this._flushPointer<n+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,e.now)()}}},{key:"started",get:function(){return this._started}}],[{key:"create",value:function(t){return void 0===t?new this:new this(t.maxNumberEvents,t.flushBatchSize,t.flushIntervalInMilliseconds)}}]),t}(),e.now="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:Date.now},2644:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;var r=n(5686),o=n(1446),i=n(7070),a=n(9395),s=n(2517),u=a.onnxruntime.experimental.fbs;e.Model=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"load",value:function(t,e,n){if(!n)try{return void this.loadFromOnnxFormat(t,e)}catch(t){if(void 0!==n)throw t}this.loadFromOrtFormat(t,e)}},{key:"loadFromOnnxFormat",value:function(t,e){var n=o.onnx.ModelProto.decode(t);if(s.LongUtil.longToNumber(n.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=n.opsetImport.map((function(t){return{domain:t.domain,version:s.LongUtil.longToNumber(t.version)}})),this._graph=i.Graph.from(n.graph,e)}},{key:"loadFromOrtFormat",value:function(t,e){var n=new r.flatbuffers.ByteBuffer(t),o=u.InferenceSession.getRootAsInferenceSession(n).model();if(s.LongUtil.longToNumber(o.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(var a=0;a<o.opsetImportLength();a++){var c=o.opsetImport(a);this._opsets.push({domain:null==c?void 0:c.domain(),version:s.LongUtil.longToNumber(c.version())})}this._graph=i.Graph.from(o.graph(),e)}},{key:"graph",get:function(){return this._graph}},{key:"opsets",get:function(){return this._opsets}}]),t}()},782:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FLOAT_TYPES=e.INT_TYPES=e.NUMBER_TYPES=void 0,e.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],e.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],e.FLOAT_TYPES=["float32","float64"]},1047:function(t,e){"use strict";function n(t,e){if(e.endsWith("+")){var n=Number.parseInt(e.substring(0,e.length-1),10);return!isNaN(n)&&n<=t}if(2===e.split("-").length){var r=e.split("-"),o=Number.parseInt(r[0],10),i=Number.parseInt(r[1],10);return!isNaN(o)&&!isNaN(i)&&o<=t&&t<=i}return Number.parseInt(e,10)===t}Object.defineProperty(e,"__esModule",{value:!0}),e.resolveOperator=void 0,e.resolveOperator=function(t,e,r){var o,i=_createForOfIteratorHelper(r);try{for(i.s();!(o=i.n()).done;){var a=o.value,s=a[0],u=a[1],c=a[2],l=a[3],f=a[4];if(t.opType===s){var d,p=_createForOfIteratorHelper(e);try{for(p.s();!(d=p.n()).done;){var h=d.value;if((h.domain===u||"ai.onnx"===h.domain&&""===u)&&n(h.version,c))return{opImpl:l,opInit:f}}}catch(g){p.e(g)}finally{p.f()}}}}catch(g){i.e(g)}finally{i.f()}throw new TypeError("cannot resolve operator '".concat(t.opType,"' with opsets: ").concat(e.map((function(t){return"".concat(t.domain||"ai.onnx"," v").concat(t.version)})).join(", ")))}},9395:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onnxruntime=void 0;var r,o,i,a=n(5686);(function(t){!function(t){t[t.UNDEFINED=0]="UNDEFINED",t[t.FLOAT=1]="FLOAT",t[t.INT=2]="INT",t[t.STRING=3]="STRING",t[t.TENSOR=4]="TENSOR",t[t.GRAPH=5]="GRAPH",t[t.FLOATS=6]="FLOATS",t[t.INTS=7]="INTS",t[t.STRINGS=8]="STRINGS",t[t.TENSORS=9]="TENSORS",t[t.GRAPHS=10]="GRAPHS",t[t.SPARSE_TENSOR=11]="SPARSE_TENSOR",t[t.SPARSE_TENSORS=12]="SPARSE_TENSORS"}(t.AttributeType||(t.AttributeType={}))})((o=(r=e.onnxruntime||(e.onnxruntime={})).experimental||(r.experimental={})).fbs||(o.fbs={})),function(t){!function(t){!function(t){!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VALUE=1]="VALUE",t[t.PARAM=2]="PARAM"}(t.DimensionValueType||(t.DimensionValueType={}))}(t.fbs||(t.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(t){!function(t){!function(t){t[t.UNDEFINED=0]="UNDEFINED",t[t.FLOAT=1]="FLOAT",t[t.UINT8=2]="UINT8",t[t.INT8=3]="INT8",t[t.UINT16=4]="UINT16",t[t.INT16=5]="INT16",t[t.INT32=6]="INT32",t[t.INT64=7]="INT64",t[t.STRING=8]="STRING",t[t.BOOL=9]="BOOL",t[t.FLOAT16=10]="FLOAT16",t[t.DOUBLE=11]="DOUBLE",t[t.UINT32=12]="UINT32",t[t.UINT64=13]="UINT64",t[t.COMPLEX64=14]="COMPLEX64",t[t.COMPLEX128=15]="COMPLEX128",t[t.BFLOAT16=16]="BFLOAT16"}(t.TensorDataType||(t.TensorDataType={}))}(t.fbs||(t.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(t){!function(t){!function(t){t[t.Primitive=0]="Primitive",t[t.Fused=1]="Fused"}(t.NodeType||(t.NodeType={}))}(t.fbs||(t.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(t){!function(t){!function(t){t[t.NONE=0]="NONE",t[t.tensor_type=1]="tensor_type",t[t.sequence_type=2]="sequence_type",t[t.map_type=3]="map_type"}(t.TypeInfoValue||(t.TypeInfoValue={}))}(t.fbs||(t.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"dim",value:function(e,n){var r=this.bb.__offset(this.bb_pos,4);return r?(n||new t.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}},{key:"dimLength",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}}],[{key:"getRootAsShape",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsShape",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startShape",value:function(t){t.startObject(1)}},{key:"addDim",value:function(t,e){t.addFieldOffset(0,e,0)}},{key:"createDimVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startDimVector",value:function(t,e){t.startVector(4,e,4)}},{key:"endShape",value:function(t){return t.endObject()}},{key:"createShape",value:function(t,n){return e.startShape(t),e.addDim(t,n),e.endShape(t)}}]),e}();e.Shape=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"value",value:function(e){var n=this.bb.__offset(this.bb_pos,4);return n?(e||new t.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"denotation",value:function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}}],[{key:"getRootAsDimension",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsDimension",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startDimension",value:function(t){t.startObject(2)}},{key:"addValue",value:function(t,e){t.addFieldOffset(0,e,0)}},{key:"addDenotation",value:function(t,e){t.addFieldOffset(1,e,0)}},{key:"endDimension",value:function(t){return t.endObject()}},{key:"createDimension",value:function(t,n,r){return e.startDimension(t),e.addValue(t,n),e.addDenotation(t,r),e.endDimension(t)}}]),e}();e.Dimension=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"dimType",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):t.experimental.fbs.DimensionValueType.UNKNOWN}},{key:"dimValue",value:function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}},{key:"dimParam",value:function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}}],[{key:"getRootAsDimensionValue",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsDimensionValue",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startDimensionValue",value:function(t){t.startObject(3)}},{key:"addDimType",value:function(e,n){e.addFieldInt8(0,n,t.experimental.fbs.DimensionValueType.UNKNOWN)}},{key:"addDimValue",value:function(t,e){t.addFieldInt64(1,e,t.createLong(0,0))}},{key:"addDimParam",value:function(t,e){t.addFieldOffset(2,e,0)}},{key:"endDimensionValue",value:function(t){return t.endObject()}},{key:"createDimensionValue",value:function(t,n,r,o){return e.startDimensionValue(t),e.addDimType(t,n),e.addDimValue(t,r),e.addDimParam(t,o),e.endDimensionValue(t)}}]),e}();e.DimensionValue=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"elemType",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.experimental.fbs.TensorDataType.UNDEFINED}},{key:"shape",value:function(e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new t.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}}],[{key:"getRootAsTensorTypeAndShape",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsTensorTypeAndShape",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startTensorTypeAndShape",value:function(t){t.startObject(2)}},{key:"addElemType",value:function(e,n){e.addFieldInt32(0,n,t.experimental.fbs.TensorDataType.UNDEFINED)}},{key:"addShape",value:function(t,e){t.addFieldOffset(1,e,0)}},{key:"endTensorTypeAndShape",value:function(t){return t.endObject()}},{key:"createTensorTypeAndShape",value:function(t,n,r){return e.startTensorTypeAndShape(t),e.addElemType(t,n),e.addShape(t,r),e.endTensorTypeAndShape(t)}}]),e}();e.TensorTypeAndShape=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"keyType",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.experimental.fbs.TensorDataType.UNDEFINED}},{key:"valueType",value:function(e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new t.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}}],[{key:"getRootAsMapType",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsMapType",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startMapType",value:function(t){t.startObject(2)}},{key:"addKeyType",value:function(e,n){e.addFieldInt32(0,n,t.experimental.fbs.TensorDataType.UNDEFINED)}},{key:"addValueType",value:function(t,e){t.addFieldOffset(1,e,0)}},{key:"endMapType",value:function(t){return t.endObject()}},{key:"createMapType",value:function(t,n,r){return e.startMapType(t),e.addKeyType(t,n),e.addValueType(t,r),e.endMapType(t)}}]),e}();e.MapType=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"elemType",value:function(e){var n=this.bb.__offset(this.bb_pos,4);return n?(e||new t.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}}],[{key:"getRootAsSequenceType",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsSequenceType",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startSequenceType",value:function(t){t.startObject(1)}},{key:"addElemType",value:function(t,e){t.addFieldOffset(0,e,0)}},{key:"endSequenceType",value:function(t){return t.endObject()}},{key:"createSequenceType",value:function(t,n){return e.startSequenceType(t),e.addElemType(t,n),e.endSequenceType(t)}}]),e}();e.SequenceType=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(t){(t.fbs||(t.fbs={})).EdgeEnd=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"nodeIndex",value:function(){return this.bb.readUint32(this.bb_pos)}},{key:"srcArgIndex",value:function(){return this.bb.readInt32(this.bb_pos+4)}},{key:"dstArgIndex",value:function(){return this.bb.readInt32(this.bb_pos+8)}}],[{key:"createEdgeEnd",value:function(t,e,n,r){return t.prep(4,12),t.writeInt32(r),t.writeInt32(n),t.writeInt32(e),t.offset()}}]),t}()}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"nodeIndex",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}},{key:"inputEdges",value:function(e,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new t.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+r)+12*e,this.bb):null}},{key:"inputEdgesLength",value:function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"outputEdges",value:function(e,n){var r=this.bb.__offset(this.bb_pos,8);return r?(n||new t.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+r)+12*e,this.bb):null}},{key:"outputEdgesLength",value:function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}}],[{key:"getRootAsNodeEdge",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsNodeEdge",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startNodeEdge",value:function(t){t.startObject(3)}},{key:"addNodeIndex",value:function(t,e){t.addFieldInt32(0,e,0)}},{key:"addInputEdges",value:function(t,e){t.addFieldOffset(1,e,0)}},{key:"startInputEdgesVector",value:function(t,e){t.startVector(12,e,4)}},{key:"addOutputEdges",value:function(t,e){t.addFieldOffset(2,e,0)}},{key:"startOutputEdgesVector",value:function(t,e){t.startVector(12,e,4)}},{key:"endNodeEdge",value:function(t){return t.endObject()}},{key:"createNodeEdge",value:function(t,n,r,o){return e.startNodeEdge(t),e.addNodeIndex(t,n),e.addInputEdges(t,r),e.addOutputEdges(t,o),e.endNodeEdge(t)}}]),e}();e.NodeEdge=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"name",value:function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"docString",value:function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"domain",value:function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"sinceVersion",value:function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):0}},{key:"index",value:function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint32(this.bb_pos+t):0}},{key:"opType",value:function(t){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"type",value:function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readInt32(this.bb_pos+e):t.experimental.fbs.NodeType.Primitive}},{key:"executionProviderType",value:function(t){var e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"inputs",value:function(t,e){var n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null}},{key:"inputsLength",value:function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"outputs",value:function(t,e){var n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null}},{key:"outputsLength",value:function(){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"attributes",value:function(e,n){var r=this.bb.__offset(this.bb_pos,24);return r?(n||new t.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}},{key:"attributesLength",value:function(){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"inputArgCounts",value:function(t){var e=this.bb.__offset(this.bb_pos,26);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}},{key:"inputArgCountsLength",value:function(){var t=this.bb.__offset(this.bb_pos,26);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"inputArgCountsArray",value:function(){var t=this.bb.__offset(this.bb_pos,26);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}},{key:"implicitInputs",value:function(t,e){var n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null}},{key:"implicitInputsLength",value:function(){var t=this.bb.__offset(this.bb_pos,28);return t?this.bb.__vector_len(this.bb_pos+t):0}}],[{key:"getRootAsNode",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsNode",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startNode",value:function(t){t.startObject(13)}},{key:"addName",value:function(t,e){t.addFieldOffset(0,e,0)}},{key:"addDocString",value:function(t,e){t.addFieldOffset(1,e,0)}},{key:"addDomain",value:function(t,e){t.addFieldOffset(2,e,0)}},{key:"addSinceVersion",value:function(t,e){t.addFieldInt32(3,e,0)}},{key:"addIndex",value:function(t,e){t.addFieldInt32(4,e,0)}},{key:"addOpType",value:function(t,e){t.addFieldOffset(5,e,0)}},{key:"addType",value:function(e,n){e.addFieldInt32(6,n,t.experimental.fbs.NodeType.Primitive)}},{key:"addExecutionProviderType",value:function(t,e){t.addFieldOffset(7,e,0)}},{key:"addInputs",value:function(t,e){t.addFieldOffset(8,e,0)}},{key:"createInputsVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startInputsVector",value:function(t,e){t.startVector(4,e,4)}},{key:"addOutputs",value:function(t,e){t.addFieldOffset(9,e,0)}},{key:"createOutputsVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startOutputsVector",value:function(t,e){t.startVector(4,e,4)}},{key:"addAttributes",value:function(t,e){t.addFieldOffset(10,e,0)}},{key:"createAttributesVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startAttributesVector",value:function(t,e){t.startVector(4,e,4)}},{key:"addInputArgCounts",value:function(t,e){t.addFieldOffset(11,e,0)}},{key:"createInputArgCountsVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()}},{key:"startInputArgCountsVector",value:function(t,e){t.startVector(4,e,4)}},{key:"addImplicitInputs",value:function(t,e){t.addFieldOffset(12,e,0)}},{key:"createImplicitInputsVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startImplicitInputsVector",value:function(t,e){t.startVector(4,e,4)}},{key:"endNode",value:function(t){return t.endObject()}},{key:"createNode",value:function(t,n,r,o,i,a,s,u,c,l,f,d,p,h){return e.startNode(t),e.addName(t,n),e.addDocString(t,r),e.addDomain(t,o),e.addSinceVersion(t,i),e.addIndex(t,a),e.addOpType(t,s),e.addType(t,u),e.addExecutionProviderType(t,c),e.addInputs(t,l),e.addOutputs(t,f),e.addAttributes(t,d),e.addInputArgCounts(t,p),e.addImplicitInputs(t,h),e.endNode(t)}}]),e}();e.Node=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"name",value:function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"docString",value:function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"type",value:function(e){var n=this.bb.__offset(this.bb_pos,8);return n?(e||new t.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}}],[{key:"getRootAsValueInfo",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsValueInfo",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startValueInfo",value:function(t){t.startObject(3)}},{key:"addName",value:function(t,e){t.addFieldOffset(0,e,0)}},{key:"addDocString",value:function(t,e){t.addFieldOffset(1,e,0)}},{key:"addType",value:function(t,e){t.addFieldOffset(2,e,0)}},{key:"endValueInfo",value:function(t){return t.endObject()}},{key:"createValueInfo",value:function(t,n,r,o){return e.startValueInfo(t),e.addName(t,n),e.addDocString(t,r),e.addType(t,o),e.endValueInfo(t)}}]),e}();e.ValueInfo=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"denotation",value:function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"valueType",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):t.experimental.fbs.TypeInfoValue.NONE}},{key:"value",value:function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}}],[{key:"getRootAsTypeInfo",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsTypeInfo",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startTypeInfo",value:function(t){t.startObject(3)}},{key:"addDenotation",value:function(t,e){t.addFieldOffset(0,e,0)}},{key:"addValueType",value:function(e,n){e.addFieldInt8(1,n,t.experimental.fbs.TypeInfoValue.NONE)}},{key:"addValue",value:function(t,e){t.addFieldOffset(2,e,0)}},{key:"endTypeInfo",value:function(t){return t.endObject()}},{key:"createTypeInfo",value:function(t,n,r,o){return e.startTypeInfo(t),e.addDenotation(t,n),e.addValueType(t,r),e.addValue(t,o),e.endTypeInfo(t)}}]),e}();e.TypeInfo=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(t){!function(t){var e=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"domain",value:function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"version",value:function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}}],[{key:"getRootAsOperatorSetId",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsOperatorSetId",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startOperatorSetId",value:function(t){t.startObject(2)}},{key:"addDomain",value:function(t,e){t.addFieldOffset(0,e,0)}},{key:"addVersion",value:function(t,e){t.addFieldInt64(1,e,t.createLong(0,0))}},{key:"endOperatorSetId",value:function(t){return t.endObject()}},{key:"createOperatorSetId",value:function(e,n,r){return t.startOperatorSetId(e),t.addDomain(e,n),t.addVersion(e,r),t.endOperatorSetId(e)}}]),t}();t.OperatorSetId=e}(t.fbs||(t.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"name",value:function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"docString",value:function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"dims",value:function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}},{key:"dimsLength",value:function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"dataType",value:function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):t.experimental.fbs.TensorDataType.UNDEFINED}},{key:"rawData",value:function(t){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}},{key:"rawDataLength",value:function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"rawDataArray",value:function(){var t=this.bb.__offset(this.bb_pos,12);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}},{key:"stringData",value:function(t,e){var n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null}},{key:"stringDataLength",value:function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}}],[{key:"getRootAsTensor",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsTensor",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startTensor",value:function(t){t.startObject(6)}},{key:"addName",value:function(t,e){t.addFieldOffset(0,e,0)}},{key:"addDocString",value:function(t,e){t.addFieldOffset(1,e,0)}},{key:"addDims",value:function(t,e){t.addFieldOffset(2,e,0)}},{key:"createDimsVector",value:function(t,e){t.startVector(8,e.length,8);for(var n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()}},{key:"startDimsVector",value:function(t,e){t.startVector(8,e,8)}},{key:"addDataType",value:function(e,n){e.addFieldInt32(3,n,t.experimental.fbs.TensorDataType.UNDEFINED)}},{key:"addRawData",value:function(t,e){t.addFieldOffset(4,e,0)}},{key:"createRawDataVector",value:function(t,e){t.startVector(1,e.length,1);for(var n=e.length-1;n>=0;n--)t.addInt8(e[n]);return t.endVector()}},{key:"startRawDataVector",value:function(t,e){t.startVector(1,e,1)}},{key:"addStringData",value:function(t,e){t.addFieldOffset(5,e,0)}},{key:"createStringDataVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startStringDataVector",value:function(t,e){t.startVector(4,e,4)}},{key:"endTensor",value:function(t){return t.endObject()}},{key:"createTensor",value:function(t,n,r,o,i,a,s){return e.startTensor(t),e.addName(t,n),e.addDocString(t,r),e.addDims(t,o),e.addDataType(t,i),e.addRawData(t,a),e.addStringData(t,s),e.endTensor(t)}}]),e}();e.Tensor=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"values",value:function(e){var n=this.bb.__offset(this.bb_pos,4);return n?(e||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"indices",value:function(e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"dims",value:function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}},{key:"dimsLength",value:function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}}],[{key:"getRootAsSparseTensor",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsSparseTensor",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startSparseTensor",value:function(t){t.startObject(3)}},{key:"addValues",value:function(t,e){t.addFieldOffset(0,e,0)}},{key:"addIndices",value:function(t,e){t.addFieldOffset(1,e,0)}},{key:"addDims",value:function(t,e){t.addFieldOffset(2,e,0)}},{key:"createDimsVector",value:function(t,e){t.startVector(8,e.length,8);for(var n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()}},{key:"startDimsVector",value:function(t,e){t.startVector(8,e,8)}},{key:"endSparseTensor",value:function(t){return t.endObject()}},{key:"createSparseTensor",value:function(t,n,r,o){return e.startSparseTensor(t),e.addValues(t,n),e.addIndices(t,r),e.addDims(t,o),e.endSparseTensor(t)}}]),e}();e.SparseTensor=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(t){var e=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"name",value:function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"docString",value:function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"type",value:function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):i.experimental.fbs.AttributeType.UNDEFINED}},{key:"f",value:function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readFloat32(this.bb_pos+t):0}},{key:"i",value:function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}},{key:"s",value:function(t){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"t",value:function(t){var e=this.bb.__offset(this.bb_pos,16);return e?(t||new i.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}},{key:"g",value:function(t){var e=this.bb.__offset(this.bb_pos,18);return e?(t||new i.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}},{key:"floats",value:function(t){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0}},{key:"floatsLength",value:function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"floatsArray",value:function(){var t=this.bb.__offset(this.bb_pos,20);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}},{key:"ints",value:function(t){var e=this.bb.__offset(this.bb_pos,22);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}},{key:"intsLength",value:function(){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"strings",value:function(t,e){var n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null}},{key:"stringsLength",value:function(){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"tensors",value:function(t,e){var n=this.bb.__offset(this.bb_pos,26);return n?(e||new i.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}},{key:"tensorsLength",value:function(){var t=this.bb.__offset(this.bb_pos,26);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"graphs",value:function(t,e){var n=this.bb.__offset(this.bb_pos,28);return n?(e||new i.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}},{key:"graphsLength",value:function(){var t=this.bb.__offset(this.bb_pos,28);return t?this.bb.__vector_len(this.bb_pos+t):0}}],[{key:"getRootAsAttribute",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsAttribute",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startAttribute",value:function(t){t.startObject(13)}},{key:"addName",value:function(t,e){t.addFieldOffset(0,e,0)}},{key:"addDocString",value:function(t,e){t.addFieldOffset(1,e,0)}},{key:"addType",value:function(t,e){t.addFieldInt32(2,e,i.experimental.fbs.AttributeType.UNDEFINED)}},{key:"addF",value:function(t,e){t.addFieldFloat32(3,e,0)}},{key:"addI",value:function(t,e){t.addFieldInt64(4,e,t.createLong(0,0))}},{key:"addS",value:function(t,e){t.addFieldOffset(5,e,0)}},{key:"addT",value:function(t,e){t.addFieldOffset(6,e,0)}},{key:"addG",value:function(t,e){t.addFieldOffset(7,e,0)}},{key:"addFloats",value:function(t,e){t.addFieldOffset(8,e,0)}},{key:"createFloatsVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addFloat32(e[n]);return t.endVector()}},{key:"startFloatsVector",value:function(t,e){t.startVector(4,e,4)}},{key:"addInts",value:function(t,e){t.addFieldOffset(9,e,0)}},{key:"createIntsVector",value:function(t,e){t.startVector(8,e.length,8);for(var n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()}},{key:"startIntsVector",value:function(t,e){t.startVector(8,e,8)}},{key:"addStrings",value:function(t,e){t.addFieldOffset(10,e,0)}},{key:"createStringsVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startStringsVector",value:function(t,e){t.startVector(4,e,4)}},{key:"addTensors",value:function(t,e){t.addFieldOffset(11,e,0)}},{key:"createTensorsVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startTensorsVector",value:function(t,e){t.startVector(4,e,4)}},{key:"addGraphs",value:function(t,e){t.addFieldOffset(12,e,0)}},{key:"createGraphsVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startGraphsVector",value:function(t,e){t.startVector(4,e,4)}},{key:"endAttribute",value:function(t){return t.endObject()}},{key:"createAttribute",value:function(e,n,r,o,i,a,s,u,c,l,f,d,p,h){return t.startAttribute(e),t.addName(e,n),t.addDocString(e,r),t.addType(e,o),t.addF(e,i),t.addI(e,a),t.addS(e,s),t.addT(e,u),t.addG(e,c),t.addFloats(e,l),t.addInts(e,f),t.addStrings(e,d),t.addTensors(e,p),t.addGraphs(e,h),t.endAttribute(e)}}]),t}();t.Attribute=e}(t.fbs||(t.fbs={}))}((i=e.onnxruntime||(e.onnxruntime={})).experimental||(i.experimental={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"initializers",value:function(e,n){var r=this.bb.__offset(this.bb_pos,4);return r?(n||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}},{key:"initializersLength",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"nodeArgs",value:function(e,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new t.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}},{key:"nodeArgsLength",value:function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"nodes",value:function(e,n){var r=this.bb.__offset(this.bb_pos,8);return r?(n||new t.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}},{key:"nodesLength",value:function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"maxNodeIndex",value:function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readUint32(this.bb_pos+t):0}},{key:"nodeEdges",value:function(e,n){var r=this.bb.__offset(this.bb_pos,12);return r?(n||new t.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}},{key:"nodeEdgesLength",value:function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"inputs",value:function(t,e){var n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null}},{key:"inputsLength",value:function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"outputs",value:function(t,e){var n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null}},{key:"outputsLength",value:function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"sparseInitializers",value:function(e,n){var r=this.bb.__offset(this.bb_pos,18);return r?(n||new t.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}},{key:"sparseInitializersLength",value:function(){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}}],[{key:"getRootAsGraph",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsGraph",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startGraph",value:function(t){t.startObject(8)}},{key:"addInitializers",value:function(t,e){t.addFieldOffset(0,e,0)}},{key:"createInitializersVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startInitializersVector",value:function(t,e){t.startVector(4,e,4)}},{key:"addNodeArgs",value:function(t,e){t.addFieldOffset(1,e,0)}},{key:"createNodeArgsVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startNodeArgsVector",value:function(t,e){t.startVector(4,e,4)}},{key:"addNodes",value:function(t,e){t.addFieldOffset(2,e,0)}},{key:"createNodesVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startNodesVector",value:function(t,e){t.startVector(4,e,4)}},{key:"addMaxNodeIndex",value:function(t,e){t.addFieldInt32(3,e,0)}},{key:"addNodeEdges",value:function(t,e){t.addFieldOffset(4,e,0)}},{key:"createNodeEdgesVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startNodeEdgesVector",value:function(t,e){t.startVector(4,e,4)}},{key:"addInputs",value:function(t,e){t.addFieldOffset(5,e,0)}},{key:"createInputsVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startInputsVector",value:function(t,e){t.startVector(4,e,4)}},{key:"addOutputs",value:function(t,e){t.addFieldOffset(6,e,0)}},{key:"createOutputsVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startOutputsVector",value:function(t,e){t.startVector(4,e,4)}},{key:"addSparseInitializers",value:function(t,e){t.addFieldOffset(7,e,0)}},{key:"createSparseInitializersVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startSparseInitializersVector",value:function(t,e){t.startVector(4,e,4)}},{key:"endGraph",value:function(t){return t.endObject()}},{key:"createGraph",value:function(t,n,r,o,i,a,s,u,c){return e.startGraph(t),e.addInitializers(t,n),e.addNodeArgs(t,r),e.addNodes(t,o),e.addMaxNodeIndex(t,i),e.addNodeEdges(t,a),e.addInputs(t,s),e.addOutputs(t,u),e.addSparseInitializers(t,c),e.endGraph(t)}}]),e}();e.Graph=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"irVersion",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}},{key:"opsetImport",value:function(e,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new t.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}},{key:"opsetImportLength",value:function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"producerName",value:function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"producerVersion",value:function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"domain",value:function(t){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"modelVersion",value:function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}},{key:"docString",value:function(t){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"graph",value:function(e){var n=this.bb.__offset(this.bb_pos,18);return n?(e||new t.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"graphDocString",value:function(t){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__string(this.bb_pos+e,t):null}}],[{key:"getRootAsModel",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsModel",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startModel",value:function(t){t.startObject(9)}},{key:"addIrVersion",value:function(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}},{key:"addOpsetImport",value:function(t,e){t.addFieldOffset(1,e,0)}},{key:"createOpsetImportVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startOpsetImportVector",value:function(t,e){t.startVector(4,e,4)}},{key:"addProducerName",value:function(t,e){t.addFieldOffset(2,e,0)}},{key:"addProducerVersion",value:function(t,e){t.addFieldOffset(3,e,0)}},{key:"addDomain",value:function(t,e){t.addFieldOffset(4,e,0)}},{key:"addModelVersion",value:function(t,e){t.addFieldInt64(5,e,t.createLong(0,0))}},{key:"addDocString",value:function(t,e){t.addFieldOffset(6,e,0)}},{key:"addGraph",value:function(t,e){t.addFieldOffset(7,e,0)}},{key:"addGraphDocString",value:function(t,e){t.addFieldOffset(8,e,0)}},{key:"endModel",value:function(t){return t.endObject()}},{key:"createModel",value:function(t,n,r,o,i,a,s,u,c,l){return e.startModel(t),e.addIrVersion(t,n),e.addOpsetImport(t,r),e.addProducerName(t,o),e.addProducerVersion(t,i),e.addDomain(t,a),e.addModelVersion(t,s),e.addDocString(t,u),e.addGraph(t,c),e.addGraphDocString(t,l),e.endModel(t)}}]),e}();e.Model=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(t){!function(t){var e=function(){function t(){_classCallCheck(this,t),this.bb=null,this.bb_pos=0}return _createClass(t,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"nodeIndices",value:function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+4*t):0}},{key:"nodeIndicesLength",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}},{key:"nodeIndicesArray",value:function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}},{key:"kernelDefHashes",value:function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}},{key:"kernelDefHashesLength",value:function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}}],[{key:"getRootAsKernelCreateInfos",value:function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"getSizePrefixedRootAsKernelCreateInfos",value:function(e,n){return e.setPosition(e.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}},{key:"startKernelCreateInfos",value:function(t){t.startObject(2)}},{key:"addNodeIndices",value:function(t,e){t.addFieldOffset(0,e,0)}},{key:"createNodeIndicesVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()}},{key:"startNodeIndicesVector",value:function(t,e){t.startVector(4,e,4)}},{key:"addKernelDefHashes",value:function(t,e){t.addFieldOffset(1,e,0)}},{key:"createKernelDefHashesVector",value:function(t,e){t.startVector(8,e.length,8);for(var n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()}},{key:"startKernelDefHashesVector",value:function(t,e){t.startVector(8,e,8)}},{key:"endKernelCreateInfos",value:function(t){return t.endObject()}},{key:"createKernelCreateInfos",value:function(e,n,r){return t.startKernelCreateInfos(e),t.addNodeIndices(e,n),t.addKernelDefHashes(e,r),t.endKernelCreateInfos(e)}}]),t}();t.KernelCreateInfos=e}(t.fbs||(t.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"graphId",value:function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"sessionState",value:function(e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new t.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}}],[{key:"getRootAsSubGraphSessionState",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsSubGraphSessionState",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startSubGraphSessionState",value:function(t){t.startObject(2)}},{key:"addGraphId",value:function(t,e){t.addFieldOffset(0,e,0)}},{key:"addSessionState",value:function(t,e){t.addFieldOffset(1,e,0)}},{key:"endSubGraphSessionState",value:function(t){var e=t.endObject();return t.requiredField(e,4),e}},{key:"createSubGraphSessionState",value:function(t,n,r){return e.startSubGraphSessionState(t),e.addGraphId(t,n),e.addSessionState(t,r),e.endSubGraphSessionState(t)}}]),e}();e.SubGraphSessionState=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"kernels",value:function(e){var n=this.bb.__offset(this.bb_pos,4);return n?(e||new t.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"subGraphSessionStates",value:function(e,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new t.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}},{key:"subGraphSessionStatesLength",value:function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}}],[{key:"getRootAsSessionState",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsSessionState",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startSessionState",value:function(t){t.startObject(2)}},{key:"addKernels",value:function(t,e){t.addFieldOffset(0,e,0)}},{key:"addSubGraphSessionStates",value:function(t,e){t.addFieldOffset(1,e,0)}},{key:"createSubGraphSessionStatesVector",value:function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}},{key:"startSubGraphSessionStatesVector",value:function(t,e){t.startVector(4,e,4)}},{key:"endSessionState",value:function(t){return t.endObject()}},{key:"createSessionState",value:function(t,n,r){return e.startSessionState(t),e.addKernels(t,n),e.addSubGraphSessionStates(t,r),e.endSessionState(t)}}]),e}();e.SessionState=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){_classCallCheck(this,e),this.bb=null,this.bb_pos=0}return _createClass(e,[{key:"__init",value:function(t,e){return this.bb_pos=t,this.bb=e,this}},{key:"ortVersion",value:function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}},{key:"model",value:function(e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new t.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}},{key:"sessionState",value:function(e){var n=this.bb.__offset(this.bb_pos,8);return n?(e||new t.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}}],[{key:"getRootAsInferenceSession",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsInferenceSession",value:function(t,n){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"bufferHasIdentifier",value:function(t){return t.__has_identifier("ORTM")}},{key:"startInferenceSession",value:function(t){t.startObject(3)}},{key:"addOrtVersion",value:function(t,e){t.addFieldOffset(0,e,0)}},{key:"addModel",value:function(t,e){t.addFieldOffset(1,e,0)}},{key:"addSessionState",value:function(t,e){t.addFieldOffset(2,e,0)}},{key:"endInferenceSession",value:function(t){return t.endObject()}},{key:"finishInferenceSessionBuffer",value:function(t,e){t.finish(e,"ORTM")}},{key:"finishSizePrefixedInferenceSessionBuffer",value:function(t,e){t.finish(e,"ORTM",!0)}},{key:"createInferenceSession",value:function(t,n,r,o){return e.startInferenceSession(t),e.addOrtVersion(t,n),e.addModel(t,r),e.addSessionState(t,o),e.endInferenceSession(t)}}]),e}();e.InferenceSession=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={}))},7448:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnnxjsSessionHandler=void 0;var r=n(1670),o=n(9162);e.OnnxjsSessionHandler=function(){function t(e){_classCallCheck(this,t),this.session=e,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}return _createClass(t,[{key:"dispose",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"run",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e,n,i){var a,s,u,c,l;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(s in a=new Map,e)Object.hasOwnProperty.call(e,s)&&(u=e[s],a.set(s,new o.Tensor(u.dims,u.type,void 0,void 0,u.data)));return t.next=4,this.session.run(a);case 4:return c=t.sent,l={},t.abrupt("return",(c.forEach((function(t,e){l[e]=new r.Tensor(t.type,t.data,t.dims)})),l));case 7:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"startProfiling",value:function(){this.session.startProfiling()}},{key:"endProfiling",value:function(){this.session.endProfiling()}}]),t}()},6919:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Session=void 0;var r=n(7067),o=n(1296),i=n(7091),a=n(1036),s=n(6231),u=n(2644);e.Session=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this._initialized=!1,this.backendHint=e.backendHint,this.profiler=s.Profiler.create(e.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}return _createClass(t,[{key:"inputNames",get:function(){return this._model.graph.getInputNames()}},{key:"outputNames",get:function(){return this._model.graph.getOutputNames()}},{key:"startProfiling",value:function(){this.profiler.start()}},{key:"endProfiling",value:function(){this.profiler.stop()}},{key:"loadModel",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e,n,a){var s=this;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.profiler.event("session","Session.loadModel",_asyncToGenerator(_regeneratorRuntime().mark((function t(){var c,l,f,d,p,h;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.resolveBackend)(s.backendHint);case 2:if(c=t.sent,s.sessionHandler=c.createSessionHandler(s.context),s._model=new u.Model,"string"!=typeof e){t.next=21;break}if(l=e.endsWith(".ort"),"undefined"!=typeof fetch){t.next=12;break}return t.next=8,(0,o.promisify)(r.readFile)(e);case 8:f=t.sent,s.initialize(f,l),t.next=19;break;case 12:return t.next=14,fetch(e);case 14:return d=t.sent,t.next=17,d.arrayBuffer();case 17:p=t.sent,s.initialize(new Uint8Array(p),l);case 19:t.next=22;break;case 21:ArrayBuffer.isView(e)?s.initialize(e):(h=new Uint8Array(e,n||0,a||e.byteLength),s.initialize(h));case 22:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"initialize",value:function(t,e){var n=this;if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",(function(){var r=n.sessionHandler.transformGraph?n.sessionHandler:void 0;n._model.load(t,r,e),n.sessionHandler.onGraphInitialized&&n.sessionHandler.onGraphInitialized(n._model.graph),n.initializeOps(n._model.graph),n._executionPlan=new a.ExecutionPlan(n._model.graph,n._ops,n.profiler)})),this._initialized=!0}},{key:"run",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e){var n=this;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._initialized){t.next=2;break}throw new Error("session not initialized yet");case 2:return t.abrupt("return",this.profiler.event("session","Session.run",_asyncToGenerator(_regeneratorRuntime().mark((function t(){var r,o;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.normalizeAndValidateInputs(e),t.next=3,n._executionPlan.execute(n.sessionHandler,r);case 3:return o=t.sent,t.abrupt("return",n.createOutput(o));case 5:case"end":return t.stop()}}),t)})))));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"normalizeAndValidateInputs",value:function(t){var e=this._model.graph.getInputNames();if(Array.isArray(t)){if(t.length!==e.length)throw new Error("incorrect input array length: expected ".concat(e.length," but got ").concat(t.length))}else{if(t.size!==e.length)throw new Error("incorrect input map size: expected ".concat(e.length," but got ").concat(t.size));for(var n=new Array(t.size),r=0,o=0;o<e.length;++o){var i=t.get(e[o]);if(!i)throw new Error("missing input tensor for: '".concat(name,"'"));n[r++]=i}t=n}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,t,!1);else{for(var a=this._model.graph.getInputIndices(),s=this._model.graph.getValues(),u=new Array(a.length),c=0;c<a.length;++c){var l=s[a[c]];u[c]=l.type.shape.dims,this.context.graphInputTypes.push(l.type.tensorType),this.context.graphInputDims.push(t[c].dims)}this.validateInputTensorDims(u,t,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,t),t}},{key:"validateInputTensorTypes",value:function(t,e){for(var n=0;n<e.length;n++){var r=t[n],o=e[n].type;if(r!==o)throw new Error("input tensor[".concat(n,"] check failed: expected type '").concat(r,"' but got ").concat(o))}}},{key:"validateInputTensorDims",value:function(t,e,n){for(var r=0;r<e.length;r++){var o=t[r],i=e[r].dims;if(!this.compareTensorDims(o,i,n))throw new Error("input tensor[".concat(r,"] check failed: expected shape '[").concat(o.join(","),"]' but got [").concat(i.join(","),"]"))}}},{key:"compareTensorDims",value:function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r]&&(!n||0!==t[r]))return!1;return!0}},{key:"createOutput",value:function(t){var e=this._model.graph.getOutputNames();if(t.length!==e.length)throw new Error("expected number of outputs do not match number of generated outputs");for(var n=new Map,r=0;r<e.length;++r)n.set(e[r],t[r]);return n}},{key:"initializeOps",value:function(t){var e=t.getNodes();this._ops=new Array(e.length);for(var n=0;n<e.length;n++)this._ops[n]=this.sessionHandler.resolve(e[n],this._model.opsets,t)}}]),t}()},9162:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Tensor=void 0;var o=n(3442),i=r(n(3720)),a=n(1446),s=n(9395),u=n(2517),c=s.onnxruntime.experimental.fbs,l=function(){function t(e,n,r,i,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:o.Guid.create();_classCallCheck(this,t),this.dims=e,this.type=n,this.dataProvider=r,this.asyncDataProvider=i,this.cache=a,this.dataId=s,this.size=u.ShapeUtil.validateDimsAndCalcSize(e);var c=this.size,l=void 0===r&&void 0===i&&void 0===a;if(void 0!==a&&a.length!==c)throw new RangeError("Input dims doesn't match data length.");if("string"===n){if(!(void 0===a||Array.isArray(a)&&a.every((function(t){return"string"==typeof t}))))throw new TypeError("cache should be a string array");l&&(this.cache=new Array(c))}else{if(void 0!==a){var f=d(n);if(!(a instanceof f))throw new TypeError("cache should be type ".concat(f.name))}if(l){var p=new ArrayBuffer(c*function(t){switch(t){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error("cannot calculate sizeof() on type ".concat(t))}}(n));this.cache=function(t,e){return new(d(e))(t)}(p,n)}}}return _createClass(t,[{key:"data",get:function(){if(void 0===this.cache){var t=this.dataProvider(this.dataId);if(t.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=t}return this.cache}},{key:"stringData",get:function(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data}},{key:"integerData",get:function(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}},{key:"floatData",get:function(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}},{key:"numberData",get:function(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)")}},{key:"get",value:function(t){return this.data[u.ShapeUtil.indicesToOffset(t,this.strides)]}},{key:"set",value:function(t,e){this.data[u.ShapeUtil.indicesToOffset(t,this.strides)]=e}},{key:"getData",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=void 0===this.cache,!t.t0){t.next=5;break}return t.next=4,this.asyncDataProvider(this.dataId);case 4:this.cache=t.sent;case 5:return t.abrupt("return",this.cache);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"strides",get:function(){return this._strides||(this._strides=u.ShapeUtil.computeStrides(this.dims)),this._strides}}],[{key:"fromProto",value:function(e){if(!e)throw new Error("cannot construct Value from an empty tensor");var n=u.ProtoUtil.tensorDataTypeFromProto(e.dataType),r=new t(u.ProtoUtil.tensorDimsFromProto(e.dims),n);if("string"===n)e.stringData.forEach((function(t,e){r.data[e]=(0,u.decodeUtf8String)(t)}));else if(e.rawData&&"number"==typeof e.rawData.byteLength&&e.rawData.byteLength>0){var o=r.data,s=new DataView(e.rawData.buffer,e.rawData.byteOffset,e.rawData.byteLength),c=f(e.dataType),l=e.rawData.byteLength/c;if(e.rawData.byteLength%c!=0)throw new Error("invalid buffer length");if(o.length!==l)throw new Error("buffer length mismatch");for(var d=0;d<l;d++){var g=h(s,e.dataType,d*c);o[d]=g}}else{var b;switch(e.dataType){case a.onnx.TensorProto.DataType.FLOAT:b=e.floatData;break;case a.onnx.TensorProto.DataType.INT32:case a.onnx.TensorProto.DataType.INT16:case a.onnx.TensorProto.DataType.UINT16:case a.onnx.TensorProto.DataType.INT8:case a.onnx.TensorProto.DataType.UINT8:case a.onnx.TensorProto.DataType.BOOL:b=e.int32Data;break;case a.onnx.TensorProto.DataType.INT64:b=e.int64Data;break;case a.onnx.TensorProto.DataType.DOUBLE:b=e.doubleData;break;case a.onnx.TensorProto.DataType.UINT32:case a.onnx.TensorProto.DataType.UINT64:b=e.uint64Data;break;default:throw new Error("unspecific error")}if(null==b)throw new Error("failed to populate data from a tensorproto value");var v=r.data;if(v.length!==b.length)throw new Error("array length mismatch");for(var y=0;y<b.length;y++){var m=b[y];i.default.isLong(m)?v[y]=p(m,e.dataType):v[y]=m}}return r}},{key:"fromData",value:function(e,n,r){return new t(n,r,void 0,void 0,e)}},{key:"fromOrtTensor",value:function(e){if(!e)throw new Error("cannot construct Value from an empty tensor");var n=u.ProtoUtil.tensorDimsFromORTFormat(e),r=u.ProtoUtil.tensorDataTypeFromProto(e.dataType()),o=new t(n,r);if("string"===r)for(var i=0;i<e.stringDataLength();i++)o.data[i]=e.stringData(i);else if(e.rawDataArray()&&"number"==typeof e.rawDataLength()&&e.rawDataLength()>0){var a=o.data,s=new DataView(e.rawDataArray().buffer,e.rawDataArray().byteOffset,e.rawDataLength()),c=f(e.dataType()),l=e.rawDataLength()/c;if(e.rawDataLength()%c!=0)throw new Error("invalid buffer length");if(a.length!==l)throw new Error("buffer length mismatch");for(var d=0;d<l;d++){var p=h(s,e.dataType(),d*c);a[d]=p}}return o}}]),t}();function f(t){switch(t){case a.onnx.TensorProto.DataType.UINT8:case a.onnx.TensorProto.DataType.INT8:case a.onnx.TensorProto.DataType.BOOL:return 1;case a.onnx.TensorProto.DataType.UINT16:case a.onnx.TensorProto.DataType.INT16:return 2;case a.onnx.TensorProto.DataType.FLOAT:case a.onnx.TensorProto.DataType.INT32:case a.onnx.TensorProto.DataType.UINT32:return 4;case a.onnx.TensorProto.DataType.INT64:case a.onnx.TensorProto.DataType.DOUBLE:case a.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error("cannot calculate sizeof() on type ".concat(a.onnx.TensorProto.DataType[t]))}}function d(t){switch(t){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function p(t,e){if(e===a.onnx.TensorProto.DataType.INT64||e===c.TensorDataType.INT64){if(t.greaterThanOrEqual(2147483648)||t.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(e!==a.onnx.TensorProto.DataType.UINT32&&e!==c.TensorDataType.UINT32&&e!==a.onnx.TensorProto.DataType.UINT64&&e!==c.TensorDataType.UINT64)throw new TypeError("not a LONG type: ".concat(a.onnx.TensorProto.DataType[e]));if(t.greaterThanOrEqual(4294967296)||t.lessThan(0))throw new TypeError("uint64 is not supported")}return t.toNumber()}function h(t,e,n){switch(e){case a.onnx.TensorProto.DataType.BOOL:case a.onnx.TensorProto.DataType.UINT8:return t.getUint8(n);case a.onnx.TensorProto.DataType.INT8:return t.getInt8(n);case a.onnx.TensorProto.DataType.UINT16:return t.getUint16(n,!0);case a.onnx.TensorProto.DataType.INT16:return t.getInt16(n,!0);case a.onnx.TensorProto.DataType.FLOAT:return t.getFloat32(n,!0);case a.onnx.TensorProto.DataType.INT32:return t.getInt32(n,!0);case a.onnx.TensorProto.DataType.UINT32:return t.getUint32(n,!0);case a.onnx.TensorProto.DataType.INT64:return p(i.default.fromBits(t.getUint32(n,!0),t.getUint32(n+4,!0),!1),e);case a.onnx.TensorProto.DataType.DOUBLE:return t.getFloat64(n,!0);case a.onnx.TensorProto.DataType.UINT64:return p(i.default.fromBits(t.getUint32(n,!0),t.getUint32(n+4,!0),!0),e);default:throw new Error("cannot read from DataView for type ".concat(a.onnx.TensorProto.DataType[e]))}}e.Tensor=l},2517:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUtf8String=e.MAX_CLIP=e.MIN_CLIP=e.PoolConvUtil=e.ReduceUtil=e.SplitUtil=e.MathUtil=e.ShapeUtil=e.LongUtil=e.ProtoUtil=e.GemmUtil=e.arrayCopyHelper=e.BroadcastUtil=e.MatMulUtil=e.ArrayUtil=e.assert=e.checkInputsShape=void 0;var o=n(5686),i=r(n(3720)),a=n(1446),s=n(9162);e.checkInputsShape=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(!t||t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!t[o].dims||t[o].dims.length!==n[o])return!1;return!0},e.assert=function(t,e){if(!t)throw new Error("string"==typeof e?e:e())},e.ArrayUtil=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"arraysEqual",value:function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}}]),t}();var u=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"preprocessInputShapes",value:function(t,e){return[1===t.length?[1,t[0]]:t,1===e.length?[e[0],1]:e]}},{key:"postprocessOutputShape",value:function(t,e,n){1===e&&t.splice(t.length-2,1),1===n&&t.pop()}},{key:"calcMatMulShape",value:function(t,e){return t[1]!==e[0]?void 0:[t[0],e[1]]}}]),t}();e.MatMulUtil=u;var c=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"calcShape",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.length,o=e.length;if(0===r)return e;if(0===o)return t;var i=Math.max(t.length,e.length),a=new Array(i);if(n){if(r<2||o<2)return;var s=u.calcMatMulShape([t[r-2],t[r-1]],[e[o-2],e[o-1]]);if(void 0===s)return;var c=_slicedToArray(s,2);a[i-2]=c[0],a[i-1]=c[1]}for(var l=n?3:1;l<=i;l++){var f=r-l<0?1:t[r-l],d=o-l<0?1:e[o-l];if(f!==d&&f>1&&d>1)return;a[i-l]=Math.max(f,d)}return a}},{key:"index",value:function(e,n){var r=new Array(n.length);return t.fillIndex(e,n,r),r}},{key:"fillIndex",value:function(t,e,n){for(var r=t.length-e.length,o=0;o<e.length;o++)n[o]=t[r+o]%e[o]}},{key:"calc",value:function(e,n,r,o,i){var a=t.calcShape(e.dims,n.dims);if(a){if(o&&!d.areEqual(a,e.dims))return;var u=d.size(a),c=o?e:new s.Tensor(a,i||e.type);if(0===a.length)c.set([],r(e.get([]),n.get([])));else{var l,f=new Array(a.length),p=new Array(e.dims.length),h=new Array(n.dims.length),g=0,b=0,v=!1,y=!1;0===e.dims.length&&(g=e.get([]),v=!0),0===n.dims.length&&(b=n.get([]),y=!0);for(var m=0;m<u;m++){l=m;for(var _=a.length-1;_>=0;_--)f[_]=l%a[_],l=Math.floor(l/a[_]);v||(t.fillIndex(f,e.dims,p),g=e.get(p)),y||(t.fillIndex(f,n.dims,h),b=n.get(h)),c.set(f,r(g,b))}}return c}}},{key:"isValidBroadcast",value:function(t,e){var n=t.length,r=e.length;if(n>r)return!1;for(var o=1;o<=n;o++)if(1!==t[n-o]&&t[n-o]!==e[r-o])return!1;return!0}},{key:"getBroadcastDims",value:function(t,e){for(var n=t.length,r=[],o=0;o<n;o++){var i=n-1-o,a=t[i]||1;(e[e.length-1-o]||1)>1&&1===a&&r.unshift(i)}return r}}]),t}();e.BroadcastUtil=c,e.arrayCopyHelper=function(t,e,n,r,o){if(r<0||r>=e.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=t.length)throw new Error("targetIndex out of bounds");if(r+o>e.length)throw new Error("source indices to be copied are outside bounds");if(n+o>t.length)throw new Error("target array is too small to hold result");for(var i=0;i<o;i++)t[n+i]=e[r+i]},e.GemmUtil=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"getShapeOfGemmResult",value:function(t,e,n,r,o){if(2!==t.length||2!==n.length)throw new Error("shape need to be of size 2");var i,a,s;e?(i=t[1],a=t[0]):(i=t[0],a=t[1]);var u=-1;if(r?(s=n[0],u=1):(s=n[1],u=0),n[u]!==a)throw new Error("dimension mismatch");if(i<=0||s<=0||a<=0)throw new Error("invalid shape specified");if(o&&!c.isValidBroadcast(o,[i,s]))throw new Error("gemm: invalid bias shape for broadcast");return[i,s,a]}}]),t}();var l=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"tensorDataTypeFromProto",value:function(t){switch(t){case a.onnx.TensorProto.DataType.INT8:return"int8";case a.onnx.TensorProto.DataType.UINT8:return"uint8";case a.onnx.TensorProto.DataType.BOOL:return"bool";case a.onnx.TensorProto.DataType.INT16:return"int16";case a.onnx.TensorProto.DataType.UINT16:return"uint16";case a.onnx.TensorProto.DataType.INT32:return"int32";case a.onnx.TensorProto.DataType.UINT32:return"uint32";case a.onnx.TensorProto.DataType.FLOAT:return"float32";case a.onnx.TensorProto.DataType.DOUBLE:return"float64";case a.onnx.TensorProto.DataType.STRING:return"string";case a.onnx.TensorProto.DataType.INT64:return"int32";case a.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error("unsupported data type: ".concat(a.onnx.TensorProto.DataType[t]))}}},{key:"tensorDataTypeStringToEnum",value:function(t){switch(t){case"int8":return a.onnx.TensorProto.DataType.INT8;case"uint8":return a.onnx.TensorProto.DataType.UINT8;case"bool":return a.onnx.TensorProto.DataType.BOOL;case"int16":return a.onnx.TensorProto.DataType.INT16;case"uint16":return a.onnx.TensorProto.DataType.UINT16;case"int32":return a.onnx.TensorProto.DataType.INT32;case"uint32":return a.onnx.TensorProto.DataType.UINT32;case"float32":return a.onnx.TensorProto.DataType.FLOAT;case"float64":return a.onnx.TensorProto.DataType.DOUBLE;case"string":return a.onnx.TensorProto.DataType.STRING;case"int64":return a.onnx.TensorProto.DataType.INT64;case"uint64":return a.onnx.TensorProto.DataType.UINT64;default:throw new Error("unsupported data type: ".concat(t))}}},{key:"tensorDimsFromProto",value:function(t){return t.map((function(t){return i.default.isLong(t)?t.toNumber():t}))}},{key:"tensorValueTypeFromProto",value:function(e){return{tensorType:t.tensorDataTypeFromProto(e.elemType),shape:{dims:t.tensorDimsFromProto(e.shape.dim.map((function(t){return t.dimValue})))}}}},{key:"tensorDimsFromORTFormat",value:function(t){for(var e=[],n=0;n<t.dimsLength();n++)e.push(f.longToNumber(t.dims(n)));return e}},{key:"tensorAttributesFromORTFormat",value:function(t){for(var e=[],n=0;n<t.attributesLength();n++)e.push(t.attributes(n));return e}}]),t}();e.ProtoUtil=l;var f=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"longToNumber",value:function(t,e){return i.default.isLong(t)?t.toNumber():t instanceof o.flatbuffers.Long?i.default.fromValue({low:t.low,high:t.high,unsigned:null!=e&&e}).toNumber():t}},{key:"isLong",value:function(t){return i.default.isLong(t)||t instanceof o.flatbuffers.Long}}]),t}();e.LongUtil=f;var d=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"size",value:function(e){return t.getSizeFromDimensionRange(e,0,e.length)}},{key:"sizeFromDimension",value:function(e,n){if(n<0||n>e.length)throw new Error("invalid dimension of ".concat(n," for sizeFromDimension as Tensor has ").concat(e.length," dimensions."));return t.getSizeFromDimensionRange(e,n,e.length)}},{key:"sizeToDimension",value:function(e,n){if(n<0||n>e.length)throw new Error("invalid dimension of ".concat(n," for sizeToDimension as Tensor has ").concat(e.length," dimensions."));return t.getSizeFromDimensionRange(e,0,n)}},{key:"getSizeFromDimensionRange",value:function(t,e,n){for(var r=1,o=e;o<n;o++){if(t[o]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=t[o]}return r}},{key:"computeStrides",value:function(t){var e=t.length;if(0===e)return[];if(1===e)return[1];var n=new Array(e);n[e-1]=1,n[e-2]=t[e-1];for(var r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}},{key:"transpose",value:function(t){return t.slice().reverse()}},{key:"indicesToOffset",value:function(t,e,n){void 0===n&&(n=t.length);for(var r=0,o=0;o<n;++o)r+=e[o]*t[o];return r}},{key:"offsetToIndices",value:function(t,e){var n=e.length;if(0===n)return[];if(1===n)return[t*e[0]];for(var r=new Array(e.length),o=0;o<r.length-1;++o)r[o]=Math.floor(t/e[o]),t-=r[o]*e[o];return r[r.length-1]=t,r}},{key:"normalizeAxis",value:function(t,e){if(t<-e&&t>=e)throw new Error("unsupported axis for this operation.");return t<0?t+e:t}},{key:"normalizeAxes",value:function(t,e){var n=this;return t.map((function(t){return n.normalizeAxis(t,e)}))}},{key:"incrementIndex",value:function(t,e,n){if(0===e.length||0===t.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===n)n=e.length;else if(n<=0||n>e.length)throw new Error("Incorrect axis to increment on");for(var r=n-1;r>=0&&(t[r]++,!(t[r]<e[r]));--r)t[r]=0}},{key:"calculateReshapedDims",value:function(e,n){if(0===n.length){if(0===e.length||1===t.size(e))return[];throw new Error("cannot reshape to a scalar Tensor")}for(var r=n.length,o=new Array(r),i=-1,a=1,s=0;s<r;s++){if(n[s]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===n[s]){if(-1!==i)throw new Error("at most one dimension in shape hints can be -1");i=s}else{if(0===n[s]){if(s>=e.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");o[s]=e[s]}else o[s]=n[s];a*=o[s]}}var u=t.size(e);if(-1!==i){if(u%a!=0)throw new Error("the input tensor cannot be reshaped to the requested shape. Input shape: [".concat(e,"] Output shape: [").concat(n,"]"));o[i]=u/a}else if(a!==u)throw new Error("reshapedDims and originalDims don't have matching sizes");return o}},{key:"sortBasedOnPerm",value:function(t,e){return e?e.map((function(e){return t[e]})):t.slice().reverse()}},{key:"padShape",value:function(t,e){var n=t.length;return t.map((function(t,r){return t+e[r]+e[r+n]}))}},{key:"areEqual",value:function(t,e){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))}},{key:"validateDimsAndCalcSize",value:function(t){if(t.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");var e,n=1,r=_createForOfIteratorHelper(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(!Number.isInteger(o))throw new TypeError("Invalid shape: ".concat(o," is not an integer"));if(o<0||o>2147483647)throw new TypeError("Invalid shape: length ".concat(o," is not allowed"));n*=o}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"flattenShape",value:function(t,e){e<0&&(e+=t.length);var n=t.reduce((function(t,e){return t*e}),1),r=t.slice(e).reduce((function(t,e){return t*e}),1);return[n/r,r]}},{key:"squeezeShape",value:function(e,n){var r=new Array;n=t.normalizeAxes(n,e.length);for(var o=0;o<e.length;o++){var i=n.indexOf(o)>=0;if(i&&1!==e[o])throw new Error("squeeze an axis of size different than 1");(0===n.length&&e[o]>1||n.length>0&&!i)&&r.push(e[o])}return r}},{key:"unsqueezeShape",value:function(e,n){var r=new Array(e.length+n.length);r.fill(0);for(var o=0;o<n.length;o++){var i=t.normalizeAxis(n[o],r.length);if(i>=r.length)throw new Error("'axes' has an out of range axis");if(0!==r[i])throw new Error("'axes' has a duplicate axis");r[i]=1}for(var a=0,s=0;s<r.length;s++)0===r[s]&&(r[s]=e[a++]);if(a!==e.length)throw new Error("the unsqueezed dimension could not be established");return r}}]),t}();e.ShapeUtil=d,e.MathUtil=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"sqr",value:function(t,e,n,r,o){if(r<0||r>=e.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=t.length)throw new Error("targetIndex out of bounds");if(r+o>e.length)throw new Error("source indices to be copied are outside bounds");if(n+o>t.length)throw new Error("target array is too small to hold result");for(var i=0;i<o;i++)t[n+i]+=Math.pow(e[r+i],2)}},{key:"axpy",value:function(t,e,n,r,o,i){if(r<0||r>=e.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=t.length)throw new Error("targetIndex out of bounds");if(r+o>e.length)throw new Error("source indices to be copied are outside bounds");if(n+o>t.length)throw new Error("target array is too small to hold result");for(var a=0;a<o;a++)t[n+a]+=i*e[r+a]}},{key:"powx",value:function(t,e,n,r,o,i){if(r<0||r>=e.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=t.length)throw new Error("targetIndex out of bounds");if(r+o>e.length)throw new Error("source indices to be copied are outside bounds");if(n+o>t.length)throw new Error("target array is too small to hold result");for(var a=0;a<o;a++)t[n+a]=Math.pow(e[r+a],i)}},{key:"mul",value:function(t,e,n,r,o){if(r<0||r>=e.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=t.length)throw new Error("targetIndex out of bounds");if(r+o>e.length)throw new Error("source indices to be copied are outside bounds");if(n+o>t.length)throw new Error("target array is too small to hold result");for(var i=0;i<o;i++)t[n+i]=e[r+i]*t[n+i]}}]),t}();var p=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"splitShape",value:function(e,n,r,o){if(0===r.length){if(!o)throw new Error("need to know number of outputs when the 'split' attribute is not specified");t.determineSplit(e[n],o,r)}for(var i=[],a=[0],s=0;s<r.length;++s){0!==s&&a.push(a[s-1]+r[s-1]);var u=e.slice();u[n]=r[s],i.push(u)}return[i,a]}},{key:"determineSplit",value:function(t,e,n){if(t%e!=0)throw new Error("cannot split tensor to equal sized parts");for(var r=0;r<e;++r)n.push(t/e)}}]),t}();e.SplitUtil=p;var h=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"calcReduce",value:function(e,n,r,o,i){var a=e.dims.slice(0);0===n.length&&a.forEach((function(t,e){return n.push(e)}));for(var u=t.calcReduceShape(a,n,!0),l=d.size(u),f=new s.Tensor(u,e.type),p=d.computeStrides(u),h=d.computeStrides(a),g=new Array(a.length),b=0;b<l;b++){var v=d.offsetToIndices(b,p);c.fillIndex(v,a,g),f.set(v,t.calcReduceByAxis(e.numberData,n,a,0,d.indicesToOffset(g,h),o,i))}return r?f:new s.Tensor(t.calcReduceShape(a,n,r),f.type,void 0,void 0,f.data,f.dataId)}},{key:"calcReduceByAxis",value:function(e,n,r,o,i,a,s){var u=0;if(o>=n.length)return a(e[i]);for(var c=n[o],l=c>=r.length?1:d.size(r.slice(c+1)),f=0;f<r[c];f++)u=0===f?t.calcReduceByAxis(e,n,r,o+1,i,a,s):s(u,t.calcReduceByAxis(e,n,r,o+1,i,a,s)),i+=l;return u}},{key:"calcReduceShape",value:function(t,e,n){for(var r=t.slice(),o=0;o<e.length;o++)r[e[o]]=n?1:0;return r.filter((function(t){return 0!==t}))}}]),t}();e.ReduceUtil=h;var g=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"adjustPoolAttributes",value:function(t,e,n,r,o,i){if(!t&&n.length!==e.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(t)for(var a=0;a<e.length-2;a++)a>=n.length?n.push(e[a+2]):n[a]=e[a+2];for(var s=0;s<n.length;s++)if(s<r.length){if(r[s]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(var u=0;u<n.length;u++)if(u<o.length){if(o[u]<0)throw new Error("dilations should be greater than or equal to 1")}else o.push(1);for(var c=0;c<2*n.length;c++)if(c<i.length){if(i[c]<0)throw new Error("pad should be greater than or equal to 1")}else i.push(0);for(var l=0;l<n.length;l++){if(n[l]<=0)throw new Error("kernel shapes need to be greater than 0");if(i[l]>=n[l]||i[l+n.length]>=n[l])throw new Error("pads should be smaller than kernel")}}},{key:"adjustPadsBasedOnAutoPad",value:function(e,n,r,o,i,a){if(a){if(i.length!==2*(e.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(n.length!==e.length-2)throw new Error("length of strides should be the length of data dimensions");if(o.length!==e.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(var s=0;s<e.length-2;s++)t.adjustPadAndReturnShape(e[s+2],n[s],r[s],o[s],i,s,s+e.length-2,a)}}},{key:"computePoolOutputShape",value:function(e,n,r,o,i,a,s){if(n.length<=0)throw new Error("input shape must be of size greater than 0");var u=[n[0],n[1]];return t.computeShapeHelper(e,n,u,r,o,i,a,s),u}},{key:"computeConvOutputShape",value:function(e,n,r,o,i,a,s){if(e.length<=0||n.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");var u=[e[0],n[0]];return t.computeShapeHelper(!1,e,u,r,o,i,a,s),u}},{key:"computeShapeHelper",value:function(e,n,r,o,i,a,s,u){if(e)for(var c=0;c<n.length-2;c++)r.push(1);else for(var l=0;l<n.length-2;l++)r.push(t.adjustPadAndReturnShape(n[l+2],o[l],i[l],a[l],s,l,l+n.length-2,u))}},{key:"adjustPadAndReturnShape",value:function(t,e,n,r,o,i,a,s){var u=n*(r-1)+1;if(!s||"NOTSET"===s)return Math.floor((t+o[i]+o[a]-u)/e+1);switch(s){case"VALID":return o[i]=0,o[a]=0,Math.floor((t-u)/e+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");var c=((t+e-1)/e-1)*e+r-t;return o[i]="SAME_LOWER"===s?Math.floor((c+1)/2):Math.floor(c/2),o[a]=c-o[i],Math.floor((t+c-r)/e+1);default:throw new Error("Unsupported AutoPad type")}}}]),t}();e.PoolConvUtil=g,e.MIN_CLIP=-34028234663852886e22,e.MAX_CLIP=34028234663852886e22,e.decodeUtf8String=function(t){return(new TextDecoder).decode(t)}},7967:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=function(t,n,r,o){if("object"==typeof t&&null!==t){if(r.has(t))throw new Error("Circular reference in options");r.add(t)}Object.entries(t).forEach((function(t){var i=_slicedToArray(t,2),a=i[0],s=i[1],u=n?n+a:a;if("object"==typeof s)(0,e.iterateExtraOptions)(s,u+".",r,o);else if("string"==typeof s||"number"==typeof s)o(u,s.toString());else{if("boolean"!=typeof s)throw new Error("Can't handle extra config type: "+typeof s);o(u,s?"1":"0")}}))}},2157:function(t,e,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=e.initWasm=void 0;var s,u,c,l=n(1670),f=a(n(349)),d=n(6361),p=function(){return!!l.env.wasm.proxy&&"undefined"!=typeof document},h=!1,g=!1,b=!1,v=[],y=[],m=[],_=[],w=[],x=[],T=function(){if(h||!g||b||!s)throw new Error("worker not ready")},k=function(t){switch(t.data.type){case"init-wasm":h=!1,t.data.err?(b=!0,u[1](t.data.err)):(g=!0,u[0]());break;case"init-ort":t.data.err?c[1](t.data.err):c[0]();break;case"create_allocate":t.data.err?v.shift()[1](t.data.err):v.shift()[0](t.data.out);break;case"create_finalize":t.data.err?y.shift()[1](t.data.err):y.shift()[0](t.data.out);break;case"create":t.data.err?m.shift()[1](t.data.err):m.shift()[0](t.data.out);break;case"release":t.data.err?_.shift()[1](t.data.err):_.shift()[0]();break;case"run":t.data.err?w.shift()[1](t.data.err):w.shift()[0](t.data.out);break;case"end-profiling":t.data.err?x.shift()[1](t.data.err):x.shift()[0]()}},S="undefined"!=typeof document?null===(r=null===document||void 0===document?void 0:document.currentScript)||void 0===r?void 0:r.src:void 0;e.initWasm=_asyncToGenerator(_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p()){t.next=8;break}if(!g){t.next=3;break}return t.abrupt("return");case 3:if(!h){t.next=5;break}throw new Error("multiple calls to 'initWasm()' detected.");case 5:if(!b){t.next=7;break}throw new Error("previous call to 'initWasm()' failed.");case 7:return t.abrupt("return",(h=!0,void 0===l.env.wasm.wasmPaths&&S&&0!==S.indexOf("blob:")&&(l.env.wasm.wasmPaths=S.substr(0,+S.lastIndexOf("/")+1)),new Promise((function(t,e){null==s||s.terminate(),(s=n(9710).Z()).onmessage=k,u=[t,e];var r={type:"init-wasm",in:l.env.wasm};s.postMessage(r)}))));case 8:return t.abrupt("return",(0,d.initializeWebAssembly)(l.env.wasm));case 9:case"end":return t.stop()}}),t)}))),e.initOrt=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e,n){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p()){t.next=2;break}return t.abrupt("return",(T(),new Promise((function(t,r){c=[t,r];var o={type:"init-ort",in:{numThreads:e,loggingLevel:n}};s.postMessage(o)}))));case 2:f.initOrt(e,n);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createSessionAllocate=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p()?(T(),new Promise((function(t,n){v.push([t,n]);var r={type:"create_allocate",in:{model:e}};s.postMessage(r,[e.buffer])}))):f.createSessionAllocate(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.createSessionFinalize=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e,n){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p()?(T(),new Promise((function(t,r){y.push([t,r]);var o={type:"create_finalize",in:{modeldata:e,options:n}};s.postMessage(o)}))):f.createSessionFinalize(e,n));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createSession=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e,n){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p()?(T(),new Promise((function(t,r){m.push([t,r]);var o={type:"create",in:{model:e,options:n}};s.postMessage(o,[e.buffer])}))):f.createSession(e,n));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.releaseSession=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p()){t.next=2;break}return t.abrupt("return",(T(),new Promise((function(t,n){_.push([t,n]);var r={type:"release",in:e};s.postMessage(r)}))));case 2:f.releaseSession(e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.run=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e,n,r,o,i){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p()?(T(),new Promise((function(t,a){w.push([t,a]);var u={type:"run",in:{sessionId:e,inputIndices:n,inputs:r,outputIndices:o,options:i}};s.postMessage(u,f.extractTransferableBuffers(r))}))):f.run(e,n,r,o,i));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i){return t.apply(this,arguments)}}(),e.endProfiling=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p()){t.next=2;break}return t.abrupt("return",(T(),new Promise((function(t,n){x.push([t,n]);var r={type:"end-profiling",in:e};s.postMessage(r)}))));case 2:f.endProfiling(e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},586:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;var r=n(7967),o=n(4983),i=n(6361);e.setRunOptions=function(t){var e=(0,i.getInstance)(),n=0,a=[],s=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error("log serverity level is not valid: ".concat(t.logSeverityLevel));if(void 0===(null==t?void 0:t.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error("log verbosity level is not valid: ".concat(t.logVerbosityLevel));void 0===(null==t?void 0:t.terminate)&&(s.terminate=!1);var u=0;if(void 0!==(null==t?void 0:t.tag)&&(u=(0,o.allocWasmString)(t.tag,a)),0===(n=e._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,u)))throw new Error("Can't create run options");return void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,(function(t,r){var i=(0,o.allocWasmString)(t,a),s=(0,o.allocWasmString)(r,a);if(0!==e._OrtAddRunConfigEntry(n,i,s))throw new Error("Can't set a run config entry: ".concat(t," - ").concat(r))})),[n,a]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),a.forEach(e._free),t}}},2306:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnnxruntimeWebAssemblySessionHandler=void 0;var r,o=n(2806),i=n(1670),a=n(2850),s=n(2157);e.OnnxruntimeWebAssemblySessionHandler=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSessionAllocate",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e){var n,r;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.arrayBuffer();case 5:return r=t.sent,t.abrupt("return",(0,s.createSessionAllocate)(new Uint8Array(r)));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"loadModel",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e,n){var u,c,l,f,d,p,h,g;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=r,t.t0){t.next=5;break}return t.next=4,(0,s.initOrt)(i.env.wasm.numThreads,function(t){switch(t){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error("unsupported logging level: ".concat(t))}}(i.env.logLevel));case 4:r=!0;case 5:if("string"!=typeof e){t.next=31;break}if("undefined"!=typeof fetch){t.next=19;break}return t.next=9,(0,a.promisify)(o.readFile)(e);case 9:return u=t.sent,t.next=12,(0,s.createSession)(u,n);case 12:c=t.sent,l=_slicedToArray(c,3),this.sessionId=l[0],this.inputNames=l[1],this.outputNames=l[2],t.next=29;break;case 19:return t.next=21,this.createSessionAllocate(e);case 21:return f=t.sent,t.next=24,(0,s.createSessionFinalize)(f,n);case 24:d=t.sent,p=_slicedToArray(d,3),this.sessionId=p[0],this.inputNames=p[1],this.outputNames=p[2];case 29:t.next=38;break;case 31:return t.next=33,(0,s.createSession)(e,n);case 33:h=t.sent,g=_slicedToArray(h,3),this.sessionId=g[0],this.inputNames=g[1],this.outputNames=g[2];case 38:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"dispose",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.releaseSession)(this.sessionId));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"run",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e,n,r){var o,a,u,c,l,f,d=this;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=[],a=[],Object.entries(e).forEach((function(t){var e=t[0],n=t[1],r=d.inputNames.indexOf(e);if(-1===r)throw new Error("invalid input '".concat(e,"'"));o.push(n),a.push(r)})),u=[],Object.entries(n).forEach((function(t){var e=t[0],n=d.outputNames.indexOf(e);if(-1===n)throw new Error("invalid output '".concat(e,"'"));u.push(n)})),t.next=6,(0,s.run)(this.sessionId,a,o.map((function(t){return[t.type,t.dims,t.data]})),u,r);case 6:for(c=t.sent,l={},f=0;f<c.length;f++)l[this.outputNames[u[f]]]=new i.Tensor(c[f][0],c[f][2],c[f][1]);return t.abrupt("return",l);case 10:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"startProfiling",value:function(){}},{key:"endProfiling",value:function(){(0,s.endProfiling)(this.sessionId)}}]),t}()},4919:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;var r=n(7967),o=n(4983),i=n(6361);e.setSessionOptions=function(t){var e=(0,i.getInstance)(),n=0,a=[],s=t||{};!function(t){t.extra||(t.extra={}),t.extra.session||(t.extra.session={});var e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")}(s);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(s.graphOptimizationLevel="all");var u=function(t){switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error("unsupported graph optimization level: ".concat(t))}}(s.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(s.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(s.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(s.executionMode="sequential");var c=function(t){switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error("unsupported execution mode: ".concat(t))}}(s.executionMode),l=0;if(void 0!==(null==t?void 0:t.logId)&&(l=(0,o.allocWasmString)(t.logId,a)),void 0===(null==t?void 0:t.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error("log serverity level is not valid: ".concat(t.logSeverityLevel));if(void 0===(null==t?void 0:t.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error("log verbosity level is not valid: ".concat(t.logVerbosityLevel));if(void 0===(null==t?void 0:t.enableProfiling)&&(s.enableProfiling=!1),0===(n=e._OrtCreateSessionOptions(u,!!s.enableCpuMemArena,!!s.enableMemPattern,c,!!s.enableProfiling,0,l,s.logSeverityLevel,s.logVerbosityLevel)))throw new Error("Can't create session options");return(null==t?void 0:t.executionProviders)&&function(t,e,n){var r,a=_createForOfIteratorHelper(e);try{for(a.s();!(r=a.n()).done;){var s=r.value,u="string"==typeof s?s:s.name;switch(u){case"xnnpack":u="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error("not supported EP: ".concat(u))}var c=(0,o.allocWasmString)(u,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(t,c))throw new Error("Can't append execution provider: ".concat(u))}}catch(l){a.e(l)}finally{a.f()}}(n,t.executionProviders,a),void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,(function(t,r){var i=(0,o.allocWasmString)(t,a),s=(0,o.allocWasmString)(r,a);if(0!==e._OrtAddSessionConfigEntry(n,i,s))throw new Error("Can't set a session config entry: ".concat(t," - ").concat(r))})),[n,a]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),a.forEach(e._free),t}}},4983:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;var r=n(6361);e.allocWasmString=function(t,e){var n=(0,r.getInstance)(),o=n.lengthBytesUTF8(t)+1,i=n._malloc(o);return n.stringToUTF8(t,i,o),e.push(i),i}},349:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;var r=n(586),o=n(4919),i=n(4983),a=n(6361);e.initOrt=function(t,e){var n=(0,a.getInstance)()._OrtInit(t,e);if(0!==n)throw new Error("Can't initialize onnxruntime. error code = ".concat(n))};var s=new Map;e.createSessionAllocate=function(t){var e=(0,a.getInstance)(),n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),[n,t.byteLength]},e.createSessionFinalize=function(t,e){var n=(0,a.getInstance)(),r=0,i=0,u=[];try{var c,l;if(c=(0,o.setSessionOptions)(e),i=(l=_slicedToArray(c,2))[0],u=l[1],0===(r=n._OrtCreateSession(t[0],t[1],i)))throw new Error("Can't create a session")}finally{n._free(t[0]),n._OrtReleaseSessionOptions(i),u.forEach(n._free)}for(var f=n._OrtGetInputCount(r),d=n._OrtGetOutputCount(r),p=[],h=[],g=[],b=[],v=0;v<f;v++){var y=n._OrtGetInputName(r,v);if(0===y)throw new Error("Can't get an input name");h.push(y),p.push(n.UTF8ToString(y))}for(var m=0;m<d;m++){var _=n._OrtGetOutputName(r,m);if(0===_)throw new Error("Can't get an output name");b.push(_),g.push(n.UTF8ToString(_))}return s.set(r,[r,h,b]),[r,p,g]},e.createSession=function(t,n){var r=(0,e.createSessionAllocate)(t);return(0,e.createSessionFinalize)(r,n)},e.releaseSession=function(t){var e=(0,a.getInstance)(),n=s.get(t);if(!n)throw new Error("invalid session id");var r=n[0],o=n[1],i=n[2];o.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),s.delete(t)};var u=function(t){switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error("unsupported data type: ".concat(t))}},c=function(t){switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error("unsupported type: ".concat(t))}};e.run=function(t,e,n,o,l){var f=(0,a.getInstance)(),d=s.get(t);if(!d)throw new Error("invalid session id");var p=d[0],h=d[1],g=d[2],b=e.length,v=o.length,y=0,m=[],_=[],w=[];try{var x=(0,r.setRunOptions)(l),T=_slicedToArray(x,2);y=T[0],m=T[1];for(var k=function(){var t,e,r=n[S][0],o=n[S][1],a=n[S][2];if(Array.isArray(a)){e=4*a.length,t=f._malloc(e),w.push(t);for(var s=t/4,u=0;u<a.length;u++){if("string"!=typeof a[u])throw new TypeError("tensor data at index ".concat(u," is not a string"));f.HEAPU32[s++]=(0,i.allocWasmString)(a[u],w)}}else e=a.byteLength,t=f._malloc(e),w.push(t),f.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,e),t);var c=f.stackSave(),l=f.stackAlloc(4*o.length);try{var d=l/4;o.forEach((function(t){return f.HEAP32[d++]=t}));var p=f._OrtCreateTensor(function(t){switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error("unsupported data type: ".concat(t))}}(r),t,e,l,o.length);if(0===p)throw new Error("Can't create a tensor");_.push(p)}finally{f.stackRestore(c)}},S=0;S<b;S++)k();var O=f.stackSave(),A=f.stackAlloc(4*b),E=f.stackAlloc(4*b),I=f.stackAlloc(4*v),P=f.stackAlloc(4*v);try{for(var D=A/4,C=E/4,R=I/4,N=P/4,F=0;F<b;F++)f.HEAPU32[D++]=_[F],f.HEAPU32[C++]=h[e[F]];for(var L=0;L<v;L++)f.HEAPU32[R++]=0,f.HEAPU32[N++]=g[o[L]];var j=f._OrtRun(p,E,A,b,P,v,I,y),M=[];if(0===j)for(var U=0;U<v;U++){var B=f.HEAPU32[I/4+U],z=f.stackSave(),V=f.stackAlloc(16),G=void 0,H=0;try{if(0!==(j=f._OrtGetTensorData(B,V,V+4,V+8,V+12)))throw new Error("Can't access output tensor data. error code = ".concat(j));var W=V/4,q=f.HEAPU32[W++];H=f.HEAPU32[W++];for(var Z=f.HEAPU32[W++],X=f.HEAPU32[W++],Y=[],K=0;K<X;K++)Y.push(f.HEAPU32[Z/4+K]);f._OrtFree(Z);var J=0===Y.length?1:Y.reduce((function(t,e){return t*e}));if("string"===(G=u(q))){for(var $=[],Q=H/4,tt=0;tt<J;tt++){var et=f.HEAPU32[Q++],nt=tt===J-1?void 0:f.HEAPU32[Q]-et;$.push(f.UTF8ToString(et,nt))}M.push([G,Y,$])}else{var rt=new(c(G))(J);new Uint8Array(rt.buffer,rt.byteOffset,rt.byteLength).set(f.HEAPU8.subarray(H,H+rt.byteLength)),M.push([G,Y,rt])}}finally{f.stackRestore(z),"string"===G&&H&&f._free(H),f._OrtReleaseTensor(B)}}if(0===j)return M;throw new Error("failed to call OrtRun(). error code = ".concat(j,"."))}finally{f.stackRestore(O)}}finally{_.forEach(f._OrtReleaseTensor),w.forEach(f._free),f._OrtReleaseRunOptions(y),m.forEach(f._free)}},e.endProfiling=function(t){var e=(0,a.getInstance)(),n=s.get(t);if(!n)throw new Error("invalid session id");var r=n[0],o=e._OrtEndProfiling(r);if(0===o)throw new Error("Can't get an profile file name");e._OrtFree(o)},e.extractTransferableBuffers=function(t){var e,n=[],r=_createForOfIteratorHelper(t);try{for(r.s();!(e=r.n()).done;){var o=e.value[2];!Array.isArray(o)&&o.buffer&&n.push(o.buffer)}}catch(i){r.e(i)}finally{r.f()}return n}},6361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;var s,u=i(n(6449)),c=a(n(932)),l=n(3474),f=!1,d=!1,p=!1,h=function(t,e){return e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm"};e.initializeWebAssembly=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(e){var r,o,i,a,g,b,v,y,m,_,w;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!f){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:if(!d){t.next=4;break}throw new Error("multiple calls to 'initializeWebAssembly()' detected.");case 4:if(!p){t.next=6;break}throw new Error("previous call to 'initializeWebAssembly()' failed.");case 6:return d=!0,r=e.initTimeout,o=e.numThreads,i=e.simd,a=o>1&&function(){try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}}(),g=i&&function(){try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}}(),b="string"==typeof e.wasmPaths?e.wasmPaths:void 0,v=h(!1,a),y=h(g,a),m="object"==typeof e.wasmPaths?e.wasmPaths[y]:void 0,_=!1,w=[],r>0&&w.push(new Promise((function(t){setTimeout((function(){_=!0,t()}),r)}))),w.push(new Promise((function(t,e){var r=a?l:c.default,o={locateFile:function(t,e){return a&&t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(4154)],{type:"text/javascript"})):t===v?null!=m?m:(null!=b?b:e)+y:e+t}};if(a)if("undefined"==typeof Blob)o.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{var i="var ortWasmThreaded=(function(){var _scriptDir;return ".concat(r.toString(),"})();");o.mainScriptUrlOrBlob=new Blob([i],{type:"text/javascript"})}r(o).then((function(e){d=!1,f=!0,s=e,t()}),(function(t){d=!1,p=!0,e(t)}))}))),t.next=14,Promise.race(w);case 14:if(!_){t.next=16;break}throw new Error("WebAssembly backend initializing failed due to timeout: ".concat(r,"ms"));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getInstance=function(){if(f&&s)return s;throw new Error("WebAssembly is not initialized yet.")},e.dispose=function(){var t;!f||d||p||(d=!0,null===(t=s.PThread)||void 0===t||t.terminateAllThreads(),s=void 0,d=!1,f=!1,p=!0)}},9710:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(477),o=n.n(r);function i(){return o()('/*!\n* ONNX Runtime Web v1.14.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var t={474:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return j.buffer!=D&&N(j.buffer),P}function r(){return j.buffer!=D&&N(j.buffer),U}function a(){return j.buffer!=D&&N(j.buffer),F}function i(){return j.buffer!=D&&N(j.buffer),I}function o(){return j.buffer!=D&&N(j.buffer),W}var u,c,s;t=t||{},u||(u=void 0!==t?t:{}),u.ready=new Promise((function(t,e){c=t,s=e}));var l,f,p,h,d,y,b=Object.assign({},u),m="./this.program",g=(t,e)=>{throw e},v="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(t){return u.locateFile?u.locateFile(t,A):A+t}if(_){let e;A=w?n(908).dirname(A)+"/":"//",y=()=>{d||(h=n(384),d=n(908))},l=function(t,e){return y(),t=d.normalize(t),h.readFileSync(t,e?void 0:"utf8")},p=t=>((t=l(t,!0)).buffer||(t=new Uint8Array(t)),t),f=(t,e,n)=>{y(),t=d.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof ct))throw t})),process.on("unhandledRejection",(function(t){throw t})),g=(t,e)=>{if(Q())throw process.exitCode=t,e;e instanceof ct||x("exiting due to exception: "+e),process.exit(t)},u.inspect=function(){return"[Emscripten Module object]"};try{e=n(925)}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}n.g.Worker=e.Worker}else(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);_&&(y(),T=t=>h.writeSync(1,t+"\\n"),E=t=>h.writeSync(2,t+"\\n"));var M,C=u.print||T,x=u.printErr||E;Object.assign(u,b),b=null,u.thisProgram&&(m=u.thisProgram),u.quit&&(g=u.quit),u.wasmBinary&&(M=u.wasmBinary);var R=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&at("no native wasm support detected");var j,k,D,P,U,F,I,W,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&L)return L.decode(t.buffer instanceof SharedArrayBuffer?t.slice(e,n):t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function Y(t,e){return(t>>>=0)?z(r(),t,e):""}function B(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function G(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function N(t){D=t,u.HEAP8=P=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=F=new Int32Array(t),u.HEAPU8=U=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=I=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=W=new Float64Array(t)}O&&(D=u.buffer);var V=u.INITIAL_MEMORY||16777216;if(O)j=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)j=u.wasmMemory;else if(!((j=new WebAssembly.Memory({initial:V/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");j&&(D=j.buffer),V=D.byteLength,N(D);var $,q=[],X=[],J=[],Z=[];function Q(){return R||!1}function K(){var t=u.preRun.shift();q.unshift(t)}var tt,et=0,nt=null,rt=null;function at(t){throw O?postMessage({cmd:"onAbort",arg:t}):u.onAbort&&u.onAbort(t),x(t="Aborted("+t+")"),H=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),s(t),t}function it(){return tt.startsWith("data:application/octet-stream;base64,")}function ot(){var t=tt;try{if(t==tt&&M)return new Uint8Array(M);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){at(t)}}tt="ort-wasm-threaded.wasm",it()||(tt=S(tt));var ut={};function ct(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function st(t){(t=ht.Vb[t])||at(),ht.mc(t)}function lt(t){var e=ht.Cc();if(!e)return 6;ht.ac.push(e),ht.Vb[t.Ub]=e,e.Ub=t.Ub;var n={cmd:"run",start_routine:t.Ic,arg:t.zc,pthread_ptr:t.Ub};return e.$b=()=>{n.time=performance.now(),e.postMessage(n,t.Nc)},e.loaded&&(e.$b(),delete e.$b),0}function ft(t){if(O)return $t(1,1,t);Q()||(ht.oc(),u.onExit&&u.onExit(t),H=!0),g(t,new ct(t))}function pt(t,e){if(!e&&O)throw bt(t),"unwind";Q()||O||(me(),dt(J),be(0),re[1].length&&ae(1,10),re[2].length&&ae(2,10),ht.oc()),ft(t)}var ht={Yb:[],ac:[],qc:[],Vb:{},fc:function(){O&&ht.Ec()},Pc:function(){},Ec:function(){ht.receiveObjectTransfer=ht.Gc,ht.threadInitTLS=ht.pc,ht.setExitStatus=ht.nc,R=!1},nc:function(){},oc:function(){for(var t of Object.values(ht.Vb))ht.mc(t);for(t of ht.Yb)t.terminate();ht.Yb=[]},mc:function(t){var e=t.Ub;delete ht.Vb[e],ht.Yb.push(t),ht.ac.splice(ht.ac.indexOf(t),1),t.Ub=0,Oe(e)},Gc:function(){},pc:function(){ht.qc.forEach((t=>t()))},Fc:function(t,e){t.onmessage=n=>{var r=(n=n.data).cmd;if(t.Ub&&(ht.Bc=t.Ub),n.targetThread&&n.targetThread!=he()){var a=ht.Vb[n.Qc];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?zt(n.queue):"spawnThread"===r?lt(n):"cleanupThread"===r?st(n.thread):"killThread"===r?(n=n.thread,r=ht.Vb[n],delete ht.Vb[n],r.terminate(),Oe(n),ht.ac.splice(ht.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?ht.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,e&&e(t),t.$b&&(t.$b(),delete t.$b)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?t.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);ht.Bc=void 0},t.onerror=t=>{throw x("worker sent an error! "+t.filename+":"+t.lineno+": "+t.message),t},_&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:j,wasmModule:k})},yc:function(){var t=S("ort-wasm-threaded.worker.js");ht.Yb.push(new Worker(t))},Cc:function(){return 0==ht.Yb.length&&(ht.yc(),ht.Fc(ht.Yb[0])),ht.Yb.pop()}};function dt(t){for(;0<t.length;)t.shift()(u)}function yt(t){var e=Ee();return t=t(),Me(e),t}function bt(t){if(O)return $t(2,0,t);try{pt(t)}catch(t){t instanceof ct||"unwind"==t||g(1,t)}}u.PThread=ht,u.establishStackSpace=function(){var t=he(),e=a()[t+44>>2>>>0];t=a()[t+48>>2>>>0],Te(e,e-t),Me(e)};var mt=[];function gt(t){var e=mt[t];return e||(t>=mt.length&&(mt.length=t+1),mt[t]=e=$.get(t)),e}u.invokeEntryPoint=function(t,e){t=gt(t)(e),Q()?ht.nc(t):Ae(t)};var vt,wt,_t=[],Ot=0,At=0;function St(t){this.Zb=t,this.Sb=t-24,this.xc=function(t){i()[this.Sb+4>>2>>>0]=t},this.bc=function(){return i()[this.Sb+4>>2>>>0]},this.wc=function(t){i()[this.Sb+8>>2>>>0]=t},this.Dc=function(){return i()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(t){t=t?1:0,e()[this.Sb+12>>0>>>0]=t},this.uc=function(){return 0!=e()[this.Sb+12>>0>>>0]},this.ic=function(t){t=t?1:0,e()[this.Sb+13>>0>>>0]=t},this.kc=function(){return 0!=e()[this.Sb+13>>0>>>0]},this.fc=function(t,e){this.cc(0),this.xc(t),this.wc(e),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(t){i()[this.Sb+16>>2>>>0]=t},this.tc=function(){return i()[this.Sb+16>>2>>>0]},this.vc=function(){if(Re(this.bc()))return i()[this.Zb>>2>>>0];var t=this.tc();return 0!==t?t:this.Zb}}function Tt(t){return ye(new St(t).Sb)}function Et(t,e,n,r){return O?$t(3,1,t,e,n,r):Mt(t,e,n,r)}function Mt(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?Et(t,e,n,r):(t={Ic:n,Ub:t,zc:r,Nc:a},O?(t.Oc="spawnThread",postMessage(t,a),0):lt(t))}function Ct(t,e,n){return O?$t(4,1,t,e,n):0}function xt(t,e){if(O)return $t(5,1,t,e)}function Rt(t,e){if(O)return $t(6,1,t,e)}function jt(t,e,n){if(O)return $t(7,1,t,e,n)}function kt(t,e,n){return O?$t(8,1,t,e,n):0}function Dt(t,e){if(O)return $t(9,1,t,e)}function Pt(t,e,n){if(O)return $t(10,1,t,e,n)}function Ut(t,e,n,r){if(O)return $t(11,1,t,e,n,r)}function Ft(t,e,n,r){if(O)return $t(12,1,t,e,n,r)}function It(t,e,n,r){if(O)return $t(13,1,t,e,n,r)}function Wt(t){if(O)return $t(14,1,t)}function Ht(t,e){if(O)return $t(15,1,t,e)}function Lt(t,e,n){if(O)return $t(16,1,t,e,n)}function zt(t){Atomics.store(a(),t>>2,1),he()&&_e(t),Atomics.compareExchange(a(),t>>2,1,0)}function Yt(t){return i()[t>>>2]+4294967296*a()[t+4>>>2]}function Bt(t,e,n,r,a,i){return O?$t(17,1,t,e,n,r,a,i):-52}function Gt(t,e,n,r,a,i){if(O)return $t(18,1,t,e,n,r,a,i)}function Nt(t){var n=G(t)+1,r=de(n);return r&&B(t,e(),r,n),r}function Vt(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}if(O)return $t(19,1,t,e,n);var o=(new Date).getFullYear(),u=new Date(o,0,1),c=new Date(o,6,1);o=u.getTimezoneOffset();var s=c.getTimezoneOffset(),l=Math.max(o,s);a()[t>>2>>>0]=60*l,a()[e>>2>>>0]=Number(o!=s),t=r(u),e=r(c),t=Nt(t),e=Nt(e),s<o?(i()[n>>2>>>0]=t,i()[n+4>>2>>>0]=e):(i()[n>>2>>>0]=e,i()[n+4>>2>>>0]=t)}function $t(t,e){var n=arguments.length-2,r=arguments;return yt((()=>{for(var a=Ce(8*n),i=a>>3,u=0;u<n;u++){var c=r[2+u];o()[i+u>>>0]=c}return we(t,n,a,e)}))}u.executeNotifiedProxyingQueue=zt,wt=_?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var qt,Xt=[],Jt={};function Zt(){if(!qt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(t in Jt)void 0===Jt[t]?delete e[t]:e[t]=Jt[t];var n=[];for(t in e)n.push(t+"="+e[t]);qt=n}return qt}function Qt(t,n){if(O)return $t(20,1,t,n);var r=0;return Zt().forEach((function(a,o){var u=n+r;for(o=i()[t+4*o>>2>>>0]=u,u=0;u<a.length;++u)e()[o++>>0>>>0]=a.charCodeAt(u);e()[o>>0>>>0]=0,r+=a.length+1})),0}function Kt(t,e){if(O)return $t(21,1,t,e);var n=Zt();i()[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),i()[e>>2>>>0]=r,0}function te(t){return O?$t(22,1,t):52}function ee(t,e,n,r){return O?$t(23,1,t,e,n,r):52}function ne(t,e,n,r,a){return O?$t(24,1,t,e,n,r,a):70}var re=[null,[],[]];function ae(t,e){var n=re[t];0===e||10===e?((1===t?C:x)(z(n,0)),n.length=0):n.push(e)}function ie(t,e,n,a){if(O)return $t(25,1,t,e,n,a);for(var o=0,u=0;u<n;u++){var c=i()[e>>2>>>0],s=i()[e+4>>2>>>0];e+=8;for(var l=0;l<s;l++)ae(t,r()[c+l>>>0]);o+=s}return i()[a>>2>>>0]=o,0}var oe=0;function ue(t){return 0==t%4&&(0!=t%100||0==t%400)}var ce=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function le(t,n,r,i){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function u(t,e){return o(t,e,"0")}function c(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function l(t){var e=t.Wb;for(t=new Date(new Date(t.Xb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(ue(t.getFullYear())?ce:se)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=c(e,t)?0>=c(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=a()[i+40>>2>>>0];for(var p in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:f?Y(f):""},r=Y(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(t){return h[t.Tb].substring(0,3)},"%A":function(t){return h[t.Tb]},"%b":function(t){return d[t.ec].substring(0,3)},"%B":function(t){return d[t.ec]},"%C":function(t){return u((t.Xb+1900)/100|0,2)},"%d":function(t){return u(t.jc,2)},"%e":function(t){return o(t.jc,2," ")},"%g":function(t){return l(t).toString().substring(2)},"%G":function(t){return l(t)},"%H":function(t){return u(t.dc,2)},"%I":function(t){return 0==(t=t.dc)?t=12:12<t&&(t-=12),u(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.ec-1;e+=(ue(t.Xb+1900)?ce:se)[n++]);return u(t.jc+e,3)},"%m":function(t){return u(t.ec+1,2)},"%M":function(t){return u(t.Kc,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.dc&&12>t.dc?"AM":"PM"},"%S":function(t){return u(t.Lc,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Tb||7},"%U":function(t){return u(Math.floor((t.Wb+7-t.Tb)/7),2)},"%V":function(t){var e=Math.floor((t.Wb+7-(t.Tb+6)%7)/7);if(2>=(t.Tb+371-t.Wb-2)%7&&e++,e)53==e&&(4==(n=(t.Tb+371-t.Wb)%7)||3==n&&ue(t.Xb)||(e=1));else{e=52;var n=(t.Tb+7-t.Wb-1)%7;(4==n||5==n&&ue(t.Xb%400-1))&&e++}return u(e,2)},"%w":function(t){return t.Tb},"%W":function(t){return u(Math.floor((t.Wb+7-(t.Tb+6)%7)/7),2)},"%y":function(t){return(t.Xb+1900).toString().substring(2)},"%Y":function(t){return t.Xb+1900},"%z":function(t){var e=0<=(t=t.Jc);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return p=function(t){var e=Array(G(t)+1);return B(t,e,0,e.length),e}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(t,n){e().set(t,n>>>0)}(p,t),p.length-1)}ht.fc();var fe=[null,ft,bt,Et,Ct,xt,Rt,jt,kt,Dt,Pt,Ut,Ft,It,Wt,Ht,Lt,Bt,Gt,Vt,Qt,Kt,te,ee,ne,ie],pe={b:function(t){return de(t+24)+24},n:function(t){return(t=new St(t)).uc()||(t.hc(!0),Ot--),t.ic(!1),_t.push(t),t.sc(),t.vc()},ma:function(t){throw x("Unexpected exception thrown, this is not properly supported - aborting"),H=!0,t},x:function(){Se(0);var t=_t.pop();if(t.Hc()&&!t.kc()){var e=t.Dc();e&&gt(e)(t.Zb),Tt(t.Zb)}At=0},e:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},l:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},h:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},t:Tt,M:function(){var t=_t.pop();t||at("no exception to throw");var e=t.Zb;throw t.kc()||(_t.push(t),t.ic(!0),t.hc(!1),Ot++),At=e,e},c:function(t,e,n){throw new St(t).fc(e,n),At=t,Ot++,t},pa:function(){return Ot},Fa:function(t){ge(t,!w,1,!v),ht.pc()},T:function(t){O?postMessage({cmd:"cleanupThread",thread:t}):st(t)},xa:Mt,j:function(t){throw At||(At=t),t},H:Ct,Ma:xt,ua:Rt,wa:jt,oa:kt,Ka:Dt,Ca:Pt,Ja:Ut,V:Ft,va:It,sa:Wt,La:Ht,ta:Lt,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(t,e,n,r){if(t==e)setTimeout((()=>zt(r)));else if(O)postMessage({targetThread:t,cmd:"processProxyingQueue",queue:r});else{if(!(t=ht.Vb[t]))return;t.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getUTCSeconds(),a()[e+4>>2>>>0]=t.getUTCMinutes(),a()[e+8>>2>>>0]=t.getUTCHours(),a()[e+12>>2>>>0]=t.getUTCDate(),a()[e+16>>2>>>0]=t.getUTCMonth(),a()[e+20>>2>>>0]=t.getUTCFullYear()-1900,a()[e+24>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[e+28>>2>>>0]=t},Qa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getFullYear()-1900,a()[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;a()[e+28>>2>>>0]=r,a()[e+36>>2>>>0]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),a()[e+32>>2>>>0]=t},Ra:function(t){var e=new Date(a()[t+20>>2>>>0]+1900,a()[t+16>>2>>>0],a()[t+12>>2>>>0],a()[t+8>>2>>>0],a()[t+4>>2>>>0],a()[t>>2>>>0],0),n=a()[t+32>>2>>>0],r=e.getTimezoneOffset(),i=new Date(e.getFullYear(),0,1),o=new Date(e.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),c=Math.min(u,o);return 0>n?a()[t+32>>2>>>0]=Number(o!=u&&c==r):0<n!=(c==r)&&(o=Math.max(u,o),e.setTime(e.getTime()+6e4*((0<n?c:o)-r))),a()[t+24>>2>>>0]=e.getDay(),n=(e.getTime()-i.getTime())/864e5|0,a()[t+28>>2>>>0]=n,a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},Aa:Bt,Ba:Gt,Sa:function t(e,n,r){t.Ac||(t.Ac=!0,Vt(e,n,r))},y:function(){at("")},U:function(){if(!_&&!w){var t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";vt||(vt={}),vt[t]||(vt[t]=1,_&&(t="warning: "+t),x(t))}},ra:function(){return 4294901760},B:wt,Ia:function(t,e,n){r().copyWithin(t>>>0,e>>>0,e+n>>>0)},F:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},Da:function(t,e,n){Xt.length=e,n>>=3;for(var r=0;r<e;r++)Xt[r]=o()[n+r>>>0];return(0>t?ut[-t-1]:fe[t]).apply(null,Xt)},qa:function(t){var e=r().length;if((t>>>=0)<=e||4294901760<t)return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var i=Math;a=Math.max(t,a),i=i.min.call(i,4294901760,a+(65536-a%65536)%65536);t:{try{j.grow(i-D.byteLength+65535>>>16),N(j.buffer);var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:Qt,Ha:Kt,J:pt,I:te,S:ee,ga:ne,R:ie,d:function(){return oe},na:function t(r,a){t.lc||(t.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(_)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>at("randomDevice")}());for(var i=0;i<a;i++)e()[r+i>>0>>>0]=t.lc();return 0},ia:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ja:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},K:function(t){var e=Ee();try{return gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},f:function(t,e){var n=Ee();try{return gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},P:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},Q:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},k:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},p:function(t,e,n,r){var a=Ee();try{return gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},q:function(t,e,n,r,a){var i=Ee();try{return gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},N:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},s:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},w:function(t,e,n,r,a,i,o){var u=Ee();try{return gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},L:function(t,e,n,r,a,i,o,u){var c=Ee();try{return gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},E:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{return gt(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=Ee();try{return He(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},_:function(t,e,n,r,a,i,o){var u=Ee();try{return ke(t,e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},Z:function(t,e,n,r,a){var i=Ee();try{return Le(t,e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},ca:function(t,e,n,r){var a=Ee();try{return Ie(t,e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},$:function(t){var e=Ee();try{return je(t)}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},ba:function(t,e){var n=Ee();try{return We(t,e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},Y:function(t,e,n){var r=Ee();try{return De(t,e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},g:function(t){var e=Ee();try{gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},r:function(t,e){var n=Ee();try{gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},i:function(t,e,n){var r=Ee();try{gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ha:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},m:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},v:function(t,e,n,r,a){var i=Ee();try{gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},u:function(t,e,n,r,a,i){var o=Ee();try{gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},O:function(t,e,n,r,a,i,o){var u=Ee();try{gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},A:function(t,e,n,r,a,i,o,u){var c=Ee();try{gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},ka:function(t,e,n,r,a,i,o,u,c){var s=Ee();try{gt(t)(e,n,r,a,i,o,u,c)}catch(t){if(Me(s),t!==t+0)throw t;Se(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l){var f=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(Me(f),t!==t+0)throw t;Se(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(Me(b),t!==t+0)throw t;Se(1,0)}},fa:function(t,e,n,r,a,i,o,u){var c=Ee();try{Pe(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},da:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{Fe(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},ea:function(t,e,n,r,a,i){var o=Ee();try{Ue(t,e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},o:function(t){return t},a:j||u.wasmMemory,G:function(t){oe=t},la:le,z:function(t,e,n,r){return le(t,e,n,r)}};!function(){function t(t,e){u.asm=t.exports,ht.qc.push(u.asm.sb),$=u.asm.ub,X.unshift(u.asm.Va),k=e,O||(et--,u.monitorRunDependencies&&u.monitorRunDependencies(et),0==et&&(null!==nt&&(clearInterval(nt),nt=null),rt&&(t=rt,rt=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!M&&(v||w)){if("function"==typeof fetch&&!tt.startsWith("file://"))return fetch(tt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+tt+"\'";return t.arrayBuffer()})).catch((function(){return ot()}));if(f)return new Promise((function(t,e){f(tt,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ot()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),at(t)}))}var r={a:pe};if(O||(et++,u.monitorRunDependencies&&u.monitorRunDependencies(et)),u.instantiateWasm)try{return u.instantiateWasm(r,t)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||it()||tt.startsWith("file://")||_||"function"!=typeof fetch?n(e):fetch(tt,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(s)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var he=u._pthread_self=function(){return(he=u._pthread_self=u.asm.ob).apply(null,arguments)},de=u._malloc=function(){return(de=u._malloc=u.asm.pb).apply(null,arguments)},ye=u._free=function(){return(ye=u._free=u.asm.qb).apply(null,arguments)},be=u._fflush=function(){return(be=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var me=u.___funcs_on_exit=function(){return(me=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},ge=u.__emscripten_thread_init=function(){return(ge=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var ve,we=u._emscripten_run_in_main_runtime_thread_js=function(){return(we=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},_e=u.__emscripten_proxy_execute_task_queue=function(){return(_e=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Oe=u.__emscripten_thread_free_data=function(){return(Oe=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},Ae=u.__emscripten_thread_exit=function(){return(Ae=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Se=u._setThrew=function(){return(Se=u._setThrew=u.asm.Bb).apply(null,arguments)},Te=u._emscripten_stack_set_limits=function(){return(Te=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Ee=u.stackSave=function(){return(Ee=u.stackSave=u.asm.Db).apply(null,arguments)},Me=u.stackRestore=function(){return(Me=u.stackRestore=u.asm.Eb).apply(null,arguments)},Ce=u.stackAlloc=function(){return(Ce=u.stackAlloc=u.asm.Fb).apply(null,arguments)},xe=u.___cxa_can_catch=function(){return(xe=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},Re=u.___cxa_is_pointer_type=function(){return(Re=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},je=u.dynCall_j=function(){return(je=u.dynCall_j=u.asm.Ib).apply(null,arguments)},ke=u.dynCall_iiiiij=function(){return(ke=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},De=u.dynCall_jii=function(){return(De=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Pe=u.dynCall_viiiiij=function(){return(Pe=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Ue=u.dynCall_vjji=function(){return(Ue=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},Fe=u.dynCall_viiijjjii=function(){return(Fe=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},Ie=u.dynCall_iij=function(){return(Ie=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},We=u.dynCall_ji=function(){return(We=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},He=u.dynCall_iiiiiij=function(){return(He=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},Le=u.dynCall_iiij=function(){return(Le=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function ze(){function t(){if(!ve&&(ve=!0,u.calledRun=!0,!H)&&(O||dt(X),c(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Z.unshift(t)}dt(Z)}}if(!(0<et))if(O)c(u),O||dt(X),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)K();dt(q),0<et||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}}if(u.UTF8ToString=Y,u.stringToUTF8=function(t,e,n){return B(t,r(),e,n)},u.lengthBytesUTF8=G,u.keepRuntimeAlive=Q,u.wasmMemory=j,u.stackSave=Ee,u.stackRestore=Me,u.stackAlloc=Ce,u.ExitStatus=ct,u.PThread=ht,rt=function t(){ve||ze(),ve||(rt=t)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return ze(),t.ready});t.exports=r},932:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,r,a;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){r=t,a=e}));var i,o,u,c,s,l,f=Object.assign({},e),p="./this.program",h=(t,e)=>{throw e},d="object"==typeof window,y="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";b?(m=y?n(908).dirname(m)+"/":"//",l=()=>{s||(c=n(384),s=n(908))},i=function(t,e){return l(),t=s.normalize(t),c.readFileSync(t,e?void 0:"utf8")},u=t=>((t=i(t,!0)).buffer||(t=new Uint8Array(t)),t),o=(t,e,n)=>{l(),t=s.normalize(t),c.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof J))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,e)=>{if(_||0<L)throw process.exitCode=t,e;e instanceof J||w("exiting due to exception: "+e),process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"}):(d||y)&&(y?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(u=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),o=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var g,v=e.print||console.log.bind(console),w=e.printErr||console.warn.bind(console);Object.assign(e,f),f=null,e.thisProgram&&(p=e.thisProgram),e.quit&&(h=e.quit),e.wasmBinary&&(g=e.wasmBinary);var _=e.noExitRuntime||!1;"object"!=typeof WebAssembly&&V("no native wasm support detected");var O,A,S,T,E,M,C=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&x)return x.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function j(t,e){return(t>>>=0)?R(T,t,e):""}function k(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function D(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function P(){var t=O.buffer;A=t,e.HEAP8=S=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=E=new Int32Array(t),e.HEAPU8=T=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=M=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var U,F=[],I=[],W=[],H=[],L=0;function z(){var t=e.preRun.shift();F.unshift(t)}var Y,B=0,G=null,N=null;function V(t){throw e.onAbort&&e.onAbort(t),w(t="Aborted("+t+")"),C=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),a(t),t}function $(){return Y.startsWith("data:application/octet-stream;base64,")}if(Y="ort-wasm.wasm",!$()){var q=Y;Y=e.locateFile?e.locateFile(q,m):m+q}function X(){var t=Y;try{if(t==Y&&g)return new Uint8Array(g);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function J(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Z(t){for(;0<t.length;)t.shift()(e)}var Q=[],K=0,tt=0;function et(t){this.Db=t,this.zb=t-24,this.Ub=function(t){M[this.zb+4>>2>>>0]=t},this.Eb=function(){return M[this.zb+4>>2>>>0]},this.Sb=function(t){M[this.zb+8>>2>>>0]=t},this.Wb=function(){return M[this.zb+8>>2>>>0]},this.Tb=function(){E[this.zb>>2>>>0]=0},this.Ib=function(t){S[this.zb+12>>0>>>0]=t?1:0},this.Pb=function(){return 0!=S[this.zb+12>>0>>>0]},this.Jb=function(t){S[this.zb+13>>0>>>0]=t?1:0},this.Lb=function(){return 0!=S[this.zb+13>>0>>>0]},this.Rb=function(t,e){this.Fb(0),this.Ub(t),this.Sb(e),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){E[this.zb>>2>>>0]+=1},this.Xb=function(){var t=E[this.zb>>2>>>0];return E[this.zb>>2>>>0]=t-1,1===t},this.Fb=function(t){M[this.zb+16>>2>>>0]=t},this.Ob=function(){return M[this.zb+16>>2>>>0]},this.Qb=function(){if(Mt(this.Eb()))return M[this.Db>>2>>>0];var t=this.Ob();return 0!==t?t:this.Db}}function nt(t){return vt(new et(t).zb)}var rt=[];function at(t){var e=rt[t];return e||(t>=rt.length&&(rt.length=t+1),rt[t]=e=U.get(t)),e}function it(t){var e=D(t)+1,n=gt(e);return n&&k(t,S,n,e),n}var ot={};function ut(){if(!ct){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in ot)void 0===ot[t]?delete e[t]:e[t]=ot[t];var n=[];for(t in e)n.push(t+"="+e[t]);ct=n}return ct}var ct,st=[null,[],[]];function lt(t,e){var n=st[t];0===e||10===e?((1===t?v:w)(R(n,0)),n.length=0):n.push(e)}var ft=0;function pt(t){return 0==t%4&&(0!=t%100||0==t%400)}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function yt(t,e,n,r){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return a(t,e,"0")}function o(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function u(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function c(t){var e=t.Bb;for(t=new Date(new Date(t.Cb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(pt(t.getFullYear())?ht:dt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=u(new Date(t.getFullYear(),0,4)),n=u(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var s=E[r+40>>2>>>0];for(var l in r={$b:E[r>>2>>>0],Zb:E[r+4>>2>>>0],Gb:E[r+8>>2>>>0],Kb:E[r+12>>2>>>0],Hb:E[r+16>>2>>>0],Cb:E[r+20>>2>>>0],Ab:E[r+24>>2>>>0],Bb:E[r+28>>2>>>0],bc:E[r+32>>2>>>0],Yb:E[r+36>>2>>>0],ac:s?j(s):""},n=j(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),s[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in s={"%a":function(t){return f[t.Ab].substring(0,3)},"%A":function(t){return f[t.Ab]},"%b":function(t){return p[t.Hb].substring(0,3)},"%B":function(t){return p[t.Hb]},"%C":function(t){return i((t.Cb+1900)/100|0,2)},"%d":function(t){return i(t.Kb,2)},"%e":function(t){return a(t.Kb,2," ")},"%g":function(t){return c(t).toString().substring(2)},"%G":function(t){return c(t)},"%H":function(t){return i(t.Gb,2)},"%I":function(t){return 0==(t=t.Gb)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.Hb-1;e+=(pt(t.Cb+1900)?ht:dt)[n++]);return i(t.Kb+e,3)},"%m":function(t){return i(t.Hb+1,2)},"%M":function(t){return i(t.Zb,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.Gb&&12>t.Gb?"AM":"PM"},"%S":function(t){return i(t.$b,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Ab||7},"%U":function(t){return i(Math.floor((t.Bb+7-t.Ab)/7),2)},"%V":function(t){var e=Math.floor((t.Bb+7-(t.Ab+6)%7)/7);if(2>=(t.Ab+371-t.Bb-2)%7&&e++,e)53==e&&(4==(n=(t.Ab+371-t.Bb)%7)||3==n&&pt(t.Cb)||(e=1));else{e=52;var n=(t.Ab+7-t.Bb-1)%7;(4==n||5==n&&pt(t.Cb%400-1))&&e++}return i(e,2)},"%w":function(t){return t.Ab},"%W":function(t){return i(Math.floor((t.Bb+7-(t.Ab+6)%7)/7),2)},"%y":function(t){return(t.Cb+1900).toString().substring(2)},"%Y":function(t){return t.Cb+1900},"%z":function(t){var e=0<=(t=t.Yb);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),s)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),s[l](r)));return l=function(t){var e=Array(D(t)+1);return k(t,e,0,e.length),e}(n=n.replace(/\\0\\0/g,"%")),l.length>e?0:(S.set(l,t>>>0),l.length-1)}var bt={a:function(t){return gt(t+24)+24},m:function(t){return(t=new et(t)).Pb()||(t.Ib(!0),K--),t.Jb(!1),Q.push(t),t.Nb(),t.Qb()},ia:function(t){throw w("Unexpected exception thrown, this is not properly supported - aborting"),C=!0,t},w:function(){Ot(0);var t=Q.pop();if(t.Xb()&&!t.Lb()){var e=t.Wb();e&&at(e)(t.Db),nt(t.Db)}tt=0},d:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},k:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},g:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},s:nt,L:function(){var t=Q.pop();t||V("no exception to throw");var e=t.Db;throw t.Lb()||(Q.push(t),t.Jb(!0),t.Ib(!1),K++),tt=e,e},b:function(t,e,n){throw new et(t).Rb(e,n),tt=t,K++,t},la:function(){return K},i:function(t){throw tt||(tt=t),t},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getUTCSeconds(),E[e+4>>2>>>0]=t.getUTCMinutes(),E[e+8>>2>>>0]=t.getUTCHours(),E[e+12>>2>>>0]=t.getUTCDate(),E[e+16>>2>>>0]=t.getUTCMonth(),E[e+20>>2>>>0]=t.getUTCFullYear()-1900,E[e+24>>2>>>0]=t.getUTCDay(),E[e+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),E[e+20>>2>>>0]=t.getFullYear()-1900,E[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1);E[e+28>>2>>>0]=(t.getTime()-n.getTime())/864e5|0,E[e+36>>2>>>0]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[e+32>>2>>>0]=0|(r!=n&&t.getTimezoneOffset()==Math.min(n,r))},Fa:function(t){var e=new Date(E[t+20>>2>>>0]+1900,E[t+16>>2>>>0],E[t+12>>2>>>0],E[t+8>>2>>>0],E[t+4>>2>>>0],E[t>>2>>>0],0),n=E[t+32>>2>>>0],r=e.getTimezoneOffset(),a=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),u=Math.min(o,i);return 0>n?E[t+32>>2>>>0]=Number(i!=o&&u==r):0<n!=(u==r)&&(i=Math.max(o,i),e.setTime(e.getTime()+6e4*((0<n?u:i)-r))),E[t+24>>2>>>0]=e.getDay(),E[t+28>>2>>>0]=(e.getTime()-a.getTime())/864e5|0,E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function t(e,n,r){t.Vb||(t.Vb=!0,function(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}var a=(new Date).getFullYear(),i=new Date(a,0,1),o=new Date(a,6,1);a=i.getTimezoneOffset();var u=o.getTimezoneOffset();E[t>>2>>>0]=60*Math.max(a,u),E[e>>2>>>0]=Number(a!=u),t=r(i),e=r(o),t=it(t),e=it(e),u<a?(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e):(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t)}(e,n,r))},B:function(){V("")},ma:function(){return 4294901760},I:b?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),xa:function(t,e,n){T.copyWithin(t>>>0,e>>>0,e+n>>>0)},G:function(t){var e=T.length;if(4294901760<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var a=Math;r=Math.max(t,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);t:{try{O.grow(a-A.byteLength+65535>>>16),P();var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},va:function(t,e){var n=0;return ut().forEach((function(r,a){var i=e+n;for(a=M[t+4*a>>2>>>0]=i,i=0;i<r.length;++i)S[a++>>0>>>0]=r.charCodeAt(i);S[a>>0>>>0]=0,n+=r.length+1})),0},wa:function(t,e){var n=ut();M[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),M[e>>2>>>0]=r,0},ba:function(t){_||0<L||(_t(),Z(W),wt(0),st[1].length&&lt(1,10),st[2].length&&lt(2,10)),_||0<L||(e.onExit&&e.onExit(t),C=!0),h(t,new J(t))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var o=M[e>>2>>>0],u=M[e+4>>2>>>0];e+=8;for(var c=0;c<u;c++)lt(t,T[o+c>>>0]);a+=u}return M[r>>2>>>0]=a,0},c:function(){return ft},ja:function t(e,r){t.Mb||(t.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(b)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>V("randomDevice")}());for(var a=0;a<r;a++)S[e+a>>0>>>0]=t.Mb();return 0},ea:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},fa:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},J:function(t){var e=At();try{return at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},e:function(t,e){var n=At();try{return at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},N:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},O:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},j:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},o:function(t,e,n,r){var a=At();try{return at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},p:function(t,e,n,r,a){var i=At();try{return at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},M:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},r:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},v:function(t,e,n,r,a,i,o){var u=At();try{return at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},K:function(t,e,n,r,a,i,o,u){var c=At();try{return at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{return at(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},X:function(t,e,n,r,a,i,o,u){var c=At();try{return Ft(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},V:function(t,e,n,r,a,i,o){var u=At();try{return xt(t,e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},U:function(t,e,n,r,a){var i=At();try{return It(t,e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},Z:function(t,e,n,r){var a=At();try{return Pt(t,e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},W:function(t){var e=At();try{return Ct(t)}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},Y:function(t,e){var n=At();try{return Ut(t,e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},T:function(t,e,n){var r=At();try{return Rt(t,e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},f:function(t){var e=At();try{at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},q:function(t,e){var n=At();try{at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},h:function(t,e,n){var r=At();try{at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},da:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},l:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},t:function(t,e,n,r,a){var i=At();try{at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},u:function(t,e,n,r,a,i){var o=At();try{at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},x:function(t,e,n,r,a,i,o){var u=At();try{at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},z:function(t,e,n,r,a,i,o,u){var c=At();try{at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},ga:function(t,e,n,r,a,i,o,u,c){var s=At();try{at(t)(e,n,r,a,i,o,u,c)}catch(t){if(St(s),t!==t+0)throw t;Ot(1,0)}},A:function(t,e,n,r,a,i,o,u,c,s,l){var f=At();try{at(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(St(f),t!==t+0)throw t;Ot(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=At();try{at(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(St(b),t!==t+0)throw t;Ot(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=At();try{jt(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},_:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{Dt(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},$:function(t,e,n,r,a,i){var o=At();try{kt(t,e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},n:function(t){return t},F:function(t){ft=t},ha:yt,y:function(t,e,n,r){return yt(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,O=e.asm.Ka,P(),U=e.asm.ib,I.unshift(e.asm.La),B--,e.monitorRunDependencies&&e.monitorRunDependencies(B),0==B&&(null!==G&&(clearInterval(G),G=null),N&&(t=N,N=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(d||y)){if("function"==typeof fetch&&!Y.startsWith("file://"))return fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+Y+"\'";return t.arrayBuffer()})).catch((function(){return X()}));if(o)return new Promise((function(t,e){o(Y,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return X()}))}().then((function(t){return WebAssembly.instantiate(t,i)})).then((function(t){return t})).then(t,(function(t){w("failed to asynchronously prepare wasm: "+t),V(t)}))}var i={a:bt};if(B++,e.monitorRunDependencies&&e.monitorRunDependencies(B),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||$()||Y.startsWith("file://")||b||"function"!=typeof fetch?r(n):fetch(Y,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.La).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.Ma).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.Na).apply(null,arguments)},e._OrtAppendExecutionProvider=function(){return(e._OrtAppendExecutionProvider=e.asm.Oa).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.Pa).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.Qa).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.Ra).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Sa).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Ta).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm.Ua).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.Va).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.Wa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.Xa).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.Ya).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.Za).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm._a).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.$a).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ab).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.bb).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.cb).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.db).apply(null,arguments)};var mt,gt=e._malloc=function(){return(gt=e._malloc=e.asm.eb).apply(null,arguments)},vt=e._free=function(){return(vt=e._free=e.asm.fb).apply(null,arguments)},wt=e._fflush=function(){return(wt=e._fflush=e.asm.gb).apply(null,arguments)},_t=e.___funcs_on_exit=function(){return(_t=e.___funcs_on_exit=e.asm.hb).apply(null,arguments)},Ot=e._setThrew=function(){return(Ot=e._setThrew=e.asm.jb).apply(null,arguments)},At=e.stackSave=function(){return(At=e.stackSave=e.asm.kb).apply(null,arguments)},St=e.stackRestore=function(){return(St=e.stackRestore=e.asm.lb).apply(null,arguments)},Tt=e.stackAlloc=function(){return(Tt=e.stackAlloc=e.asm.mb).apply(null,arguments)},Et=e.___cxa_can_catch=function(){return(Et=e.___cxa_can_catch=e.asm.nb).apply(null,arguments)},Mt=e.___cxa_is_pointer_type=function(){return(Mt=e.___cxa_is_pointer_type=e.asm.ob).apply(null,arguments)},Ct=e.dynCall_j=function(){return(Ct=e.dynCall_j=e.asm.pb).apply(null,arguments)},xt=e.dynCall_iiiiij=function(){return(xt=e.dynCall_iiiiij=e.asm.qb).apply(null,arguments)},Rt=e.dynCall_jii=function(){return(Rt=e.dynCall_jii=e.asm.rb).apply(null,arguments)},jt=e.dynCall_viiiiij=function(){return(jt=e.dynCall_viiiiij=e.asm.sb).apply(null,arguments)},kt=e.dynCall_vjji=function(){return(kt=e.dynCall_vjji=e.asm.tb).apply(null,arguments)},Dt=e.dynCall_viiijjjii=function(){return(Dt=e.dynCall_viiijjjii=e.asm.ub).apply(null,arguments)},Pt=e.dynCall_iij=function(){return(Pt=e.dynCall_iij=e.asm.vb).apply(null,arguments)},Ut=e.dynCall_ji=function(){return(Ut=e.dynCall_ji=e.asm.wb).apply(null,arguments)},Ft=e.dynCall_iiiiiij=function(){return(Ft=e.dynCall_iiiiiij=e.asm.xb).apply(null,arguments)},It=e.dynCall_iiij=function(){return(It=e.dynCall_iiij=e.asm.yb).apply(null,arguments)};function Wt(){function t(){if(!mt&&(mt=!0,e.calledRun=!0,!C)){if(Z(I),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();H.unshift(t)}Z(H)}}if(!(0<B)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)z();Z(F),0<B||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=j,e.stringToUTF8=function(t,e,n){return k(t,T,e,n)},e.lengthBytesUTF8=D,e.stackSave=At,e.stackRestore=St,e.stackAlloc=Tt,N=function t(){mt||Wt(),mt||(N=t)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Wt(),t.ready});t.exports=r},967:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(t,n,r,a)=>{if("object"==typeof t&&null!==t){if(r.has(t))throw new Error("Circular reference in options");r.add(t)}Object.entries(t).forEach((([t,i])=>{const o=n?n+t:t;if("object"==typeof i)(0,e.iterateExtraOptions)(i,o+".",r,a);else if("string"==typeof i||"number"==typeof i)a(o,i.toString());else{if("boolean"!=typeof i)throw new Error("Can\'t handle extra config type: "+typeof i);a(o,i?"1":"0")}}))}},586:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setRunOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);void 0===(null==t?void 0:t.terminate)&&(u.terminate=!1);let i=0;if(void 0!==(null==t?void 0:t.tag)&&(i=(0,a.allocWasmString)(t.tag,o)),n=e._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,i),0===n)throw new Error("Can\'t create run options");return void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddRunConfigEntry(n,i,u))throw new Error(`Can\'t set a run config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),o.forEach(e._free),t}}},919:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setSessionOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const c=(t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}})(u.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(u.executionMode="sequential");const s=(t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}})(u.executionMode);let l=0;if(void 0!==(null==t?void 0:t.logId)&&(l=(0,a.allocWasmString)(t.logId,o)),void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);if(void 0===(null==t?void 0:t.enableProfiling)&&(u.enableProfiling=!1),n=e._OrtCreateSessionOptions(c,!!u.enableCpuMemArena,!!u.enableMemPattern,s,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==t?void 0:t.executionProviders)&&((t,e,n)=>{for(const r of e){let e="string"==typeof r?r:r.name;switch(e){case"xnnpack":e="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${e}`)}const o=(0,a.allocWasmString)(e,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(t,o))throw new Error(`Can\'t append execution provider: ${e}`)}})(n,t.executionProviders,o),void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddSessionConfigEntry(n,i,u))throw new Error(`Can\'t set a session config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),o.forEach(e._free),t}}},983:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const r=n(361);e.allocWasmString=(t,e)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(t)+1,i=n._malloc(a);return n.stringToUTF8(t,i,a),e.push(i),i}},349:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const r=n(586),a=n(919),i=n(983),o=n(361);e.initOrt=(t,e)=>{const n=(0,o.getInstance)()._OrtInit(t,e);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;e.createSessionAllocate=t=>{const e=(0,o.getInstance)(),n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),[n,t.byteLength]},e.createSessionFinalize=(t,e)=>{const n=(0,o.getInstance)();let r=0,i=0,c=[];try{if([i,c]=(0,a.setSessionOptions)(e),r=n._OrtCreateSession(t[0],t[1],i),0===r)throw new Error("Can\'t create a session")}finally{n._free(t[0]),n._OrtReleaseSessionOptions(i),c.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],h=[],d=[];for(let t=0;t<s;t++){const e=n._OrtGetInputName(r,t);if(0===e)throw new Error("Can\'t get an input name");p.push(e),f.push(n.UTF8ToString(e))}for(let t=0;t<l;t++){const e=n._OrtGetOutputName(r,t);if(0===e)throw new Error("Can\'t get an output name");d.push(e),h.push(n.UTF8ToString(e))}return u.set(r,[r,p,d]),[r,f,h]},e.createSession=(t,n)=>{const r=(0,e.createSessionAllocate)(t);return(0,e.createSessionFinalize)(r,n)},e.releaseSession=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],i=n[2];a.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),u.delete(t)};const c=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},s=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},l=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};e.run=(t,e,n,a,f)=>{const p=(0,o.getInstance)(),h=u.get(t);if(!h)throw new Error("invalid session id");const d=h[0],y=h[1],b=h[2],m=e.length,g=a.length;let v=0,w=[];const _=[],O=[];try{[v,w]=(0,r.setRunOptions)(f);for(let t=0;t<m;t++){const e=n[t][0],r=n[t][1],a=n[t][2];let o,u;if(Array.isArray(a)){u=4*a.length,o=p._malloc(u),O.push(o);let t=o/4;for(let e=0;e<a.length;e++){if("string"!=typeof a[e])throw new TypeError(`tensor data at index ${e} is not a string`);p.HEAPU32[t++]=(0,i.allocWasmString)(a[e],O)}}else u=a.byteLength,o=p._malloc(u),O.push(o),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),o);const s=p.stackSave(),l=p.stackAlloc(4*r.length);try{let t=l/4;r.forEach((e=>p.HEAP32[t++]=e));const n=p._OrtCreateTensor(c(e),o,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");_.push(n)}finally{p.stackRestore(s)}}const t=p.stackSave(),o=p.stackAlloc(4*m),u=p.stackAlloc(4*m),h=p.stackAlloc(4*g),A=p.stackAlloc(4*g);try{let n=o/4,r=u/4,i=h/4,c=A/4;for(let t=0;t<m;t++)p.HEAPU32[n++]=_[t],p.HEAPU32[r++]=y[e[t]];for(let t=0;t<g;t++)p.HEAPU32[i++]=0,p.HEAPU32[c++]=b[a[t]];let f=p._OrtRun(d,u,o,m,A,g,h,v);const w=[];if(0===f)for(let t=0;t<g;t++){const e=p.HEAPU32[h/4+t],n=p.stackSave(),r=p.stackAlloc(16);let a,i=0;try{if(f=p._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let t=r/4;const o=p.HEAPU32[t++];i=p.HEAPU32[t++];const u=p.HEAPU32[t++],c=p.HEAPU32[t++],h=[];for(let t=0;t<c;t++)h.push(p.HEAPU32[u/4+t]);p._OrtFree(u);const d=0===h.length?1:h.reduce(((t,e)=>t*e));if(a=s(o),"string"===a){const t=[];let e=i/4;for(let n=0;n<d;n++){const r=p.HEAPU32[e++],a=n===d-1?void 0:p.HEAPU32[e]-r;t.push(p.UTF8ToString(r,a))}w.push([a,h,t])}else{const t=new(l(a))(d);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(p.HEAPU8.subarray(i,i+t.byteLength)),w.push([a,h,t])}}finally{p.stackRestore(n),"string"===a&&i&&p._free(i),p._OrtReleaseTensor(e)}}if(0===f)return w;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(t)}}finally{_.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),w.forEach(p._free)}},e.endProfiling=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=e._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");e._OrtFree(a)},e.extractTransferableBuffers=t=>{const e=[];for(const n of t){const t=n[2];!Array.isArray(t)&&t.buffer&&e.push(t.buffer)}return e}},361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const u=i(n(449)),c=o(n(932)),s=n(474);let l,f=!1,p=!1,h=!1;const d=(t,e)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async t=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(h)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const e=t.initTimeout,r=t.numThreads,a=t.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}})(),o=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(t){return!1}})(),y="string"==typeof t.wasmPaths?t.wasmPaths:void 0,b=d(!1,i),m=d(o,i),g="object"==typeof t.wasmPaths?t.wasmPaths[m]:void 0;let v=!1;const w=[];if(e>0&&w.push(new Promise((t=>{setTimeout((()=>{v=!0,t()}),e)}))),w.push(new Promise(((t,e)=>{const r=i?s:c.default,a={locateFile:(t,e)=>i&&t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):t===b?null!=g?g:(null!=y?y:e)+m:e+t};if(i)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const t=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([t],{type:"text/javascript"})}r(a).then((e=>{p=!1,f=!0,l=e,t()}),(t=>{p=!1,h=!0,e(t)}))}))),await Promise.race(w),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},e.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var t;!f||p||h||(p=!0,null===(t=l.PThread)||void 0===t||t.terminateAllThreads(),l=void 0,p=!1,f=!1,h=!0)}},154:t=>{"use strict";t.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";const t=n(349),e=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,e.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(t=>postMessage({type:"init-wasm",err:t})));break;case"init-ort":try{const{numThreads:e,loggingLevel:r}=n.data.in;(0,t.initOrt)(e,r),postMessage({type:"init-ort"})}catch(t){postMessage({type:"init-ort",err:t})}break;case"create_allocate":try{const{model:e}=n.data.in,r=(0,t.createSessionAllocate)(e);postMessage({type:"create_allocate",out:r})}catch(t){postMessage({type:"create_allocate",err:t})}break;case"create_finalize":try{const{modeldata:e,options:r}=n.data.in,a=(0,t.createSessionFinalize)(e,r);postMessage({type:"create_finalize",out:a})}catch(t){postMessage({type:"create_finalize",err:t})}break;case"create":try{const{model:e,options:r}=n.data.in,a=(0,t.createSession)(e,r);postMessage({type:"create",out:a})}catch(t){postMessage({type:"create",err:t})}break;case"release":try{const e=n.data.in;(0,t.releaseSession)(e),postMessage({type:"release"})}catch(t){postMessage({type:"release",err:t})}break;case"run":try{const{sessionId:e,inputIndices:r,inputs:a,outputIndices:i,options:o}=n.data.in,u=(0,t.run)(e,r,a,i,o);postMessage({type:"run",out:u},(0,t.extractTransferableBuffers)(u))}catch(t){postMessage({type:"run",err:t})}break;case"end-profiling":try{const e=n.data.in;(0,t.endProfiling)(e),postMessage({type:"end-profiling"})}catch(t){postMessage({type:"end-profiling",err:t})}}}})()})();\n',"Worker",void 0,void 0)}},477:function(t){"use strict";t.exports=function(t,e,n,r){var o=self||window;try{try{var i;try{i=new o.Blob([t])}catch(e){(i=new(o.BlobBuilder||o.WebKitBlobBuilder||o.MozBlobBuilder||o.MSBlobBuilder)).append(t),i=i.getBlob()}var a=o.URL||o.webkitURL,s=a.createObjectURL(i),u=new o[e](s,n);return a.revokeObjectURL(s),u}catch(r){return new o[e]("data:application/javascript,".concat(encodeURIComponent(t)),n)}}catch(t){if(!r)throw Error("Inline worker is not supported");return new o[e](r,n)}}},4154:function(t){"use strict";t.exports='"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\n'},1670:function(t){"use strict";t.exports=__WEBPACK_EXTERNAL_MODULE__1670__},7067:function(){},1296:function(){},1384:function(){},3993:function(){},908:function(){},6953:function(){},9925:function(){},2806:function(){},6449:function(){},2850:function(){},5381:function(){},5686:function(t,e,n){"use strict";n.r(e),n.d(e,{flatbuffers:function(){return r}});var r={};r.Offset,r.Table,r.SIZEOF_SHORT=2,r.SIZEOF_INT=4,r.FILE_IDENTIFIER_LENGTH=4,r.SIZE_PREFIX_LENGTH=4,r.Encoding={UTF8_BYTES:1,UTF16_STRING:2},r.int32=new Int32Array(2),r.float32=new Float32Array(r.int32.buffer),r.float64=new Float64Array(r.int32.buffer),r.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],r.Long=function(t,e){this.low=0|t,this.high=0|e},r.Long.create=function(t,e){return 0==t&&0==e?r.Long.ZERO:new r.Long(t,e)},r.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},r.Long.prototype.equals=function(t){return this.low==t.low&&this.high==t.high},r.Long.ZERO=new r.Long(0,0),r.Builder=function(t){if(t)e=t;else var e=1024;this.bb=r.ByteBuffer.allocate(e),this.space=e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.forceDefaults=function(t){this.force_defaults=t},r.Builder.prototype.dataBuffer=function(){return this.bb},r.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},r.Builder.prototype.prep=function(t,e){t>this.minalign&&(this.minalign=t);for(var n=1+~(this.bb.capacity()-this.space+e)&t-1;this.space<n+t+e;){var o=this.bb.capacity();this.bb=r.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-o}this.pad(n)},r.Builder.prototype.pad=function(t){for(var e=0;e<t;e++)this.bb.writeInt8(--this.space,0)},r.Builder.prototype.writeInt8=function(t){this.bb.writeInt8(this.space-=1,t)},r.Builder.prototype.writeInt16=function(t){this.bb.writeInt16(this.space-=2,t)},r.Builder.prototype.writeInt32=function(t){this.bb.writeInt32(this.space-=4,t)},r.Builder.prototype.writeInt64=function(t){this.bb.writeInt64(this.space-=8,t)},r.Builder.prototype.writeFloat32=function(t){this.bb.writeFloat32(this.space-=4,t)},r.Builder.prototype.writeFloat64=function(t){this.bb.writeFloat64(this.space-=8,t)},r.Builder.prototype.addInt8=function(t){this.prep(1,0),this.writeInt8(t)},r.Builder.prototype.addInt16=function(t){this.prep(2,0),this.writeInt16(t)},r.Builder.prototype.addInt32=function(t){this.prep(4,0),this.writeInt32(t)},r.Builder.prototype.addInt64=function(t){this.prep(8,0),this.writeInt64(t)},r.Builder.prototype.addFloat32=function(t){this.prep(4,0),this.writeFloat32(t)},r.Builder.prototype.addFloat64=function(t){this.prep(8,0),this.writeFloat64(t)},r.Builder.prototype.addFieldInt8=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt8(e),this.slot(t))},r.Builder.prototype.addFieldInt16=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt16(e),this.slot(t))},r.Builder.prototype.addFieldInt32=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt32(e),this.slot(t))},r.Builder.prototype.addFieldInt64=function(t,e,n){!this.force_defaults&&e.equals(n)||(this.addInt64(e),this.slot(t))},r.Builder.prototype.addFieldFloat32=function(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat32(e),this.slot(t))},r.Builder.prototype.addFieldFloat64=function(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat64(e),this.slot(t))},r.Builder.prototype.addFieldOffset=function(t,e,n){(this.force_defaults||e!=n)&&(this.addOffset(e),this.slot(t))},r.Builder.prototype.addFieldStruct=function(t,e,n){e!=n&&(this.nested(e),this.slot(t))},r.Builder.prototype.nested=function(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},r.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},r.Builder.prototype.slot=function(t){this.vtable[t]=this.offset()},r.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},r.Builder.growByteBuffer=function(t){var e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=e<<1,o=r.ByteBuffer.allocate(n);return o.setPosition(n-e),o.bytes().set(t.bytes(),n-e),o},r.Builder.prototype.addOffset=function(t){this.prep(r.SIZEOF_INT,0),this.writeInt32(this.offset()-t+r.SIZEOF_INT)},r.Builder.prototype.startObject=function(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(var e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()},r.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var t=this.offset(),e=this.vtable_in_use-1;e>=0&&0==this.vtable[e];e--);for(var n=e+1;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);var o=(n+2)*r.SIZEOF_SHORT;this.addInt16(o);var i=0,a=this.space;t:for(e=0;e<this.vtables.length;e++){var s=this.bb.capacity()-this.vtables[e];if(o==this.bb.readInt16(s)){for(var u=r.SIZEOF_SHORT;u<o;u+=r.SIZEOF_SHORT)if(this.bb.readInt16(a+u)!=this.bb.readInt16(s+u))continue t;i=this.vtables[e];break}}return i?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,i-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t},r.Builder.prototype.finish=function(t,e,n){var o=n?r.SIZE_PREFIX_LENGTH:0;if(e){var i=e;if(this.prep(this.minalign,r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH+o),i.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var a=r.FILE_IDENTIFIER_LENGTH-1;a>=0;a--)this.writeInt8(i.charCodeAt(a))}this.prep(this.minalign,r.SIZEOF_INT+o),this.addOffset(t),o&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},r.Builder.prototype.finishSizePrefixed=function(t,e){this.finish(t,e,!0)},r.Builder.prototype.requiredField=function(t,e){var n=this.bb.capacity()-t,r=n-this.bb.readInt32(n);if(0==this.bb.readInt16(r+e))throw new Error("FlatBuffers: field "+e+" must be set")},r.Builder.prototype.startVector=function(t,e,n){this.notNested(),this.vector_num_elems=e,this.prep(r.SIZEOF_INT,t*e),this.prep(n,t*e)},r.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},r.Builder.prototype.createString=function(t){if(t instanceof Uint8Array)var e=t;else{e=[];for(var n=0;n<t.length;){var r,o=t.charCodeAt(n++);(r=o<55296||o>=56320?o:(o<<10)+t.charCodeAt(n++)+-56613888)<128?e.push(r):(r<2048?e.push(r>>6&31|192):(r<65536?e.push(r>>12&15|224):e.push(r>>18&7|240,r>>12&63|128),e.push(r>>6&63|128)),e.push(63&r|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),n=0;for(var i=this.space,a=this.bb.bytes();n<e.length;n++)a[i++]=e[n];return this.endVector()},r.Builder.prototype.createLong=function(t,e){return r.Long.create(t,e)},r.ByteBuffer=function(t){this.bytes_=t,this.position_=0},r.ByteBuffer.allocate=function(t){return new r.ByteBuffer(new Uint8Array(t))},r.ByteBuffer.prototype.clear=function(){this.position_=0},r.ByteBuffer.prototype.bytes=function(){return this.bytes_},r.ByteBuffer.prototype.position=function(){return this.position_},r.ByteBuffer.prototype.setPosition=function(t){this.position_=t},r.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},r.ByteBuffer.prototype.readInt8=function(t){return this.readUint8(t)<<24>>24},r.ByteBuffer.prototype.readUint8=function(t){return this.bytes_[t]},r.ByteBuffer.prototype.readInt16=function(t){return this.readUint16(t)<<16>>16},r.ByteBuffer.prototype.readUint16=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8},r.ByteBuffer.prototype.readInt32=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24},r.ByteBuffer.prototype.readUint32=function(t){return this.readInt32(t)>>>0},r.ByteBuffer.prototype.readInt64=function(t){return new r.Long(this.readInt32(t),this.readInt32(t+4))},r.ByteBuffer.prototype.readUint64=function(t){return new r.Long(this.readUint32(t),this.readUint32(t+4))},r.ByteBuffer.prototype.readFloat32=function(t){return r.int32[0]=this.readInt32(t),r.float32[0]},r.ByteBuffer.prototype.readFloat64=function(t){return r.int32[r.isLittleEndian?0:1]=this.readInt32(t),r.int32[r.isLittleEndian?1:0]=this.readInt32(t+4),r.float64[0]},r.ByteBuffer.prototype.writeInt8=function(t,e){this.bytes_[t]=e},r.ByteBuffer.prototype.writeUint8=function(t,e){this.bytes_[t]=e},r.ByteBuffer.prototype.writeInt16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8},r.ByteBuffer.prototype.writeUint16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8},r.ByteBuffer.prototype.writeInt32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24},r.ByteBuffer.prototype.writeUint32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24},r.ByteBuffer.prototype.writeInt64=function(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)},r.ByteBuffer.prototype.writeUint64=function(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)},r.ByteBuffer.prototype.writeFloat32=function(t,e){r.float32[0]=e,this.writeInt32(t,r.int32[0])},r.ByteBuffer.prototype.writeFloat64=function(t,e){r.float64[0]=e,this.writeInt32(t,r.int32[r.isLittleEndian?0:1]),this.writeInt32(t+4,r.int32[r.isLittleEndian?1:0])},r.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var t="",e=0;e<r.FILE_IDENTIFIER_LENGTH;e++)t+=String.fromCharCode(this.readInt8(this.position_+r.SIZEOF_INT+e));return t},r.ByteBuffer.prototype.__offset=function(t,e){var n=t-this.readInt32(t);return e<this.readInt16(n)?this.readInt16(n+e):0},r.ByteBuffer.prototype.__union=function(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t},r.ByteBuffer.prototype.__string=function(t,e){t+=this.readInt32(t);var n=this.readInt32(t),o="",i=0;if(t+=r.SIZEOF_INT,e===r.Encoding.UTF8_BYTES)return this.bytes_.subarray(t,t+n);for(;i<n;){var a,s=this.readUint8(t+i++);if(s<192)a=s;else{var u=this.readUint8(t+i++);if(s<224)a=(31&s)<<6|63&u;else{var c=this.readUint8(t+i++);a=s<240?(15&s)<<12|(63&u)<<6|63&c:(7&s)<<18|(63&u)<<12|(63&c)<<6|63&this.readUint8(t+i++)}}a<65536?o+=String.fromCharCode(a):(a-=65536,o+=String.fromCharCode(55296+(a>>10),56320+(1023&a)))}return o},r.ByteBuffer.prototype.__indirect=function(t){return t+this.readInt32(t)},r.ByteBuffer.prototype.__vector=function(t){return t+this.readInt32(t)+r.SIZEOF_INT},r.ByteBuffer.prototype.__vector_len=function(t){return this.readInt32(t+this.readInt32(t))},r.ByteBuffer.prototype.__has_identifier=function(t){if(t.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var e=0;e<r.FILE_IDENTIFIER_LENGTH;e++)if(t.charCodeAt(e)!=this.readInt8(this.position_+r.SIZEOF_INT+e))return!1;return!0},r.ByteBuffer.prototype.createLong=function(t,e){return r.Long.create(t,e)}}},__webpack_module_cache__={};function __nested_webpack_require_1002501__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__nested_webpack_require_1002501__),n.exports}__nested_webpack_require_1002501__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __nested_webpack_require_1002501__.d(e,{a:e}),e},__nested_webpack_require_1002501__.d=function(t,e){for(var n in e)__nested_webpack_require_1002501__.o(e,n)&&!__nested_webpack_require_1002501__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__nested_webpack_require_1002501__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__nested_webpack_require_1002501__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__nested_webpack_require_1002501__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __nested_webpack_exports__=__nested_webpack_require_1002501__(6018);return __nested_webpack_exports__}()},module.exports=e(__webpack_require__(8755))},3897:function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},5372:function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},3405:function(t,e,n){var r=n(3897);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},6115:function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},7156:function(t){function e(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,o)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=t.apply(n,r);function s(t){e(a,o,i,s,u,"next",t)}function u(t){e(a,o,i,s,u,"throw",t)}s(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},6690:function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},9728:function(t,e,n){var r=n(4062);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}t.exports=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},4704:function(t,e,n){var r=n(6116);t.exports=function(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}},t.exports.__esModule=!0,t.exports.default=t.exports},6389:function(t,e,n){var r=n(3808),o=n(9617),i=n(4993);t.exports=function(t){var e=o();return function(){var n,o=r(t);if(e){var a=r(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return i(this,n)}},t.exports.__esModule=!0,t.exports.default=t.exports},3808:function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},1655:function(t,e,n){var r=n(6015);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},9617:function(t){t.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},9498:function(t){t.exports=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},8872:function(t){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(l){c=!0,o=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports},2218:function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},2281:function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},4993:function(t,e,n){var r=n(8698).default,o=n(6115);t.exports=function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},7061:function(t,e,n){var r=n(8698).default;function o(){"use strict";t.exports=o=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(D){f=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,i=Object.create(o.prototype),s=new E(r||[]);return a(i,"_invoke",{value:k(t,n,s)}),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=d;var h={};function g(){}function b(){}function v(){}var y={};f(y,u,(function(){return this}));var m=Object.getPrototypeOf,_=m&&m(m(I([])));_&&_!==n&&i.call(_,u)&&(y=_);var w=v.prototype=g.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,a,s,u){var c=p(t[o],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}})}function k(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function I(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return b.prototype=v,a(w,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:b,configurable:!0}),b.displayName=f(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,f(t,l,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},x(T.prototype),f(T.prototype,c,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),f(w,l,"Generator"),f(w,u,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},6015:function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},7424:function(t,e,n){var r=n(5372),o=n(8872),i=n(6116),a=n(2218);t.exports=function(t,e){return r(t)||o(t,e)||i(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},861:function(t,e,n){var r=n(3405),o=n(9498),i=n(6116),a=n(2281);t.exports=function(t){return r(t)||o(t)||i(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},5036:function(t,e,n){var r=n(8698).default;t.exports=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},4062:function(t,e,n){var r=n(8698).default,o=n(5036);t.exports=function(t){var e=o(t,"string");return"symbol"===r(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},8698:function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},6116:function(t,e,n){var r=n(3897);t.exports=function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},907:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{Z:function(){return r}})},5861:function(t,e,n){"use strict";function r(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function s(t){r(a,o,i,s,u,"next",t)}function u(t){r(a,o,i,s,u,"throw",t)}s(void 0)}))}}n.d(e,{Z:function(){return o}})},5671:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return r}})},3144:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(9142);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(0,r.Z)(o.key),o)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}},7762:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(181);function o(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(0,r.Z)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},4165:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(1002);function o(){o=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(P){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new A(r||[]);return i(a,"_invoke",{value:T(t,n,s)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(P){return{type:"throw",arg:P}}}t.wrap=f;var p={};function h(){}function g(){}function b(){}var v={};l(v,s,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(E([])));m&&m!==e&&n.call(m,s)&&(v=m);var _=b.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,u){var c=d(t[i],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,u)}),(function(t){o("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,u)}))}u(c.arg)}var a;i(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function E(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return g.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},w(x.prototype),l(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(_),l(_,c,"Generator"),l(_,s,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}},9142:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(1002);function o(t){var e=function(t,e){if("object"!==(0,r.Z)(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==(0,r.Z)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===(0,r.Z)(e)?e:String(e)}},1002:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,{Z:function(){return r}})},181:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(907);function o(t,e){if(t){if("string"===typeof t)return(0,r.Z)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(t,e):void 0}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=function(t,e){for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};!function(){"use strict";var t=__webpack_require__(7762);var e=__webpack_require__(181);function n(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(Xt){c=!0,o=Xt}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,n)||(0,e.Z)(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var r=__webpack_require__(9142);function o(t,e,n){return(e=(0,r.Z)(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function a(t,e,n){return a=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&i(o,n.prototype),o},a.apply(null,arguments)}var s=__webpack_require__(907);function u(t){return function(t){if(Array.isArray(t))return(0,s.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,e.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=Symbol("Comlink.proxy"),l=Symbol("Comlink.endpoint"),f=Symbol("Comlink.releaseProxy"),d=Symbol("Comlink.thrown"),p=function(t){return"object"===typeof t&&null!==t||"function"===typeof t},h=new Map([["proxy",{canHandle:function(t){return p(t)&&t[c]},serialize:function(t){var e=new MessageChannel,n=e.port1,r=e.port2;return g(t,n),[r,[r]]},deserialize:function(t){return t.start(),y(t,[],e);var e}}],["throw",{canHandle:function(t){return p(t)&&d in t},serialize:function(t){var e=t.value;return[e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]]},deserialize:function(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;e.addEventListener("message",(function r(i){if(i&&i.data){var s,l=Object.assign({path:[]},i.data),f=l.id,p=l.type,h=l.path,v=(i.data.argumentList||[]).map(x);try{var y=h.slice(0,-1).reduce((function(t,e){return t[e]}),t),m=h.reduce((function(t,e){return t[e]}),t);switch(p){case"GET":s=m;break;case"SET":y[h.slice(-1)[0]]=x(i.data.value),s=!0;break;case"APPLY":s=m.apply(y,v);break;case"CONSTRUCT":var T;s=function(t){return Object.assign(t,o({},c,!0))}(a(m,u(v)));break;case"ENDPOINT":var k=new MessageChannel,S=k.port1,O=k.port2;g(t,O),s=function(t,e){return _.set(t,e),t}(S,[S]);break;case"RELEASE":s=void 0;break;default:return}}catch(T){s=o({value:T},d,0)}Promise.resolve(s).catch((function(t){return o({value:t},d,0)})).then((function(t){var o=n(w(t),2),i=o[0],a=o[1];e.postMessage(Object.assign(Object.assign({},i),{id:f}),a),"RELEASE"===p&&(e.removeEventListener("message",r),b(e))}))}})),e.start&&e.start()}function b(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function v(t){if(t)throw new Error("Proxy has been released and is not useable")}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=!1,o=new Proxy(arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},{get:function(n,i){if(v(r),i===f)return function(){return T(t,{type:"RELEASE",path:e.map((function(t){return t.toString()}))}).then((function(){b(t),r=!0}))};if("then"===i){if(0===e.length)return{then:function(){return o}};var a=T(t,{type:"GET",path:e.map((function(t){return t.toString()}))}).then(x);return a.then.bind(a)}return y(t,[].concat(u(e),[i]))},set:function(o,i,a){v(r);var s=n(w(a),2),c=s[0],l=s[1];return T(t,{type:"SET",path:[].concat(u(e),[i]).map((function(t){return t.toString()})),value:c},l).then(x)},apply:function(o,i,a){v(r);var s=e[e.length-1];if(s===l)return T(t,{type:"ENDPOINT"}).then(x);if("bind"===s)return y(t,e.slice(0,-1));var u=n(m(a),2),c=u[0],f=u[1];return T(t,{type:"APPLY",path:e.map((function(t){return t.toString()})),argumentList:c},f).then(x)},construct:function(o,i){v(r);var a=n(m(i),2),s=a[0],u=a[1];return T(t,{type:"CONSTRUCT",path:e.map((function(t){return t.toString()})),argumentList:s},u).then(x)}});return o}function m(t){var e,n=t.map(w);return[n.map((function(t){return t[0]})),(e=n.map((function(t){return t[1]})),Array.prototype.concat.apply([],e))]}var _=new WeakMap;function w(e){var r,o=(0,t.Z)(h);try{for(o.s();!(r=o.n()).done;){var i=n(r.value,2),a=i[0],s=i[1];if(s.canHandle(e)){var u=n(s.serialize(e),2);return[{type:"HANDLER",name:a,value:u[0]},u[1]]}}}catch(Xt){o.e(Xt)}finally{o.f()}return[{type:"RAW",value:e},_.get(e)||[]]}function x(t){switch(t.type){case"HANDLER":return h.get(t.name).deserialize(t.value);case"RAW":return t.value}}function T(t,e,n){return new Promise((function(r){var o=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");t.addEventListener("message",(function e(n){n.data&&n.data.id&&n.data.id===o&&(t.removeEventListener("message",e),r(n.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:o},e),n)}))}var k=__webpack_require__(3144),S=__webpack_require__(5671),O=__webpack_require__(4165),A=__webpack_require__(5861),E=__webpack_require__(1842),I=__webpack_require__.n(E),P=__webpack_require__(4996);function D(t){for(var e=t.length;--e>=0;)t[e]=0}var C=256,R=286,N=30,F=15,L=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),j=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),M=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),B=new Array(576);D(B);var z=new Array(60);D(z);var V=new Array(512);D(V);var G=new Array(256);D(G);var H=new Array(29);D(H);var W,q,Z,X=new Array(N);function Y(t,e,n,r,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=t&&t.length}function K(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}D(X);var J=function(t){return t<256?V[t]:V[256+(t>>>7)]},$=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},Q=function(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,$(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},tt=function(t,e,n){Q(t,n[2*e],n[2*e+1])},et=function(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},nt=function(t,e,n){var r,o,i=new Array(16),a=0;for(r=1;r<=F;r++)a=a+n[r-1]<<1,i[r]=a;for(o=0;o<=e;o++){var s=t[2*o+1];0!==s&&(t[2*o]=et(i[s]++,s))}},rt=function(t){var e;for(e=0;e<R;e++)t.dyn_ltree[2*e]=0;for(e=0;e<N;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},ot=function(t){t.bi_valid>8?$(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},it=function(t,e,n,r){var o=2*e,i=2*n;return t[o]<t[i]||t[o]===t[i]&&r[e]<=r[n]},at=function(t,e,n){for(var r=t.heap[n],o=n<<1;o<=t.heap_len&&(o<t.heap_len&&it(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!it(e,r,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=r},st=function(t,e,n){var r,o,i,a,s=0;if(0!==t.sym_next)do{r=255&t.pending_buf[t.sym_buf+s++],r+=(255&t.pending_buf[t.sym_buf+s++])<<8,o=t.pending_buf[t.sym_buf+s++],0===r?tt(t,o,e):(i=G[o],tt(t,i+C+1,e),0!==(a=L[i])&&(o-=H[i],Q(t,o,a)),r--,i=J(r),tt(t,i,n),0!==(a=j[i])&&(r-=X[i],Q(t,r,a)))}while(s<t.sym_next);tt(t,256,e)},ut=function(t,e){var n,r,o,i=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<u;n++)0!==i[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):i[2*n+1]=0;for(;t.heap_len<2;)i[2*(o=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[o]=0,t.opt_len--,s&&(t.static_len-=a[2*o+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)at(t,i,n);o=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],at(t,i,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,i[2*o]=i[2*n]+i[2*r],t.depth[o]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,i[2*n+1]=i[2*r+1]=o,t.heap[1]=o++,at(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,o,i,a,s,u=e.dyn_tree,c=e.max_code,l=e.stat_desc.static_tree,f=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,h=e.stat_desc.max_length,g=0;for(i=0;i<=F;i++)t.bl_count[i]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(i=u[2*u[2*(r=t.heap[n])+1]+1]+1)>h&&(i=h,g++),u[2*r+1]=i,r>c||(t.bl_count[i]++,a=0,r>=p&&(a=d[r-p]),s=u[2*r],t.opt_len+=s*(i+a),f&&(t.static_len+=s*(l[2*r+1]+a)));if(0!==g){do{for(i=h-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[h]--,g-=2}while(g>0);for(i=h;0!==i;i--)for(r=t.bl_count[i];0!==r;)(o=t.heap[--n])>c||(u[2*o+1]!==i&&(t.opt_len+=(i-u[2*o+1])*u[2*o],u[2*o+1]=i),r--)}}(t,e),nt(i,c,t.bl_count)},ct=function(t,e,n){var r,o,i=-1,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=e[2*(r+1)+1],++s<u&&o===a||(s<c?t.bl_tree[2*o]+=s:0!==o?(o!==i&&t.bl_tree[2*o]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,i=o,0===a?(u=138,c=3):o===a?(u=6,c=3):(u=7,c=4))},lt=function(t,e,n){var r,o,i=-1,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),r=0;r<=n;r++)if(o=a,a=e[2*(r+1)+1],!(++s<u&&o===a)){if(s<c)do{tt(t,o,t.bl_tree)}while(0!==--s);else 0!==o?(o!==i&&(tt(t,o,t.bl_tree),s--),tt(t,16,t.bl_tree),Q(t,s-3,2)):s<=10?(tt(t,17,t.bl_tree),Q(t,s-3,3)):(tt(t,18,t.bl_tree),Q(t,s-11,7));s=0,i=o,0===a?(u=138,c=3):o===a?(u=6,c=3):(u=7,c=4)}},ft=!1,dt=function(t,e,n,r){Q(t,0+(r?1:0),3),ot(t),$(t,n),$(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},pt=function(t,e,n,r){var o,i,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<C;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),ut(t,t.l_desc),ut(t,t.d_desc),a=function(t){var e;for(ct(t,t.dyn_ltree,t.l_desc.max_code),ct(t,t.dyn_dtree,t.d_desc.max_code),ut(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*U[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),o=t.opt_len+3+7>>>3,(i=t.static_len+3+7>>>3)<=o&&(o=i)):o=i=n+5,n+4<=o&&-1!==e?dt(t,e,n,r):4===t.strategy||i===o?(Q(t,2+(r?1:0),3),st(t,B,z)):(Q(t,4+(r?1:0),3),function(t,e,n,r){var o;for(Q(t,e-257,5),Q(t,n-1,5),Q(t,r-4,4),o=0;o<r;o++)Q(t,t.bl_tree[2*U[o]+1],3);lt(t,t.dyn_ltree,e-1),lt(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),st(t,t.dyn_ltree,t.dyn_dtree)),rt(t),r&&ot(t)},ht={_tr_init:function(t){ft||(!function(){var t,e,n,r,o,i=new Array(16);for(n=0,r=0;r<28;r++)for(H[r]=n,t=0;t<1<<L[r];t++)G[n++]=r;for(G[n-1]=r,o=0,r=0;r<16;r++)for(X[r]=o,t=0;t<1<<j[r];t++)V[o++]=r;for(o>>=7;r<N;r++)for(X[r]=o<<7,t=0;t<1<<j[r]-7;t++)V[256+o++]=r;for(e=0;e<=F;e++)i[e]=0;for(t=0;t<=143;)B[2*t+1]=8,t++,i[8]++;for(;t<=255;)B[2*t+1]=9,t++,i[9]++;for(;t<=279;)B[2*t+1]=7,t++,i[7]++;for(;t<=287;)B[2*t+1]=8,t++,i[8]++;for(nt(B,287,i),t=0;t<N;t++)z[2*t+1]=5,z[2*t]=et(t,5);W=new Y(B,L,257,R,F),q=new Y(z,j,0,N,F),Z=new Y(new Array(0),M,0,19,7)}(),ft=!0),t.l_desc=new K(t.dyn_ltree,W),t.d_desc=new K(t.dyn_dtree,q),t.bl_desc=new K(t.bl_tree,Z),t.bi_buf=0,t.bi_valid=0,rt(t)},_tr_stored_block:dt,_tr_flush_block:pt,_tr_tally:function(t,e,n){return t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(G[n]+C+1)]++,t.dyn_dtree[2*J(e)]++),t.sym_next===t.sym_end},_tr_align:function(t){Q(t,2,3),tt(t,256,B),function(t){16===t.bi_valid?($(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},gt=function(t,e,n,r){for(var o=65535&t|0,i=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{i=i+(o=o+e[r++]|0)|0}while(--a);o%=65521,i%=65521}return o|i<<16|0},bt=new Uint32Array(function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}()),vt=function(t,e,n,r){var o=bt,i=r+n;t^=-1;for(var a=r;a<i;a++)t=t>>>8^o[255&(t^e[a])];return-1^t},yt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},mt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},_t=ht._tr_init,wt=ht._tr_stored_block,xt=ht._tr_flush_block,Tt=ht._tr_tally,kt=ht._tr_align,St=mt.Z_NO_FLUSH,Ot=mt.Z_PARTIAL_FLUSH,At=mt.Z_FULL_FLUSH,Et=mt.Z_FINISH,It=mt.Z_BLOCK,Pt=mt.Z_OK,Dt=mt.Z_STREAM_END,Ct=mt.Z_STREAM_ERROR,Rt=mt.Z_DATA_ERROR,Nt=mt.Z_BUF_ERROR,Ft=mt.Z_DEFAULT_COMPRESSION,Lt=mt.Z_FILTERED,jt=mt.Z_HUFFMAN_ONLY,Mt=mt.Z_RLE,Ut=mt.Z_FIXED,Bt=mt.Z_DEFAULT_STRATEGY,zt=mt.Z_UNKNOWN,Vt=mt.Z_DEFLATED,Gt=258,Ht=262,Wt=42,qt=113,Zt=666,Xt=function(t,e){return t.msg=yt[e],e},Yt=function(t){return 2*t-(t>4?9:0)},Kt=function(t){for(var e=t.length;--e>=0;)t[e]=0},Jt=function(t){var e,n,r,o=t.w_size;r=e=t.hash_size;do{n=t.head[--r],t.head[r]=n>=o?n-o:0}while(--e);r=e=o;do{n=t.prev[--r],t.prev[r]=n>=o?n-o:0}while(--e)},$t=function(t,e,n){return(e<<t.hash_shift^n)&t.hash_mask},Qt=function(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},te=function(t,e){xt(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Qt(t.strm)},ee=function(t,e){t.pending_buf[t.pending++]=e},ne=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},re=function(t,e,n,r){var o=t.avail_in;return o>r&&(o=r),0===o?0:(t.avail_in-=o,e.set(t.input.subarray(t.next_in,t.next_in+o),n),1===t.state.wrap?t.adler=gt(t.adler,e,o,n):2===t.state.wrap&&(t.adler=vt(t.adler,e,o,n)),t.next_in+=o,t.total_in+=o,o)},oe=function(t,e){var n,r,o=t.max_chain_length,i=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-Ht?t.strstart-(t.w_size-Ht):0,c=t.window,l=t.w_mask,f=t.prev,d=t.strstart+Gt,p=c[i+a-1],h=c[i+a];t.prev_length>=t.good_match&&(o>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+a]===h&&c[n+a-1]===p&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<d);if(r=Gt-(d-i),i=d-Gt,r>a){if(t.match_start=e,a=r,r>=s)break;p=c[i+a-1],h=c[i+a]}}}while((e=f[e&l])>u&&0!==--o);return a<=t.lookahead?a:t.lookahead},ie=function(t){var e,n,r,o=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-Ht)&&(t.window.set(t.window.subarray(o,o+o-n),0),t.match_start-=o,t.strstart-=o,t.block_start-=o,t.insert>t.strstart&&(t.insert=t.strstart),Jt(t),n+=o),0===t.strm.avail_in)break;if(e=re(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=e,t.lookahead+t.insert>=3)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=$t(t,t.ins_h,t.window[r+1]);t.insert&&(t.ins_h=$t(t,t.ins_h,t.window[r+3-1]),t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Ht&&0!==t.strm.avail_in)},ae=function(t,e){var n,r,o,i=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,a=0,s=t.strm.avail_in;do{if(n=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o)break;if(o=t.strm.avail_out-o,n>(r=t.strstart-t.block_start)+t.strm.avail_in&&(n=r+t.strm.avail_in),n>o&&(n=o),n<i&&(0===n&&e!==Et||e===St||n!==r+t.strm.avail_in))break;a=e===Et&&n===r+t.strm.avail_in?1:0,wt(t,0,0,a),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Qt(t.strm),r&&(r>n&&(r=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,n-=r),n&&(re(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===a);return(s-=t.strm.avail_in)&&(s>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=s&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-s,t.strm.next_in),t.strstart),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a?4:e!==St&&e!==Et&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(re(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,i=(o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o)>t.w_size?t.w_size:o,((r=t.strstart-t.block_start)>=i||(r||e===Et)&&e!==St&&0===t.strm.avail_in&&r<=o)&&(n=r>o?o:r,a=e===Et&&0===t.strm.avail_in&&n===r?1:0,wt(t,t.block_start,n,a),t.block_start+=n,Qt(t.strm)),a?3:1)},se=function(t,e){for(var n,r;;){if(t.lookahead<Ht){if(ie(t),t.lookahead<Ht&&e===St)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=$t(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-Ht&&(t.match_length=oe(t,n)),t.match_length>=3)if(r=Tt(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=$t(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=$t(t,t.ins_h,t.window[t.strstart+1]);else r=Tt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(te(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Et?(te(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(te(t,!1),0===t.strm.avail_out)?1:2},ue=function(t,e){for(var n,r,o;;){if(t.lookahead<Ht){if(ie(t),t.lookahead<Ht&&e===St)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=$t(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Ht&&(t.match_length=oe(t,n),t.match_length<=5&&(t.strategy===Lt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-3,r=Tt(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=o&&(t.ins_h=$t(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(te(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=Tt(t,0,t.window[t.strstart-1]))&&te(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Tt(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Et?(te(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(te(t,!1),0===t.strm.avail_out)?1:2};function ce(t,e,n,r,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=o}var le=[new ce(0,0,0,0,ae),new ce(4,4,8,4,se),new ce(4,5,16,8,se),new ce(4,6,32,32,se),new ce(4,4,16,16,ue),new ce(8,16,32,32,ue),new ce(8,16,128,128,ue),new ce(8,32,128,256,ue),new ce(32,128,258,1024,ue),new ce(32,258,258,4096,ue)];function fe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Vt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Kt(this.dyn_ltree),Kt(this.dyn_dtree),Kt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Kt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Kt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var de=function(t){if(!t)return 1;var e=t.state;return!e||e.strm!==t||e.status!==Wt&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==qt&&e.status!==Zt?1:0},pe=function(t){if(de(t))return Xt(t,Ct);t.total_in=t.total_out=0,t.data_type=zt;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?Wt:qt,t.adler=2===e.wrap?0:1,e.last_flush=-2,_t(e),Pt},he=function(t){var e,n=pe(t);return n===Pt&&((e=t.state).window_size=2*e.w_size,Kt(e.head),e.max_lazy_match=le[e.level].max_lazy,e.good_match=le[e.level].good_length,e.nice_match=le[e.level].nice_length,e.max_chain_length=le[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n},ge=function(t,e,n,r,o,i){if(!t)return Ct;var a=1;if(e===Ft&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>9||n!==Vt||r<8||r>15||e<0||e>9||i<0||i>Ut||8===r&&1!==a)return Xt(t,Ct);8===r&&(r=9);var s=new fe;return t.state=s,s.strm=t,s.status=Wt,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=e,s.strategy=i,s.method=n,he(t)},be=function(t,e){var n=e.length;if(de(t))return Ct;var r=t.state,o=r.wrap;if(2===o||1===o&&r.status!==Wt||r.lookahead)return Ct;if(1===o&&(t.adler=gt(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){0===o&&(Kt(r.head),r.strstart=0,r.block_start=0,r.insert=0);var i=new Uint8Array(r.w_size);i.set(e.subarray(n-r.w_size,n),0),e=i,n=r.w_size}var a=t.avail_in,s=t.next_in,u=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,ie(r);r.lookahead>=3;){var c=r.strstart,l=r.lookahead-2;do{r.ins_h=$t(r,r.ins_h,r.window[c+3-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++}while(--l);r.strstart=c,r.lookahead=2,ie(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=s,t.input=u,t.avail_in=a,r.wrap=o,Pt},ve={deflateInit:function(t,e){return ge(t,e,Vt,15,8,Bt)},deflateInit2:ge,deflateReset:he,deflateResetKeep:pe,deflateSetHeader:function(t,e){return de(t)||2!==t.state.wrap?Ct:(t.state.gzhead=e,Pt)},deflate:function(t,e){if(de(t)||e>It||e<0)return t?Xt(t,Ct):Ct;var n=t.state;if(!t.output||0!==t.avail_in&&!t.input||n.status===Zt&&e!==Et)return Xt(t,0===t.avail_out?Nt:Ct);var r=n.last_flush;if(n.last_flush=e,0!==n.pending){if(Qt(t),0===t.avail_out)return n.last_flush=-1,Pt}else if(0===t.avail_in&&Yt(e)<=Yt(r)&&e!==Et)return Xt(t,Nt);if(n.status===Zt&&0!==t.avail_in)return Xt(t,Nt);if(n.status===Wt&&0===n.wrap&&(n.status=qt),n.status===Wt){var o=Vt+(n.w_bits-8<<4)<<8;if(o|=(n.strategy>=jt||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(o|=32),ne(n,o+=31-o%31),0!==n.strstart&&(ne(n,t.adler>>>16),ne(n,65535&t.adler)),t.adler=1,n.status=qt,Qt(t),0!==n.pending)return n.last_flush=-1,Pt}if(57===n.status)if(t.adler=0,ee(n,31),ee(n,139),ee(n,8),n.gzhead)ee(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ee(n,255&n.gzhead.time),ee(n,n.gzhead.time>>8&255),ee(n,n.gzhead.time>>16&255),ee(n,n.gzhead.time>>24&255),ee(n,9===n.level?2:n.strategy>=jt||n.level<2?4:0),ee(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(ee(n,255&n.gzhead.extra.length),ee(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=vt(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(ee(n,0),ee(n,0),ee(n,0),ee(n,0),ee(n,0),ee(n,9===n.level?2:n.strategy>=jt||n.level<2?4:0),ee(n,3),n.status=qt,Qt(t),0!==n.pending)return n.last_flush=-1,Pt;if(69===n.status){if(n.gzhead.extra){for(var i=n.pending,a=(65535&n.gzhead.extra.length)-n.gzindex;n.pending+a>n.pending_buf_size;){var s=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=vt(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=s,Qt(t),0!==n.pending)return n.last_flush=-1,Pt;i=0,a-=s}var u=new Uint8Array(n.gzhead.extra);n.pending_buf.set(u.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending+=a,n.gzhead.hcrc&&n.pending>i&&(t.adler=vt(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){var c,l=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>l&&(t.adler=vt(t.adler,n.pending_buf,n.pending-l,l)),Qt(t),0!==n.pending)return n.last_flush=-1,Pt;l=0}c=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,ee(n,c)}while(0!==c);n.gzhead.hcrc&&n.pending>l&&(t.adler=vt(t.adler,n.pending_buf,n.pending-l,l)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){var f,d=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>d&&(t.adler=vt(t.adler,n.pending_buf,n.pending-d,d)),Qt(t),0!==n.pending)return n.last_flush=-1,Pt;d=0}f=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,ee(n,f)}while(0!==f);n.gzhead.hcrc&&n.pending>d&&(t.adler=vt(t.adler,n.pending_buf,n.pending-d,d))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Qt(t),0!==n.pending))return n.last_flush=-1,Pt;ee(n,255&t.adler),ee(n,t.adler>>8&255),t.adler=0}if(n.status=qt,Qt(t),0!==n.pending)return n.last_flush=-1,Pt}if(0!==t.avail_in||0!==n.lookahead||e!==St&&n.status!==Zt){var p=0===n.level?ae(n,e):n.strategy===jt?function(t,e){for(var n;;){if(0===t.lookahead&&(ie(t),0===t.lookahead)){if(e===St)return 1;break}if(t.match_length=0,n=Tt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(te(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Et?(te(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(te(t,!1),0===t.strm.avail_out)?1:2}(n,e):n.strategy===Mt?function(t,e){for(var n,r,o,i,a=t.window;;){if(t.lookahead<=Gt){if(ie(t),t.lookahead<=Gt&&e===St)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=a[o=t.strstart-1])===a[++o]&&r===a[++o]&&r===a[++o]){i=t.strstart+Gt;do{}while(r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&o<i);t.match_length=Gt-(i-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=Tt(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Tt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(te(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Et?(te(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(te(t,!1),0===t.strm.avail_out)?1:2}(n,e):le[n.level].func(n,e);if(3!==p&&4!==p||(n.status=Zt),1===p||3===p)return 0===t.avail_out&&(n.last_flush=-1),Pt;if(2===p&&(e===Ot?kt(n):e!==It&&(wt(n,0,0,!1),e===At&&(Kt(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Qt(t),0===t.avail_out))return n.last_flush=-1,Pt}return e!==Et?Pt:n.wrap<=0?Dt:(2===n.wrap?(ee(n,255&t.adler),ee(n,t.adler>>8&255),ee(n,t.adler>>16&255),ee(n,t.adler>>24&255),ee(n,255&t.total_in),ee(n,t.total_in>>8&255),ee(n,t.total_in>>16&255),ee(n,t.total_in>>24&255)):(ne(n,t.adler>>>16),ne(n,65535&t.adler)),Qt(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Pt:Dt)},deflateEnd:function(t){if(de(t))return Ct;var e=t.state.status;return t.state=null,e===qt?Xt(t,Rt):Pt},deflateSetDictionary:be,deflateInfo:"pako deflate (from Nodeca project)"},ye=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},me={assign:function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)ye(n,r)&&(t[r]=n[r])}}return t},flattenChunks:function(t){for(var e=0,n=0,r=t.length;n<r;n++)e+=t[n].length;for(var o=new Uint8Array(e),i=0,a=0,s=t.length;i<s;i++){var u=t[i];o.set(u,a),a+=u.length}return o}},_e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Un){_e=!1}for(var we=new Uint8Array(256),xe=0;xe<256;xe++)we[xe]=xe>=252?6:xe>=248?5:xe>=240?4:xe>=224?3:xe>=192?2:1;we[254]=we[254]=1;var Te={string2buf:function(t){if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var e,n,r,o,i,a=t.length,s=0;for(o=0;o<a;o++)55296===(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320===(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(s),i=0,o=0;i<s;o++)55296===(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320===(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|63&n):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|63&n):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|63&n);return e},buf2string:function(t,e){var n,r,o=e||t.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));var i=new Array(2*o);for(r=0,n=0;n<o;){var a=t[n++];if(a<128)i[r++]=a;else{var s=we[a];if(s>4)i[r++]=65533,n+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&n<o;)a=a<<6|63&t[n++],s--;s>1?i[r++]=65533:a<65536?i[r++]=a:(a-=65536,i[r++]=55296|a>>10&1023,i[r++]=56320|1023&a)}}}return function(t,e){if(e<65534&&t.subarray&&_e)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}(i,r)},utf8border:function(t,e){(e=e||t.length)>t.length&&(e=t.length);for(var n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0||0===n?e:n+we[t[n]]>e?n:e}};var ke=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Se=Object.prototype.toString,Oe=mt.Z_NO_FLUSH,Ae=mt.Z_SYNC_FLUSH,Ee=mt.Z_FULL_FLUSH,Ie=mt.Z_FINISH,Pe=mt.Z_OK,De=mt.Z_STREAM_END,Ce=mt.Z_DEFAULT_COMPRESSION,Re=mt.Z_DEFAULT_STRATEGY,Ne=mt.Z_DEFLATED;function Fe(t){this.options=me.assign({level:Ce,method:Ne,chunkSize:16384,windowBits:15,memLevel:8,strategy:Re},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ke,this.strm.avail_out=0;var n=ve.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Pe)throw new Error(yt[n]);if(e.header&&ve.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"===typeof e.dictionary?Te.string2buf(e.dictionary):"[object ArrayBuffer]"===Se.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=ve.deflateSetDictionary(this.strm,r))!==Pe)throw new Error(yt[n]);this._dict_set=!0}}Fe.prototype.push=function(t,e){var n,r,o=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(r=e===~~e?e:!0===e?Ie:Oe,"string"===typeof t?o.input=Te.string2buf(t):"[object ArrayBuffer]"===Se.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;;)if(0===o.avail_out&&(o.output=new Uint8Array(i),o.next_out=0,o.avail_out=i),(r===Ae||r===Ee)&&o.avail_out<=6)this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;else{if((n=ve.deflate(o,r))===De)return o.next_out>0&&this.onData(o.output.subarray(0,o.next_out)),n=ve.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Pe;if(0!==o.avail_out){if(r>0&&o.next_out>0)this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;else if(0===o.avail_in)break}else this.onData(o.output)}return!0},Fe.prototype.onData=function(t){this.chunks.push(t)},Fe.prototype.onEnd=function(t){t===Pe&&(this.result=me.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Le=16209,je=function(t,e){var n,r,o,i,a,s,u,c,l,f,d,p,h,g,b,v,y,m,_,w,x,T,k,S,O=t.state;n=t.next_in,k=t.input,r=n+(t.avail_in-5),o=t.next_out,S=t.output,i=o-(e-t.avail_out),a=o+(t.avail_out-257),s=O.dmax,u=O.wsize,c=O.whave,l=O.wnext,f=O.window,d=O.hold,p=O.bits,h=O.lencode,g=O.distcode,b=(1<<O.lenbits)-1,v=(1<<O.distbits)-1;t:do{p<15&&(d+=k[n++]<<p,p+=8,d+=k[n++]<<p,p+=8),y=h[d&b];e:for(;;){if(d>>>=m=y>>>24,p-=m,0===(m=y>>>16&255))S[o++]=65535&y;else{if(!(16&m)){if(0===(64&m)){y=h[(65535&y)+(d&(1<<m)-1)];continue e}if(32&m){O.mode=16191;break t}t.msg="invalid literal/length code",O.mode=Le;break t}_=65535&y,(m&=15)&&(p<m&&(d+=k[n++]<<p,p+=8),_+=d&(1<<m)-1,d>>>=m,p-=m),p<15&&(d+=k[n++]<<p,p+=8,d+=k[n++]<<p,p+=8),y=g[d&v];n:for(;;){if(d>>>=m=y>>>24,p-=m,!(16&(m=y>>>16&255))){if(0===(64&m)){y=g[(65535&y)+(d&(1<<m)-1)];continue n}t.msg="invalid distance code",O.mode=Le;break t}if(w=65535&y,p<(m&=15)&&(d+=k[n++]<<p,(p+=8)<m&&(d+=k[n++]<<p,p+=8)),(w+=d&(1<<m)-1)>s){t.msg="invalid distance too far back",O.mode=Le;break t}if(d>>>=m,p-=m,w>(m=o-i)){if((m=w-m)>c&&O.sane){t.msg="invalid distance too far back",O.mode=Le;break t}if(x=0,T=f,0===l){if(x+=u-m,m<_){_-=m;do{S[o++]=f[x++]}while(--m);x=o-w,T=S}}else if(l<m){if(x+=u+l-m,(m-=l)<_){_-=m;do{S[o++]=f[x++]}while(--m);if(x=0,l<_){_-=m=l;do{S[o++]=f[x++]}while(--m);x=o-w,T=S}}}else if(x+=l-m,m<_){_-=m;do{S[o++]=f[x++]}while(--m);x=o-w,T=S}for(;_>2;)S[o++]=T[x++],S[o++]=T[x++],S[o++]=T[x++],_-=3;_&&(S[o++]=T[x++],_>1&&(S[o++]=T[x++]))}else{x=o-w;do{S[o++]=S[x++],S[o++]=S[x++],S[o++]=S[x++],_-=3}while(_>2);_&&(S[o++]=S[x++],_>1&&(S[o++]=S[x++]))}break}}break}}while(n<r&&o<a);n-=_=p>>3,d&=(1<<(p-=_<<3))-1,t.next_in=n,t.next_out=o,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=o<a?a-o+257:257-(o-a),O.hold=d,O.bits=p},Me=15,Ue=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Be=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ze=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ve=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ge=function(t,e,n,r,o,i,a,s){var u,c,l,f,d,p,h,g,b,v=s.bits,y=0,m=0,_=0,w=0,x=0,T=0,k=0,S=0,O=0,A=0,E=null,I=new Uint16Array(16),P=new Uint16Array(16),D=null;for(y=0;y<=Me;y++)I[y]=0;for(m=0;m<r;m++)I[e[n+m]]++;for(x=v,w=Me;w>=1&&0===I[w];w--);if(x>w&&(x=w),0===w)return o[i++]=20971520,o[i++]=20971520,s.bits=1,0;for(_=1;_<w&&0===I[_];_++);for(x<_&&(x=_),S=1,y=1;y<=Me;y++)if(S<<=1,(S-=I[y])<0)return-1;if(S>0&&(0===t||1!==w))return-1;for(P[1]=0,y=1;y<Me;y++)P[y+1]=P[y]+I[y];for(m=0;m<r;m++)0!==e[n+m]&&(a[P[e[n+m]]++]=m);if(0===t?(E=D=a,p=20):1===t?(E=Ue,D=Be,p=257):(E=ze,D=Ve,p=0),A=0,m=0,y=_,d=i,T=x,k=0,l=-1,f=(O=1<<x)-1,1===t&&O>852||2===t&&O>592)return 1;for(;;){h=y-k,a[m]+1<p?(g=0,b=a[m]):a[m]>=p?(g=D[a[m]-p],b=E[a[m]-p]):(g=96,b=0),u=1<<y-k,_=c=1<<T;do{o[d+(A>>k)+(c-=u)]=h<<24|g<<16|b|0}while(0!==c);for(u=1<<y-1;A&u;)u>>=1;if(0!==u?(A&=u-1,A+=u):A=0,m++,0===--I[y]){if(y===w)break;y=e[n+a[m]]}if(y>x&&(A&f)!==l){for(0===k&&(k=x),d+=_,S=1<<(T=y-k);T+k<w&&!((S-=I[T+k])<=0);)T++,S<<=1;if(O+=1<<T,1===t&&O>852||2===t&&O>592)return 1;o[l=A&f]=x<<24|T<<16|d-i|0}}return 0!==A&&(o[d+A]=y-k<<24|64<<16|0),s.bits=x,0},He=mt.Z_FINISH,We=mt.Z_BLOCK,qe=mt.Z_TREES,Ze=mt.Z_OK,Xe=mt.Z_STREAM_END,Ye=mt.Z_NEED_DICT,Ke=mt.Z_STREAM_ERROR,Je=mt.Z_DATA_ERROR,$e=mt.Z_MEM_ERROR,Qe=mt.Z_BUF_ERROR,tn=mt.Z_DEFLATED,en=16180,nn=16190,rn=16191,on=16192,an=16194,sn=16199,un=16200,cn=16206,ln=16209,fn=function(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)};function dn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var pn,hn,gn=function(t){if(!t)return 1;var e=t.state;return!e||e.strm!==t||e.mode<en||e.mode>16211?1:0},bn=function(t){if(gn(t))return Ke;var e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=en,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Ze},vn=function(t){if(gn(t))return Ke;var e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,bn(t)},yn=function(t,e){var n;if(gn(t))return Ke;var r=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Ke:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,vn(t))},mn=function(t,e){if(!t)return Ke;var n=new dn;t.state=n,n.strm=t,n.window=null,n.mode=en;var r=yn(t,e);return r!==Ze&&(t.state=null),r},_n=!0,wn=function(t){if(_n){pn=new Int32Array(512),hn=new Int32Array(32);for(var e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ge(1,t.lens,0,288,pn,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ge(2,t.lens,0,32,hn,0,t.work,{bits:5}),_n=!1}t.lencode=pn,t.lenbits=9,t.distcode=hn,t.distbits=5},xn=function(t,e,n,r){var o,i=t.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):((o=i.wsize-i.wnext)>r&&(o=r),i.window.set(e.subarray(n-r,n-r+o),i.wnext),(r-=o)?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0},Tn={inflateReset:vn,inflateReset2:yn,inflateResetKeep:bn,inflateInit:function(t){return mn(t,15)},inflateInit2:mn,inflate:function(t,e){var n,r,o,i,a,s,u,c,l,f,d,p,h,g,b,v,y,m,_,w,x,T,k,S,O=0,A=new Uint8Array(4),E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(gn(t)||!t.output||!t.input&&0!==t.avail_in)return Ke;(n=t.state).mode===rn&&(n.mode=on),a=t.next_out,o=t.output,u=t.avail_out,i=t.next_in,r=t.input,s=t.avail_in,c=n.hold,l=n.bits,f=s,d=u,T=Ze;t:for(;;)switch(n.mode){case en:if(0===n.wrap){n.mode=on;break}for(;l<16;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,A[0]=255&c,A[1]=c>>>8&255,n.check=vt(n.check,A,2,0),c=0,l=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=ln;break}if((15&c)!==tn){t.msg="unknown compression method",n.mode=ln;break}if(l-=4,x=8+(15&(c>>>=4)),0===n.wbits&&(n.wbits=x),x>15||x>n.wbits){t.msg="invalid window size",n.mode=ln;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&c?16189:rn,c=0,l=0;break;case 16181:for(;l<16;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==tn){t.msg="unknown compression method",n.mode=ln;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=ln;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(A[0]=255&c,A[1]=c>>>8&255,n.check=vt(n.check,A,2,0)),c=0,l=0,n.mode=16182;case 16182:for(;l<32;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(A[0]=255&c,A[1]=c>>>8&255,A[2]=c>>>16&255,A[3]=c>>>24&255,n.check=vt(n.check,A,4,0)),c=0,l=0,n.mode=16183;case 16183:for(;l<16;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(A[0]=255&c,A[1]=c>>>8&255,n.check=vt(n.check,A,2,0)),c=0,l=0,n.mode=16184;case 16184:if(1024&n.flags){for(;l<16;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(A[0]=255&c,A[1]=c>>>8&255,n.check=vt(n.check,A,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&((p=n.length)>s&&(p=s),p&&(n.head&&(x=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+p),x)),512&n.flags&&4&n.wrap&&(n.check=vt(n.check,r,p,i)),s-=p,i+=p,n.length-=p),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===s)break t;p=0;do{x=r[i+p++],n.head&&x&&n.length<65536&&(n.head.name+=String.fromCharCode(x))}while(x&&p<s);if(512&n.flags&&4&n.wrap&&(n.check=vt(n.check,r,p,i)),s-=p,i+=p,x)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===s)break t;p=0;do{x=r[i+p++],n.head&&x&&n.length<65536&&(n.head.comment+=String.fromCharCode(x))}while(x&&p<s);if(512&n.flags&&4&n.wrap&&(n.check=vt(n.check,r,p,i)),s-=p,i+=p,x)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;l<16;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(4&n.wrap&&c!==(65535&n.check)){t.msg="header crc mismatch",n.mode=ln;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=rn;break;case 16189:for(;l<32;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}t.adler=n.check=fn(c),c=0,l=0,n.mode=nn;case nn:if(0===n.havedict)return t.next_out=a,t.avail_out=u,t.next_in=i,t.avail_in=s,n.hold=c,n.bits=l,Ye;t.adler=n.check=1,n.mode=rn;case rn:if(e===We||e===qe)break t;case on:if(n.last){c>>>=7&l,l-=7&l,n.mode=cn;break}for(;l<3;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}switch(n.last=1&c,l-=1,3&(c>>>=1)){case 0:n.mode=16193;break;case 1:if(wn(n),n.mode=sn,e===qe){c>>>=2,l-=2;break t}break;case 2:n.mode=16196;break;case 3:t.msg="invalid block type",n.mode=ln}c>>>=2,l-=2;break;case 16193:for(c>>>=7&l,l-=7&l;l<32;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if((65535&c)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ln;break}if(n.length=65535&c,c=0,l=0,n.mode=an,e===qe)break t;case an:n.mode=16195;case 16195:if(p=n.length){if(p>s&&(p=s),p>u&&(p=u),0===p)break t;o.set(r.subarray(i,i+p),a),s-=p,i+=p,u-=p,a+=p,n.length-=p;break}n.mode=rn;break;case 16196:for(;l<14;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ln;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}n.lens[E[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[E[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,k={bits:n.lenbits},T=Ge(0,n.lens,0,19,n.lencode,0,n.work,k),n.lenbits=k.bits,T){t.msg="invalid code lengths set",n.mode=ln;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;v=(O=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,y=65535&O,!((b=O>>>24)<=l);){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(y<16)c>>>=b,l-=b,n.lens[n.have++]=y;else{if(16===y){for(S=b+2;l<S;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(c>>>=b,l-=b,0===n.have){t.msg="invalid bit length repeat",n.mode=ln;break}x=n.lens[n.have-1],p=3+(3&c),c>>>=2,l-=2}else if(17===y){for(S=b+3;l<S;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}l-=b,x=0,p=3+(7&(c>>>=b)),c>>>=3,l-=3}else{for(S=b+7;l<S;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}l-=b,x=0,p=11+(127&(c>>>=b)),c>>>=7,l-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ln;break}for(;p--;)n.lens[n.have++]=x}}if(n.mode===ln)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=ln;break}if(n.lenbits=9,k={bits:n.lenbits},T=Ge(1,n.lens,0,n.nlen,n.lencode,0,n.work,k),n.lenbits=k.bits,T){t.msg="invalid literal/lengths set",n.mode=ln;break}if(n.distbits=6,n.distcode=n.distdyn,k={bits:n.distbits},T=Ge(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,k),n.distbits=k.bits,T){t.msg="invalid distances set",n.mode=ln;break}if(n.mode=sn,e===qe)break t;case sn:n.mode=un;case un:if(s>=6&&u>=258){t.next_out=a,t.avail_out=u,t.next_in=i,t.avail_in=s,n.hold=c,n.bits=l,je(t,d),a=t.next_out,o=t.output,u=t.avail_out,i=t.next_in,r=t.input,s=t.avail_in,c=n.hold,l=n.bits,n.mode===rn&&(n.back=-1);break}for(n.back=0;v=(O=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,y=65535&O,!((b=O>>>24)<=l);){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(v&&0===(240&v)){for(m=b,_=v,w=y;v=(O=n.lencode[w+((c&(1<<m+_)-1)>>m)])>>>16&255,y=65535&O,!(m+(b=O>>>24)<=l);){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}c>>>=m,l-=m,n.back+=m}if(c>>>=b,l-=b,n.back+=b,n.length=y,0===v){n.mode=16205;break}if(32&v){n.back=-1,n.mode=rn;break}if(64&v){t.msg="invalid literal/length code",n.mode=ln;break}n.extra=15&v,n.mode=16201;case 16201:if(n.extra){for(S=n.extra;l<S;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;v=(O=n.distcode[c&(1<<n.distbits)-1])>>>16&255,y=65535&O,!((b=O>>>24)<=l);){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(0===(240&v)){for(m=b,_=v,w=y;v=(O=n.distcode[w+((c&(1<<m+_)-1)>>m)])>>>16&255,y=65535&O,!(m+(b=O>>>24)<=l);){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}c>>>=m,l-=m,n.back+=m}if(c>>>=b,l-=b,n.back+=b,64&v){t.msg="invalid distance code",n.mode=ln;break}n.offset=y,n.extra=15&v,n.mode=16203;case 16203:if(n.extra){for(S=n.extra;l<S;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ln;break}n.mode=16204;case 16204:if(0===u)break t;if(p=d-u,n.offset>p){if((p=n.offset-p)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ln;break}p>n.wnext?(p-=n.wnext,h=n.wsize-p):h=n.wnext-p,p>n.length&&(p=n.length),g=n.window}else g=o,h=a-n.offset,p=n.length;p>u&&(p=u),u-=p,n.length-=p;do{o[a++]=g[h++]}while(--p);0===n.length&&(n.mode=un);break;case 16205:if(0===u)break t;o[a++]=n.length,u--,n.mode=un;break;case cn:if(n.wrap){for(;l<32;){if(0===s)break t;s--,c|=r[i++]<<l,l+=8}if(d-=u,t.total_out+=d,n.total+=d,4&n.wrap&&d&&(t.adler=n.check=n.flags?vt(n.check,o,d,a-d):gt(n.check,o,d,a-d)),d=u,4&n.wrap&&(n.flags?c:fn(c))!==n.check){t.msg="incorrect data check",n.mode=ln;break}c=0,l=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(4&n.wrap&&c!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=ln;break}c=0,l=0}n.mode=16208;case 16208:T=Xe;break t;case ln:T=Je;break t;case 16210:return $e;default:return Ke}return t.next_out=a,t.avail_out=u,t.next_in=i,t.avail_in=s,n.hold=c,n.bits=l,(n.wsize||d!==t.avail_out&&n.mode<ln&&(n.mode<cn||e!==He))&&xn(t,t.output,t.next_out,d-t.avail_out),f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,n.total+=d,4&n.wrap&&d&&(t.adler=n.check=n.flags?vt(n.check,o,d,t.next_out-d):gt(n.check,o,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===rn?128:0)+(n.mode===sn||n.mode===an?256:0),(0===f&&0===d||e===He)&&T===Ze&&(T=Qe),T},inflateEnd:function(t){if(gn(t))return Ke;var e=t.state;return e.window&&(e.window=null),t.state=null,Ze},inflateGetHeader:function(t,e){if(gn(t))return Ke;var n=t.state;return 0===(2&n.wrap)?Ke:(n.head=e,e.done=!1,Ze)},inflateSetDictionary:function(t,e){var n,r=e.length;return gn(t)||0!==(n=t.state).wrap&&n.mode!==nn?Ke:n.mode===nn&&gt(1,e,r,0)!==n.check?Je:xn(t,e,r,r)?(n.mode=16210,$e):(n.havedict=1,Ze)},inflateInfo:"pako inflate (from Nodeca project)"};var kn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Sn=Object.prototype.toString,On=mt.Z_NO_FLUSH,An=mt.Z_FINISH,En=mt.Z_OK,In=mt.Z_STREAM_END,Pn=mt.Z_NEED_DICT,Dn=mt.Z_STREAM_ERROR,Cn=mt.Z_DATA_ERROR,Rn=mt.Z_MEM_ERROR;function Nn(t){this.options=me.assign({chunkSize:65536,windowBits:15,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ke,this.strm.avail_out=0;var n=Tn.inflateInit2(this.strm,e.windowBits);if(n!==En)throw new Error(yt[n]);if(this.header=new kn,Tn.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"===typeof e.dictionary?e.dictionary=Te.string2buf(e.dictionary):"[object ArrayBuffer]"===Sn.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Tn.inflateSetDictionary(this.strm,e.dictionary))!==En))throw new Error(yt[n])}function Fn(t,e){var n=new Nn(e);if(n.push(t),n.err)throw n.msg||yt[n.err];return n.result}Nn.prototype.push=function(t,e){var n,r,o,i=this.strm,a=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(r=e===~~e?e:!0===e?An:On,"[object ArrayBuffer]"===Sn.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(a),i.next_out=0,i.avail_out=a),(n=Tn.inflate(i,r))===Pn&&s&&((n=Tn.inflateSetDictionary(i,s))===En?n=Tn.inflate(i,r):n===Cn&&(n=Pn));i.avail_in>0&&n===In&&i.state.wrap>0&&0!==t[i.next_in];)Tn.inflateReset(i),n=Tn.inflate(i,r);switch(n){case Dn:case Cn:case Pn:case Rn:return this.onEnd(n),this.ended=!0,!1}if(o=i.avail_out,i.next_out&&(0===i.avail_out||n===In))if("string"===this.options.to){var u=Te.utf8border(i.output,i.next_out),c=i.next_out-u,l=Te.buf2string(i.output,u);i.next_out=c,i.avail_out=a-c,c&&i.output.set(i.output.subarray(u,u+c),0),this.onData(l)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(n!==En||0!==o){if(n===In)return n=Tn.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},Nn.prototype.onData=function(t){this.chunks.push(t)},Nn.prototype.onEnd=function(t){t===En&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=me.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Ln={Inflate:Nn,inflate:Fn,inflateRaw:function(t,e){return(e=e||{}).raw=!0,Fn(t,e)},ungzip:Fn,constants:mt},jn=Ln.inflate,Mn=(0,k.Z)((function e(r){var o=this;(0,S.Z)(this,e),this.init=function(){var t=(0,A.Z)((0,O.Z)().mark((function t(e){var n,r,i;return(0,O.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P.env.wasm.numThreads=o.params.numThreads,P.env.wasm.wasmPaths=o.params.wasmRoot,n=new ArrayBuffer(0),t.prev=3,t.next=6,I().getItem(e);case 6:if(null===(r=t.sent)){t.next=11;break}n=r,t.next=14;break;case 11:return t.next=13,o.fetchData(e);case 13:n=t.sent;case 14:t.next=23;break;case 16:return t.prev=16,t.t0=t.catch(3),console.error("unable to load the data from cache"),console.error(t.t0),t.next=22,o.fetchData(e);case 22:n=t.sent;case 23:return t.next=25,P.InferenceSession.create(n,{executionProviders:o.params.executionProviders,graphOptimizationLevel:"all",executionMode:"parallel"});case 25:i=t.sent,o.ortSession=i;case 27:case"end":return t.stop()}}),t,null,[[3,16]])})));return function(e){return t.apply(this,arguments)}}(),this.fetchData=function(){var t=(0,A.Z)((0,O.Z)().mark((function t(e){var n,r;return(0,O.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.split(".").pop(),t.next=3,fetch(e).then((function(t){return t.arrayBuffer()}));case 3:if(r=t.sent,"gz"===n&&(r=jn(r)),!(r.byteLength>o.cacheSize)){t.next=9;break}console.warn("the model is too large to be cached"),t.next=12;break;case 9:return t.next=11,o.validateCache(r);case 11:I().setItem(e,r);case 12:return t.abrupt("return",r);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.validateCache=function(){var e=(0,A.Z)((0,O.Z)().mark((function e(r){var i,a,s,u,c,l,f,d,p,h,g;return(0,O.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I().keys();case 3:i=e.sent,a=0,s=new Map,u=(0,t.Z)(i),e.prev=7,u.s();case 9:if((c=u.n()).done){e.next=18;break}return l=c.value,e.next=13,I().getItem(l);case 13:f=e.sent,a+=f.byteLength,s.set(l,f.byteLength);case 16:e.next=9;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(7),u.e(e.t0);case 23:return e.prev=23,u.f(),e.finish(23);case 26:d=a+r.byteLength;case 27:if(!(d>o.cacheSize)){e.next=35;break}return p=n(s.entries().next().value,2),h=p[0],g=p[1],s.delete(h),d-=g,e.next=33,I().removeItem(h);case 33:e.next=27;break;case 35:e.next=41;break;case 37:e.prev=37,e.t1=e.catch(0),console.error("unable to validate the cache"),console.error(e.t1);case 41:case"end":return e.stop()}}),e,null,[[0,37],[7,20,23,26]])})));return function(t){return e.apply(this,arguments)}}(),this.run=function(){var t=(0,A.Z)((0,O.Z)().mark((function t(e){return(0,O.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.ortSession){t.next=2;break}throw Error("the session is not initialized. Call `init()` method first.");case 2:return t.next=4,o.ortSession.run(e);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.inputNames=function(){if(!o.ortSession)throw Error("the session is not initialized. Call `init()` method first.");return o.ortSession.inputNames},this.outputNames=function(){if(!o.ortSession)throw Error("the session is not initialized. Call `init()` method first.");return o.ortSession.outputNames},this.params=r;var i=1e6*r.cacheSizeMB;I().config({name:"Web-AI",version:1,driver:I().INDEXEDDB,storeName:"model_storage"}),this.cacheSize=i}));"undefined"!==typeof self&&g(Mn)}()})();
//# sourceMappingURL=777.ded6555d.chunk.js.map